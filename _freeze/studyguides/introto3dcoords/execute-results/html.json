{
  "hash": "cad45898019427c694eaf0387bfd0edf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Introduction to 3D Polar Coordinate Systems: Spherical & Cylindrical Coordinates\"\nauthor: Anja Colombi\nabstract-title: Summary\nabstract: In three-dimensional space, points can be described using various coordinate systems. While Cartesian coordinates $(x, y, z)$ are common, polar-based systems like spherical and cylindrical coordinates provide alternative ways to represent positions – particularly when dealing with problems involving symmetry.\ncategories:\n  - Graphing\nimage: FiguresPNG/introtoquadratics-image.png\ndraft: true\n---\n\n\n\n\n*Before reading this guide, it is recommended that you read [Guide: Introduction to polar coordinates](introtopolarcoords.qmd).*\n\n\n::: {.content-visible when-format=\"html\"}\n\n```{=html}\n<table><tr><td style=\"vertical-align: middle\"><strong>Narration of study guide:</strong>&nbsp;&nbsp;</td><td><audio controls><source src=\"./Narrations/introto3dcoords.mp3\" type=\"audio/mpeg\">Your browser does not support the audio element.</audio></tr></table>\n```\n\n:::\n\n---\n\n# What are cylindrical coordinates?\nCylindrical coordinates can be seen as an **extension** of 2D polar coordinates by adding rotation around the z-axis. They are particularly useful for problems with rotation symmetry about an axis – for example cylinders, pipes, or beams.\nEach point in 3D space is described by:\n\n• $r$ - the radial distance from the z-axis\n\n• $θ$ - the angle from the x-axis (in the xy-plane)\n\n• $z$ - the height along the z-axis\n\nThe following diagram shows an example of how to visualise this.\n<div style=\"width: 100%; max-width: 700px; margin: 20px auto;\">\n  <canvas id=\"cylindricalCanvas\" width=\"700\" height=\"600\"></canvas>\n</div>\n\n<script>\nconst canvas = document.getElementById('cylindricalCanvas');\nconst ctx = canvas.getContext('2d');\nconst width = canvas.width;\nconst height = canvas.height;\n\n// Set origin\nconst originX = width / 2;\nconst originY = height * 0.55;\n\n// Clear canvas\nctx.clearRect(0, 0, width, height);\n\n// Parameters\nconst cylinderRadius = 140;\nconst cylinderHeight = 220;\nconst r = 90;\nconst theta = Math.PI / 5; // angle\nconst z = 120;\n\n// Calculate 3D to 2D projection (isometric-style)\nfunction project3D(x, y, z) {\n  const px = originX + x - 0.4 * y;\n  const py = originY - z + 0.25 * y;\n  return [px, py];\n}\n\n// Draw cylinder\nfunction drawCylinder() {\n  // Bottom ellipse\n  ctx.beginPath();\n  ctx.ellipse(originX, originY, cylinderRadius, 35, 0, 0, 2 * Math.PI);\n  ctx.fillStyle = 'rgba(220, 220, 220, 0.6)';\n  ctx.fill();\n  ctx.strokeStyle = '#444';\n  ctx.lineWidth = 2;\n  ctx.stroke();\n  \n  // Left side\n  ctx.beginPath();\n  ctx.moveTo(originX - cylinderRadius, originY);\n  ctx.lineTo(originX - cylinderRadius, originY - cylinderHeight);\n  ctx.strokeStyle = '#444';\n  ctx.lineWidth = 2;\n  ctx.stroke();\n  \n  // Right side\n  ctx.beginPath();\n  ctx.moveTo(originX + cylinderRadius, originY);\n  ctx.lineTo(originX + cylinderRadius, originY - cylinderHeight);\n  ctx.stroke();\n  \n  // Top ellipse\n  ctx.beginPath();\n  ctx.ellipse(originX, originY - cylinderHeight, cylinderRadius, 35, 0, 0, 2 * Math.PI);\n  ctx.fillStyle = 'rgba(230, 230, 230, 0.7)';\n  ctx.fill();\n  ctx.strokeStyle = '#444';\n  ctx.stroke();\n  \n  // Grid on bottom\n  ctx.strokeStyle = 'rgba(150, 150, 150, 0.3)';\n  ctx.lineWidth = 1;\n  for (let angle = 0; angle < 360; angle += 30) {\n    const rad = angle * Math.PI / 180;\n    ctx.beginPath();\n    ctx.moveTo(originX, originY);\n    ctx.lineTo(originX + cylinderRadius * Math.cos(rad), \n               originY + 35 * Math.sin(rad));\n    ctx.stroke();\n  }\n}\n\n// Draw axes\nfunction drawAxes() {\n  // Z-axis (vertical, blue)\n  ctx.beginPath();\n  ctx.moveTo(originX, originY + 40);\n  ctx.lineTo(originX, originY - cylinderHeight - 80);\n  ctx.strokeStyle = '#0066ff';\n  ctx.lineWidth = 3;\n  ctx.stroke();\n  \n  // Z-axis arrow\n  ctx.beginPath();\n  ctx.moveTo(originX, originY - cylinderHeight - 80);\n  ctx.lineTo(originX - 6, originY - cylinderHeight - 68);\n  ctx.lineTo(originX + 6, originY - cylinderHeight - 68);\n  ctx.closePath();\n  ctx.fillStyle = '#0066ff';\n  ctx.fill();\n  \n  ctx.font = 'bold 20px Arial';\n  ctx.fillText('z', originX + 12, originY - cylinderHeight - 75);\n  \n  // Y-axis (red) - horizontal\n  ctx.beginPath();\n  ctx.moveTo(originX - 60, originY);\n  ctx.lineTo(originX + 280, originY);\n  ctx.strokeStyle = '#ff0000';\n  ctx.lineWidth = 3;\n  ctx.stroke();\n  \n  // Y-axis arrow\n  ctx.beginPath();\n  ctx.moveTo(originX + 280, originY);\n  ctx.lineTo(originX + 268, originY - 6);\n  ctx.lineTo(originX + 268, originY + 6);\n  ctx.closePath();\n  ctx.fillStyle = '#ff0000';\n  ctx.fill();\n  \n  ctx.fillStyle = '#ff0000';\n  ctx.fillText('y', originX + 290, originY + 8);\n  \n  // X-axis (green, going back-left)\n  const [xEndX, xEndY] = project3D(0, 250, 0);\n  ctx.beginPath();\n  ctx.moveTo(originX, originY);\n  ctx.lineTo(xEndX, xEndY);\n  ctx.strokeStyle = '#00aa00';\n  ctx.lineWidth = 3;\n  ctx.stroke();\n  \n  // X-axis arrow\n  ctx.beginPath();\n  ctx.moveTo(xEndX, xEndY);\n  ctx.lineTo(xEndX + 8, xEndY - 8);\n  ctx.lineTo(xEndX + 12, xEndY - 2);\n  ctx.closePath();\n  ctx.fillStyle = '#00aa00';\n  ctx.fill();\n  \n  ctx.fillStyle = '#00aa00';\n  ctx.fillText('x', xEndX - 5, xEndY + 20);\n}\n\n// Draw point and cylindrical coordinates\nfunction drawPoint() {\n  const x = r * Math.cos(theta);\n  const y = r * Math.sin(theta);\n  \n  // Point at (x, y, 0) - base projection\n  const [baseX, baseY] = project3D(x, y, 0);\n  \n  // Point at (x, y, z) - actual point\n  const [pointX, pointY] = project3D(x, y, z);\n  \n  // Draw r vector (thick black line, from origin to base)\n  ctx.beginPath();\n  ctx.moveTo(originX, originY);\n  ctx.lineTo(baseX, baseY);\n  ctx.strokeStyle = '#000000';\n  ctx.lineWidth = 4;\n  ctx.stroke();\n  \n  ctx.fillStyle = '#000000';\n  ctx.font = 'bold 16px Arial';\n  ctx.fillText('r', originX + (baseX - originX) / 2 - 10, originY + (baseY - originY) / 2 + 20);\n  \n  // Calculate angles\n  // X-axis direction in canvas coordinates (going back-left)\n  const [xEndX, xEndY] = project3D(0, 250, 0);\n  const xAxisAngle = Math.atan2(xEndY - originY, xEndX - originX);\n  \n  // R vector angle\n  const rAngle = Math.atan2(baseY - originY, baseX - originX);\n  \n  // === θ angle marker (clean, not \"circley\") ===\n  const start = xAxisAngle;     // x-axis direction\n  const end = rAngle;           // r direction (to the base point)\n  const arcRadius = 38;         // smaller radius so it looks like an angle marker\n  const tickInner = 16;         // start of the short rays\n  const tickOuter = 64;         // end of the short rays\n  \n  function polarAt(angle, radius) {\n    return [originX + radius * Math.cos(angle), originY + radius * Math.sin(angle)];\n  }\n  \n  // 1) Short side \"rays\" along x and r to show the two sides of the angle\n  ctx.save();\n  ctx.strokeStyle = '#00cc00';\n  ctx.lineWidth = 3;\n  ctx.lineCap = 'round';\n  \n  // x-side ray\n  ctx.beginPath();\n  let [ix, iy] = polarAt(start, tickInner);\n  let [ox, oy] = polarAt(start, tickOuter);\n  ctx.moveTo(ix, iy);\n  ctx.lineTo(ox, oy);\n  ctx.stroke();\n  \n  // r-side ray\n  ctx.beginPath();\n  [ix, iy] = polarAt(end, tickInner);\n  [ox, oy] = polarAt(end, tickOuter);\n  ctx.moveTo(ix, iy);\n  ctx.lineTo(ox, oy);\n  ctx.stroke();\n  \n  // 2) Arc between them (anticlockwise)\n  ctx.beginPath();\n  ctx.arc(originX, originY, arcRadius, start, end, true); // true = anticlockwise\n  ctx.lineWidth = 2.5;\n  ctx.stroke();\n  \n  // 3) Tiny arrowhead on the arc to indicate direction\n  let diff = start - end;\n  if (diff < 0) diff += 2 * Math.PI;\n  const mid = start - 0.6 * diff;\n  const [ax, ay] = polarAt(mid, arcRadius);\n  const tdx = -Math.sin(mid);\n  const tdy =  Math.cos(mid);\n  \n  ctx.translate(ax, ay);\n  ctx.rotate(Math.atan2(tdy, tdx));\n  ctx.beginPath();\n  ctx.moveTo(0, 0);\n  ctx.lineTo(-8, -5);\n  ctx.lineTo(-8, 5);\n  ctx.closePath();\n  ctx.fillStyle = '#00cc00';\n  ctx.fill();\n  ctx.restore();\n  \n  // 4) θ label slightly outside the arc\n  const labelRadius = arcRadius + 18;\n  const midForLabel = start - diff / 2;\n  const [tx, ty] = polarAt(midForLabel, labelRadius);\n  ctx.fillStyle = '#00cc00';\n  ctx.font = 'bold 16px Arial';\n  ctx.fillText('θ', tx, ty);\n\n  \n  // Draw vertical dashed line from base to point\n  ctx.beginPath();\n  ctx.moveTo(baseX, baseY);\n  ctx.lineTo(pointX, pointY);\n  ctx.strokeStyle = '#666';\n  ctx.lineWidth = 2;\n  ctx.setLineDash([5, 5]);\n  ctx.stroke();\n  ctx.setLineDash([]);\n  \n  // Draw the actual point\n  ctx.beginPath();\n  ctx.arc(pointX, pointY, 6, 0, 2 * Math.PI);\n  ctx.fillStyle = '#cc0000';\n  ctx.fill();\n  ctx.strokeStyle = '#fff';\n  ctx.lineWidth = 2;\n  ctx.stroke();\n  \n  // Label the point\n  ctx.fillStyle = '#cc0000';\n  ctx.font = 'bold 16px Arial';\n  ctx.fillText('(r, θ, z)', pointX + 12, pointY - 10);\n  \n  // Draw base projection point (green dot)\n  ctx.beginPath();\n  ctx.arc(baseX, baseY, 5, 0, 2 * Math.PI);\n  ctx.fillStyle = '#00cc00';\n  ctx.fill();\n}\n\n// Draw everything in order\ndrawCylinder();\ndrawAxes();\ndrawPoint();\n</script>\n\n<p style=\"text-align: center; margin-top: 10px; font-style: italic;\">\n<strong>Figure 1:</strong> Cylindrical coordinates showing a point (x, y, z) located by radial distance <em>r</em> from the <em>z</em>-axis, angle <em>θ</em> in the <em>xy</em>-plane, and height <em>z</em>.\n</p>\n\n\nThe conversion between cylindrical and Cartesian coordinates follows:\n\n::: {.callout-note}\n## Definition of cylindrical coordinates:\n\n• $x = r \\cos(\\theta)$,\n\n• $y = r \\sin(\\theta)$,\n\n• $z = z$.\n\n\n\nSuch that:\n\n• $r = \\sqrt{(x^2 + y^2)}$,\n\n• $θ = \\tan^{-1}(\\frac{y}{x})$,\n\n• $z = z$.\n:::\n\nGeometrically, cylindrical coordinates can be imagined as stacking circles (each defined by $r$ and $\\theta$) along the z-axis. A useful analogy is a can of soup: each horizontal slice is a circle, and stacking these circular slices vertically forms the cylinder.\n\n## Interactive Exploration (Desmos):\n\nUse the following Desmos tool to explore how the cylindrical variables and determine a point’s location.\n\n::: {#cylindrical3d style=\"width: 100%; height: 500px;\"}\n:::\n\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const elt = document.getElementById(\"cylindrical3d\");\n  const calc = Desmos.Calculator3D(elt);\n\n  // 3D view window\n  calc.setMathBounds({\n    xMin: -5, xMax: 5,\n    yMin: -5, yMax: 5,\n    zMin: -5, zMax: 5\n  });\n\n  // Text box\n  calc.setExpression({\n    id: \"info\",\n    type: \"text\",\n    text:\n      \"This 3D interactive guide sets:\\n\" +\n      \"R = R, t = θ, z_0 = z\\n\\n\" +\n      \"Adjust these as you wish to understand the relationship.\" +\n      \"To see the vector pointing towards the point, please add a space to the end of the equation.\"\n  });\n\n  // Slider: R\n  calc.setExpression({\n    id: \"R\",\n    latex: \"R=4\",\n    sliderBounds: {min: -5, max: 5, step: 0.01}\n  });\n\n  // Slider: z_0\n  calc.setExpression({\n    id: \"z0\",\n    latex: \"z_0=1\",\n    sliderBounds: {min: -5, max: 5, step: 0.01}\n  });\n\n  // Slider: t (0 → 2π)\n  calc.setExpression({\n    id: \"t\",\n    latex: \"t=0\",\n    sliderBounds: {min: 0, max: 2*Math.PI, step: 0.001}\n  });\n\n  // Point A = (R cos t, R sin t, z_0)\n  calc.setExpression({\n    id: \"A\",\n    latex: \"A=(R\\\\cos(t), R\\\\sin(t), z_0)\",\n    color: \"#FF0000\"\n  });\n\n  // Vector from origin to A\n  calc.setExpression({\n    id: \"V\",\n    latex: \"V=vector((0,0,0),\\\\ A)\",\n    color: \"#1E90FF\"\n  });\n});\n</script>\n\n::: {.callout-tip}\n\nTry keeping two variable's contant at a time to trace single-variable curves or surfaces. What can you see when doing this? (hint: to visualise cylinders, spirals, and vertical planes.)\n:::\n\n::: {.callout-note appearance=\"simple\"}\n## Example 1\n\nConsider the following point in cylindrical coordinates:\n\n$$\n\\begin{aligned}\n(r,\\theta, z) &= \\left(4, \\frac{\\pi}{3}, 2\\right)\n\\end{aligned}\n$$\n\nThis means:\n\n• The point is $4$ units from the origin.\n\n• It is rotated $45°$ around the z-axis\n\n• It is $2$ units above the xy-plane\n\n\nUsing the cylindrical-Cartesian conversion of:\n\n$x = r cos(\\theta)$, $y = r sin(\\theta)$, $z = z$\n\nYou can calculate x, y, and z to be: \n\n$$\n\\begin{aligned}\nx &= 4 \\cos\\left(\\frac{\\pi}{3}\\right) = 4 \\cdot \\left(\\frac{1}{2}\\right) = 2 \\\\[0.5em]\ny&=4\\sin\\left(\\frac{\\pi}{3}\\right)=4 \\cdot \\left(\\frac{\\sqrt{3}}{2}\\right)=2 \\sqrt{3} \\\\[0.5em]\nz&= 2\n\\end{aligned}\n$$\n\n\nSo, in cartesian coodinates, the point is:\n\n$$\n\\begin{aligned}\n(x, y, z) &= (2, 2\\sqrt{3}, 2)\n\\end{aligned}\n$$\n\n\nThe geometric interpretation of this is as follows:\n\n• Fixing $r=4$ gives a vertical cylinder\n\n• Fixing $\\theta = \\left(\\frac{\\pi}{3}\\right)$ gives a horizontal plane\n\n• Fixing $z=2$ gives a horizontal plane\n\nThe point lies where these three surfaces interact.\n\n:::\n\n# What are spherical coordinates?\nContrastingly, spherical coordinates describe points relative to a central point – ideal for systems with radial symmetry – like stars, atoms, or fields. If you imagine a sphere, you can think of it as being composed of many 2D circles or cross-sections. Depending on how we slice the sphere - along the x, y, or z axes - we can visualize different orientations of these circular cross-sections.\n\nIn spherical coordinates, each point in 3D space is defined by three quantities:\n\n• $r$  = the radial distance from the origin to the point\n\n• $\\theta$ = the azimuthal angle (measured in the xy-plane from the x-axis)\n\n• $\\phi$ = the polar angle (measured from the positive z-axis)\n\n<br>\nThese coordinates relate to Cartesian coordinates as follows:\n\n• $x = r\\sin(\\phi)\\cos(\\theta)$,\n\n• $y = r \\sin(\\phi)\\sin(\\theta)$,\n\n• $z = r \\cos(\\phi)$.\n\n\nwhere, $r^2 = x^2 +y^2 + z^2$.\n\n<br>\n\nThe range of these variables is:\n\n• $\\theta \\in [0, 2\\pi)$. This is the full rotation around the z-axis.\n\n• $\\phi \\in [0, \\pi]$ This is from the north pole to the south pole of the sphere.\n\n::: {.callout-note}\n## Definition of spherical coordinates:\n\n• $x = r \\sin(\\phi) \\cos(\\theta)$\n\n• $y = r \\sin(\\phi) \\sin(\\theta)$\n\n• $z = r \\cos(\\phi)$\n\nwhere, $r^2 = x^2 + y^2 + z^2$.\n\n\nThe range of these variables is:\n\n• $\\theta ∈ [0, 2\\pi)$. This is the full rotation around the z-axis\n\n• $\\phi ∈ [0, \\pi]$ . This is from the north pole to the south pole of the sphere\n\n:::\n\nYou can think of spherical coordinates as an extension of polar coordinates into 3D - adding a second angle to capture depth or height (aka vertical tilt) relative to the z-axis. For instance, visualizing Earth as a perfect sphere, a point in earth can be described by its distance from the centre ($r$), the latitude-like polar angle ($\\phi$), and the longitude-like azimuthal angle ($\\theta$).\n\n\n<!-- Spherical coordinate figure -->\n<div style=\"width:100%; max-width:800px; margin:20px auto;\">\n  <canvas id=\"sphericalCanvas\" width=\"800\" height=\"620\"></canvas>\n</div>\n\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", drawSphericalFigure);\n\nfunction drawSphericalFigure() {\n\n  const c = document.getElementById(\"sphericalCanvas\");\n  const ctx = c.getContext(\"2d\");\n  const W = c.width, H = c.height;\n\n  const OX = W * 0.52,\n        OY = H * 0.60;\n\n  const R     = 150;                 // sphere radius\n  const rho   = 180;                 // point radius\n  const theta = 50 * Math.PI/180;    // polar\n  const phi   = 30 * Math.PI/180;    // azimuth\n\n  //=== projection ===\n  function proj(x,y,z){ \n    return [OX + x - 0.4*y, OY - z + 0.25*y];\n  }\n\n  function line3D(a,b,col=\"#777\",lw=1,dash=[]){\n    ctx.beginPath();\n    ctx.setLineDash(dash);\n    const [x1,y1]=proj(...a);\n    const [x2,y2]=proj(...b);\n    ctx.moveTo(x1,y1);\n    ctx.lineTo(x2,y2);\n    ctx.strokeStyle=col;\n    ctx.lineWidth=lw;\n    ctx.stroke();\n    ctx.setLineDash([]);\n  }\n\n\n  function drawSphereOutline(){\n    const steps=200;\n    ctx.beginPath();\n    for(let i=0;i<=steps;i++){\n      const a = 2*Math.PI*(i/steps);\n      // silhouette = equator plane\n      const x = R*Math.cos(a);\n      const z = R*Math.sin(a);\n      const [px,py] = proj(x,0,z);\n      if(i===0) ctx.moveTo(px,py);\n      else ctx.lineTo(px,py);\n    }\n    ctx.strokeStyle=\"#777\";\n    ctx.lineWidth=2;\n    ctx.stroke();\n  }\n\n  function drawLatitudeEllipse(frac){  \n    // frac from -1 (bottom) to +1 (top)\n    const y3 = frac * R;\n    const r  = Math.sqrt(R*R - y3*y3);  \n\n    const steps = 200;\n    ctx.beginPath();\n    for(let i=0;i<=steps;i++){\n      const a = 2*Math.PI * (i/steps);\n      const x = r * Math.cos(a);\n      const z = r * Math.sin(a);\n      const [px,py] = proj(x,0,z);\n      if(i===0) ctx.moveTo(px,py);\n      else      ctx.lineTo(px,py);\n    }\n    ctx.strokeStyle=\"#777\";\n    ctx.lineWidth=1;\n    ctx.stroke();\n  }\n\n  // LONGITUDES: keep projected 3-D for correct look\n  function drawLongitude(phiDeg){\n    const ph = phiDeg * Math.PI/180;\n    const steps=80;\n    let prev=null;\n    for(let i=0;i<=steps;i++){\n      const t = Math.PI*(i/steps);\n      const x = R*Math.sin(t)*Math.cos(ph);\n      const y = R*Math.sin(t)*Math.sin(ph);\n      const z = R*Math.cos(t);\n      const [px,py] = proj(x,y,z);\n      if(i===0){\n        ctx.beginPath();\n        ctx.moveTo(px,py);\n      } else {\n        ctx.lineTo(px,py);\n      }\n    }\n    ctx.strokeStyle=\"#777\";\n    ctx.lineWidth=1;\n    ctx.stroke();\n  }\n\n  ctx.clearRect(0,0,W,H);\n\n  //=====================\n  //  Draw sphere grid\n  //=====================\n  drawSphereOutline();    \n\n  for(let f=-0.8; f<=0.8; f+=0.2){\n    drawLatitudeEllipse(f);   \n  }\n\n  for(let p=0; p<360; p+=30){\n    drawLongitude(p);\n  }\n\n  //---------------------------------\n  // AXES\n  //---------------------------------\n  line3D([0,0,0],[0,0,R*1.2], \"#000\",2);\n  line3D([0,0,0],[R*1.3,0,0], \"#000\",2);\n  line3D([0,0,0],[0,R*1.4,0], \"#000\",2);\n\n  let [tx,ty]=proj(R*1.3,0,0); ctx.fillText(\"x\",tx+4,ty);\n  [tx,ty]=proj(0,R*1.4,0);     ctx.fillText(\"y\",tx+4,ty);\n  [tx,ty]=proj(0,0,R*1.2);     ctx.fillText(\"z\",tx+4,ty-6);\n\n  //---------------------------------\n  // φ wedge (azimuth)\n  //---------------------------------\n  const steps=40;\n  ctx.beginPath();\n  let [px,py]=proj(R*0.4,0,0);\n  ctx.moveTo(px,py);\n  for(let i=0;i<=steps;i++){\n    const a = (i/steps)*phi;\n    [px,py]=proj(R*0.4*Math.cos(a),R*0.4*Math.sin(a),0);\n    ctx.lineTo(px,py);\n  }\n  [px,py]=proj(0,0,0);\n  ctx.lineTo(px,py);\n  ctx.closePath();\n  ctx.fillStyle=\"rgba(0,200,200,0.25)\";\n  ctx.fill();\n  ctx.strokeStyle=\"#009999\";\n  ctx.lineWidth=2;\n  ctx.stroke();\n\n  [px,py]=proj(\n    R*0.45*Math.cos(phi/2),\n    R*0.45*Math.sin(phi/2),\n    0\n  );\n  ctx.fillStyle=\"#009999\";\n  ctx.font=\"16px Arial\";\n  ctx.fillText(\"φ\",px+4,py+4);\n\n  //---------------------------------\n  // θ arc (polar)\n  //---------------------------------\n  const aR = R*0.55;\n  ctx.beginPath();\n  [px,py]=proj(0,0,aR); \n  ctx.moveTo(px,py);\n  for(let i=0;i<=steps;i++){\n    const t = (i/steps)*theta;\n    const X=aR*Math.sin(t)*Math.cos(phi);\n    const Y=aR*Math.sin(t)*Math.sin(phi);\n    const Z=aR*Math.cos(t);\n    [px,py]=proj(X,Y,Z);\n    ctx.lineTo(px,py);\n  }\n  ctx.strokeStyle=\"#cc00cc\";\n  ctx.lineWidth=2;\n  ctx.stroke();\n\n  [px,py]=proj(\n    aR*0.85*Math.sin(theta/2)*Math.cos(phi),\n    aR*0.85*Math.sin(theta/2)*Math.sin(phi),\n    aR*0.85*Math.cos(theta/2)\n  );\n  ctx.fillStyle=\"#cc00cc\";\n  ctx.fillText(\"θ\",px+4,py);\n\n  //---------------------------------\n  // ρ & P\n  //---------------------------------\n  const Px=rho*Math.sin(theta)*Math.cos(phi);\n  const Py=rho*Math.sin(theta)*Math.sin(phi);\n  const Pz=rho*Math.cos(theta);\n\n  line3D([0,0,0],[Px,Py,Pz],\"#c00\",3);\n  line3D([Px,Py,Pz],[Px,Py,0],\"#666\",1.5,[5,5]);\n\n  let [qx,qy]=proj(Px,Py,Pz);\n  ctx.beginPath();\n  ctx.arc(qx,qy,6,0,2*Math.PI);\n  ctx.fillStyle=\"#fff\";\n  ctx.strokeStyle=\"#c00\";\n  ctx.lineWidth=3;\n  ctx.fill();\n  ctx.stroke();\n  ctx.fillStyle=\"#c00\";\n  ctx.fillText(\"P\",qx+10,qy-8);\n\n  [qx,qy]=proj(Px*0.55,Py*0.55,Pz*0.55);\n  ctx.fillStyle=\"#000\";\n  ctx.fillText(\"ρ\",qx-8,qy-4);\n}\n</script>\n\n<p style=\"text-align: center; margin-top: 10px; font-style: italic;\">\n<strong>Figure 2:</strong> Spherical coordinates showing a point <em>(x, y, z)</em> located by radial distance <em>r</em> from the origin, azimuthal angle <em>θ</em> in the <em>xy</em>-plane from the <em>x</em>-axis, and polar angle <em>φ</em> measured down from the positive <em>z</em>-axis.\n</p>\n\n\n## Interactive Exploration (Desmos):\nUse the linked Desmos tool to investigate how spherical coordinates position a point in space.\nChange  to move closer to or farther from the origin\n\n::: {#spherical3d style=\"width: 100%; height: 500px;\"}\n:::\n\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const elt = document.getElementById(\"spherical3d\");\n  const calc = Desmos.Calculator3D(elt);\n\n  // 3D view window\n  calc.setMathBounds({\n    xMin: -5, xMax: 5,\n    yMin: -5, yMax: 5,\n    zMin: -5, zMax: 5\n  });\n\n  // Text box\n  calc.setExpression({\n    id: \"info\",\n    type: \"text\",\n    text:\n      \"This 3D interactive guide sets:\\n\" +\n      \"R = R, t = θ, p = φ\" +\n      \"Adjust these as you wish to understand the relationship.\" +\n      \"To see the vector pointing towards the point, please add a space to the end of the equation.\"\n  });\n\n  // Slider: R\n  calc.setExpression({\n    id: \"R\",\n    latex: \"R=5\",\n    sliderBounds: {min: -5, max: 5, step: 0.01}\n  });\n\n  // Slider: t  (0 → 2π)\n  calc.setExpression({\n    id: \"t\",\n    latex: \"t=0\",\n    sliderBounds: {min: 0, max: 2 * Math.PI, step: 0.001}\n  });\n\n  // Slider: p  (0 → π)\n  calc.setExpression({\n    id: \"p\",\n    latex: \"p=1\",\n    sliderBounds: {min: 0, max: Math.PI, step: 0.001}\n  });\n\n  // Point A = (R cos t sin p, R sin t sin p, R cos p)\n  calc.setExpression({\n    id: \"A\",\n    latex: \"A=(R\\\\cos(t)\\\\sin(p), R\\\\sin(t)\\\\sin(p), R\\\\cos(p))\",\n    color: \"#FF0000\"\n  });\n\n  // Vector from origin to A\n  calc.setExpression({\n    id: \"V\",\n    latex: \"V = vector((0,0,0),\\\\ A)\",\n    color: \"#1E90FF\"\n  });\n});\n</script>\n\n::: {.callout-tip}\nFix one variable at a time. What can you see by doing this? (hint: cones, circular paths, or spherical shells?)\n:::\n\n::: {.callout-note appearance=\"simple\"}\n## Example 2\nConsider the following point in spherical coordinates:\n\n$$\n\\begin{aligned}\n(r,\\theta, \\phi) &= \\left(6, \\frac{\\pi}{6}, \\frac{\\pi}{4}\\right)\n\\end{aligned}\n$$\n\nThis means:\n\n• The point is 6 units from the origin.\n\n• It is rotated $30°$ around the z-axis.\n\n• It is tilted $45°$ down from the positive z-axis.\n\n\nUsing the spherical-Cartesian conversion of:\n$$\n\\begin{aligned}\nx &= r \\sin(\\phi) \\cos(\\theta),\\ y = r \\sin(\\phi)\\sin(\\theta), \\ z = r \\cos(\\phi)\n\\end{aligned}\n$$\n\nYou can calculate x, y, and z to be: \n\n$$\n\\begin{aligned}\nx &= 6\\sin\\left(\\frac{\\pi}{4}\\right)\\cos\\left(\\frac{\\pi}{6}\\right) = 6 \\cdot \\frac{\\sqrt{2}}{2} \\cdot \\frac{\\sqrt{3}}{2} = \\frac{3 \\sqrt{6}}{2} \\\\\ny &= 6\\sin\\left(\\frac{\\pi}{4}\\right)\\sin\\left(\\frac{\\pi}{6}\\right)= 6 \\cdot \\frac{\\sqrt{2}}{2} \\cdot \\frac{1}{2}=\\frac{3 \\sqrt{2}}{2} \\\\\nz &= 6 \\cos\\left(\\frac{\\pi}{4}\\right)=6 \\cdot \\frac{\\sqrt{2}}{2} = 3\\sqrt{2} \n\\end{aligned}\n$$\n\nSo, in cartesian coodinates, the point is:\n$$\n\\begin{aligned}\n(x, y, z) &= \\left(\\frac{3 \\sqrt{6}}{2}, \\frac{3 \\sqrt{2}}{2}, 3\\sqrt{2}\\right)\n\\end{aligned}\n$$\n\nThe geometric interpretation of this is as follows:\n\n• Fixing $r=6$ gives a vertical cylinder,\n\n• Fixing $\\theta = \\frac{\\pi}{6}$ gives a vertical half-plane,\n\n• Fixing $\\phi = \\frac{\\pi}{4}$ gives a cone.\n\nThe point lies where these three surfaces interact.\n:::\n\n# Quick check problems:\n:::: {.content-visible when-format=\"html\" data-topic=\"IPD1\"}\n::: {.webex-check .webex-box}\n1) In spherical coordinates, which angle sweeps around the z-axis, and which tilts down from the z-axis?\n\n<select class='webex-select'><option value='blank'></option><option value=''>θ tilts down from the z-axis; φ sweeps around the z-axis</option><option value='answer'>θ sweeps around the z-axis; φ tilts down from the z-axis</option><option value=''>Both θ and φ sweep around the z-axis</option><option value=''>Both θ and φ tilt down from the z-axis</option></select>\n\n\n\n2) For a problem with a long straight pipe, which system is likely the better option to solve: spherical or cylindrical? Why?\n\n<select class='webex-select'><option value='blank'></option><option value=''>Spherical coordinates</option><option value='answer'>Cylindrical coordinates</option><option value=''>Cartesian coordinates</option><option value=''>Any system can represent the point</option></select>\n\n\n3) What symmetry suggests using spherical coordinates? What symmetry suggests using cylindrical?\n\n<select class='webex-select'><option value='blank'></option><option value=''>Rotational symmetry about an axis</option><option value='answer'>Radial symmetry about a point</option><option value=''>Translational symmetry along a line</option><option value=''>No symmetry at all</option></select>\n\n\n\n4) In cylindrical coordinates, what does r measure?\n\n<select class='webex-select'><option value='blank'></option><option value=''>The distance from the origin</option><option value=''>The height above the xy-plane</option><option value='answer'>The perpendicular distance from the z-axis</option><option value=''>The angle from the x-axis</option></select>\n\n\n\n5) If $\\phi = \\theta$ in spherical coordinates, where is the point located relative to the axes?\n\n<select class='webex-select'><option value='blank'></option><option value=''>On the +x axis</option><option value=''>On the −z axis</option><option value='answer'>On the +z axis</option><option value=''>In the xy-plane</option></select>\n\n### Short Calculations:\n\n6) Convert $(r, \\theta, z) = \\left(3, \\frac{\\pi}{6}, 2\\right)$ to Cartesian.\n\n\n- \\($x =$\\) <input class='webex-solveme nospaces' size='11' data-answer='[\"3*sqrt(3)/2\"]'/>  \n- \\($y =$\\) <input class='webex-solveme nospaces' size='3' data-answer='[\"3/2\"]'/>  \n- \\($z =$\\) <input class='webex-solveme nospaces' size='1' data-answer='[\"2\"]'/>\n\n\n\n7) Convert $(x, y, z) = (2, 2\\sqrt{3}, 1)$ to cylindrical (give $r$ and $\\theta$ in exact form).\n\n\n- \\($r =$\\) <input class='webex-solveme nospaces' size='1' data-answer='[\"4\"]'/>  \n- \\($\\theta =$\\) <input class='webex-solveme nospaces' size='4' data-answer='[\"pi/3\"]'/>  \n- \\($z =$\\) <input class='webex-solveme nospaces' size='1' data-answer='[\"1\"]'/>\n\n\n8) Convert spherical $(r, \\theta, \\phi) = \\left(5, \\frac{\\pi}{3}, \\frac{\\pi}{6} \\right)$ to Cartesian.\n\n- \\($x =$\\) <input class='webex-solveme nospaces' size='3' data-answer='[\"5/4\"]'/>  \n- \\($y =$\\) <input class='webex-solveme nospaces' size='11' data-answer='[\"5*sqrt(3)/4\"]'/>  \n- \\($z =$\\) <input class='webex-solveme nospaces' size='11' data-answer='[\"5*sqrt(3)/2\"]'/>\n\n9) Given Cartesian $(x, y, z) = (0, 0, 4)$, give spherical coordinates (use standard ranges).\n\n- \\($r =$\\) <input class='webex-solveme nospaces' size='1' data-answer='[\"4\"]'/>  \n- \\($\\theta =$\\) <input class='webex-solveme nospaces' size='1' data-answer='[\"0\"]'/>  \n- \\($\\phi =$\\) <input class='webex-solveme nospaces' size='1' data-answer='[\"0\"]'/>\n\n10) For cylindrical $(r, \\theta, z) = \\left(4, \\frac{3\\pi}{2}, −1\\right)$, identify the point’s quadrant/axis in the xy-plane and give Cartesian.\n\n\n- \\($x =$\\) <input class='webex-solveme nospaces' size='1' data-answer='[\"0\"]'/>  \n- \\($y =$\\) <input class='webex-solveme nospaces' size='2' data-answer='[\"-4\"]'/>  \n- \\($z =$\\) <input class='webex-solveme nospaces' size='2' data-answer='[\"-1\"]'/>\n\n:::\n::::\n\n::: {.content-hidden when-format=\"html\"}\n1.  In spherical coordinates, which angle sweeps around the $z$-axis, and which tilts down from the $z$-axis?\n\n<!-- -->\n\n2.  For a problem with a long straight pipe, which system is likely the better option to solve: spherical or cylindrical? Explain why.\n\n<!-- -->\n\n3.  What symmetry suggests using spherical coordinates? What symmetry suggests using cylindrical coordinates?\n\n<!-- -->\n\n4.  In cylindrical coordinates, what does $r$ measure?\n\n<!-- -->\n\n5.  If $\\phi = 0$ in spherical coordinates, where is the point located relative to the axes?\n\n<!-- -->\n\n6.  Convert the cylindrical coordinates  \n$$\n(r, \\theta, z) = \\left(3,\\ \\frac{\\pi}{6},\\ 2\\right)\n$$  \nto Cartesian coordinates.\n\n<!-- -->\n\n7.  Convert the Cartesian coordinates  \n$$\n(x, y, z) = \\left(2,\\ 2\\sqrt{3},\\ 1\\right)\n$$  \nto cylindrical coordinates. Give $r$ and $\\theta$ in exact exact form.\n\n<!-- -->\n\n8.  Convert the spherical coordinates  \n$$\n(r, \\theta, \\phi) = \\left(5,\\ \\frac{\\pi}{3},\\ \\frac{\\pi}{6}\\right)\n$$  \nto Cartesian coordinates.\n\n<!-- -->\n\n9.  Given the Cartesian coordinates  \n$$\n(x, y, z) = (0,\\ 0,\\ 4),\n$$  \nfind the corresponding spherical coordinates using the standard variable ranges.\n\n<!-- -->\n\n10.  For the cylindrical coordinates  \n$$\n(r, \\theta, z) = \\left(4,\\ \\frac{3\\pi}{2},\\ -1\\right),\n$$  \nidentify the point’s location in the $xy$-plane (quadrant or axis) and give the corresponding Cartesian coordinates.\n\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}