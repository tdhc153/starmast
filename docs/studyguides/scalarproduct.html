<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Isabella Lewis">

<title>The scalar product â€“ STARMAST</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-L30GVCTC8L"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-L30GVCTC8L', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":"",
"website_privacy_policy_url":"cookies.qmd"
  ,
"language":"en"
  });
});
</script> 
  
<script>
  window.addEventListener('load', function() {
    document.getElementById("cc-nb-title").innerHTML = "Your privacy is important to us";
    document.getElementById("cc-nb-text").innerHTML = "This website uses Google Analytics to measure traffic to and from the site, and to learn where our users come from. We use cookies to enable this service, alongside enabling our non-identifiable QuickCheck problem tracking. These are the sole purposes of enabling cookies on this website.";
  });
</script>

<script src="https://www.desmos.com/api/v1.11/calculator.js?apiKey=2949896c7db64d4a8a380b1e11254b5f"></script>
<!-- Mailerlite snippet -->
 <script>
    (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
    .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
    n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
    (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
    ml('account', '1477275');
</script>

<script src="https://esm.sh/shinylive-r"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../webexfiles/webex.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">STARMAST</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../newsindex.html"> 
<span class="menu-text">News</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fullindex.html"> 
<span class="menu-text">Full index</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../studyguidelist.html"> 
<span class="menu-text">Study guides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../olist.html"> 
<span class="menu-text">Other resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../applist.html"> 
<span class="menu-text">Apps</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.instagram.com/starmast_"> 
<span class="menu-text">Instagram</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <div id="quarto-announcement" data-announcement-id="5d82c5223afdc6fc2c5d907ddbb3174b" class="alert alert-success hidden"><i class="bi bi-database-add quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Latest content:</strong> Six new factsheets on calculus, trigonometry, and hyperbolic functions! (22/08/25)</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-the-scalar-product" id="toc-what-is-the-scalar-product" class="nav-link active" data-scroll-target="#what-is-the-scalar-product">What is the scalar product?</a></li>
  <li><a href="#algebraic-definition" id="toc-algebraic-definition" class="nav-link" data-scroll-target="#algebraic-definition">Algebraic definition</a></li>
  <li><a href="#geometric-definition" id="toc-geometric-definition" class="nav-link" data-scroll-target="#geometric-definition">Geometric definition</a></li>
  <li><a href="#properties-of-the-scalar-product" id="toc-properties-of-the-scalar-product" class="nav-link" data-scroll-target="#properties-of-the-scalar-product">Properties of the scalar product</a>
  <ul class="collapse">
  <li><a href="#quick-check-problems" id="toc-quick-check-problems" class="nav-link" data-scroll-target="#quick-check-problems">Quick check problems</a></li>
  </ul></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further reading</a>
  <ul class="collapse">
  <li><a href="#version-history-and-licensing" id="toc-version-history-and-licensing" class="nav-link" data-scroll-target="#version-history-and-licensing">Version history and licensing</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="scalarproduct.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="scalarproduct.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The scalar product</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Geometry</div>
    <div class="quarto-category">Vectors</div>
    <div class="quarto-category">Linear mathematics</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Isabella Lewis </p>
          </div>
  </div>
    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Summary</div>
    The scalar product is an important concept in the theory of vectors, with many geometric and algebraic applications.
  </div>
</div>


</header>


<p><em>Before reading this guide, you must have a good initial knowledge of vectors. Therefore, it is highly recommended that you read <a href="../studyguides/introductiontovectors.html">Guide: Introduction to vectors</a>. You should be able to understand the components of a vector and be able to work out the magnitude of a vector before continuing.</em></p>
<table><tbody><tr><td style="vertical-align: middle"><strong>Narration of study guide:</strong>&nbsp;&nbsp;</td><td><audio controls=""><source src="./Narrations/scalarproduct.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio></td></tr></tbody></table>
<section id="what-is-the-scalar-product" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="what-is-the-scalar-product">What is the scalar product?</h2>
<p>When working with vectors, you want to be able to combine them in order to solve problems involving vectors in three dimensional space. This may extend to finding the angle between two vectors or testing to see if two vectors are perpendicular or not. The tool you need for these endeavours is the <strong>scalar product</strong>.</p>
<p>The <strong>scalar product</strong> also known as the <strong>dot product</strong> (due to the symbol for the operation) or <strong>inner product</strong> (as one of the many inner products that exist in linear mathematics), essentially measures how much two vectors are pointing in the same direction. This measure can then be used to find the angle between two vectors.</p>
<p>As you might imagine, this is an important tool if you are working with vectors in three dimensional space. The scalar product has many applications in geometry, multivariable calculus, physics, and chemistry.</p>
<p>This guide will give both the algebraic and geometric definition of the scalar product, explain certain properties of the operation, show you how to find the angle between two vectors using the scalar product, and bring awareness to special cases that arise, such as being able to determine whether or not two vectors are perpendicular.</p>
<p>As with all other introductory guides to vectors (including <a href="../studyguides/introductiontovectors.html">Guide: Introduction to vectors</a> and <a href="../studyguides/addandsm.html">Guide: Vector addition and scalar multiplication</a>), the vectors in this guide are exclusively <strong>three dimensional</strong>.</p>
</section>
<section id="algebraic-definition" class="level1 unnumbered">
<h1 class="unnumbered">Algebraic definition</h1>
<p>Working out the scalar product of two vectors algebraically is based on their components.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Algebraic definition of the scalar product
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(\mathbf{a} = a_1 \mathbf{i} + a_2 \mathbf{j} + a_3 \mathbf{k}\)</span> and <span class="math inline">\(\mathbf{b} = b_1 \mathbf{i} + b_2 \mathbf{j} + b_3 \mathbf{k}\)</span> be two vectors. The <strong>scalar product</strong> of <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span>, written as <span class="math inline">\(\mathbf{a}\cdot\mathbf{b}\)</span>, is given by <span class="math display">\[\mathbf{a}\cdot\mathbf{b} = a_1b_1 + a_2b_2 + a_3b_3.\]</span></p>
<p>Similarly, in column notation <span class="math inline">\(\mathbf{a}= \begin{bmatrix}a_1\\ a_2 \\a_3\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}b_1\\ b_2 \\b_3\end{bmatrix}\)</span>, then:</p>
<p><span class="math display">\[\mathbf{a} \cdot \mathbf{b} = \begin{bmatrix}a_1\\ a_2 \\a_3\end{bmatrix}\cdot\begin{bmatrix}b_1\\ b_2 \\b_3\end{bmatrix} = a_1b_1 + a_2b_2 + a_3b_3\]</span></p>
<!-- This may also be written, using sigma notation, as $$\mathbf{u} \cdot \mathbf{v} = \sum^n_{i=1}\,u_i v_i$$ -->
</div>
</div>
<!-- As the name suggests, the scalar product of two vectors is a scalar. It is important to be able to calculate the scalar product of vectors of all dimensions. -->
<p>The most important thing to take away from this definition is the following:</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>The output of the scalar product of two vectors is a <strong>scalar</strong>. So if you are working out the scalar product of two vectors and your answer is either a column vector or contains <span class="math inline">\(\mathbf{i},\mathbf{j},\mathbf{k}\)</span>, then your answer is <strong>incorrect</strong> and should be recalculated.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{a}=\begin{bmatrix}3\\5\\1\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}2\\7\\2\end{bmatrix}\)</span>, then the scalar product is <span class="math display">\[\begin{bmatrix}3\\ 5 \\1\end{bmatrix}\cdot\begin{bmatrix}2\\ 7 \\2\end{bmatrix} = (3)(2) + (5)(7) + (1)(2) = 6+35+2 = 43\]</span></p>
</div>
</div>
<!-- ::: {.callout-note appearance="simple"} -->
<!-- ## Example 2 -->
<!-- Take $\mathbf{u}=\begin{bmatrix}10\\13\\3\\2\end{bmatrix}$ and $\mathbf{v} =\begin{bmatrix}5\\1\\20\\1\end{bmatrix}$, then the scalar product is $$\begin{bmatrix}10\\ 13 \\3\\2\end{bmatrix}\cdot\begin{bmatrix}5\\ 1 \\20\\1\end{bmatrix} = (10)(5)+(13)(1)+(3)(20)+(2)(1)=50+13+60+2 = 125 $$ -->
<!-- ::: -->
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{a}=\begin{bmatrix}-1\\7\\1\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}-1\\-1\\2\end{bmatrix}\)</span>, then the scalar product is <span class="math display">\[\begin{bmatrix}-1\\ 7 \\1\end{bmatrix}\cdot\begin{bmatrix}-1\\ -1 \\2\end{bmatrix} = (-1)(-1) + (7)(-1) + (1)(2) = 1-7+2 = -4\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Notice from Example 2 that the scalar product of two vectors can be a <strong>negative number</strong>.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=4\mathbf{i}+2\mathbf{j}+\mathbf{k}\)</span> and <span class="math inline">\(\mathbf{v}=\mathbf{i}-\mathbf{j}+3\mathbf{k}\)</span>, then <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=(4\mathbf{i}+2\mathbf{j}+\mathbf{k})\cdot(\mathbf{i}-\mathbf{j}+3\mathbf{k})=(4)(1)+(2)(-1)+(1)(3)=5\]</span></p>
</div>
</div>
</section>
<section id="geometric-definition" class="level1 unnumbered">
<h1 class="unnumbered">Geometric definition</h1>
<p>It was mentioned in the introduction that the scalar product can be used to measure how much of a vector points in the direction of another. However, there is nothing in the algebraic definition to suggest <em>why</em> this is the case. The second definition of the scalar product relies on the magnitude of the two vectors and the smallest angle between them.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Geometric defintion of the scalar product
</div>
</div>
<div class="callout-body-container callout-body">
<p>For two vectors <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span>, their scalar product <span class="math inline">\(\mathbf{a}\cdot\mathbf{b}\)</span> can also be defined as follows: <span class="math display">\[\mathbf{a}\cdot\mathbf{b}=|\mathbf{a}||\mathbf{b}|\cos(\theta)\]</span> where <span class="math inline">\(|\mathbf{a}|,|\mathbf{b}|\)</span> are the magnitudes of <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> respectively and <span class="math inline">\(\theta\)</span> (pronounced â€˜thetaâ€™) is the <strong>smallest</strong> angle between <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span>.</p>
</div>
</div>
<p>You can use this definition to find the angle between two (non-zero) vectors <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span>. Since these vectors are non-zero, both <span class="math inline">\(|\mathbf{a}|\)</span> and <span class="math inline">\(|\mathbf{b}|\)</span> are non-zero. You can then divide both sides of the geometric definition of the scalar product to get <span class="math display">\[\cos(\theta) = \frac{\mathbf{a}\cdot\mathbf{b}}{|\mathbf{a}||\mathbf{b}|}.\]</span></p>
<p>Since <span class="math inline">\(\theta\)</span> is the smallest angle between <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> by definition, it follows that <span class="math inline">\(0^\circ\leq \theta \leq 180^\circ\)</span> in degrees, or <span class="math inline">\(0\leq \theta \leq \pi\)</span> in radians. This means that you can safely use the inverse trigonometric function <span class="math inline">\(\cos^{-1}\)</span> in this case. (See [Guide: Inverse trigonometric functions] for more.)</p>
<p>Letâ€™s now put this definition to use!</p>
<!-- ::: {.callout-warning}  -->
<!-- ## WARNING -->
<!-- In the above, the vectors cannot be **anti-parallel** or **parallel** and must be of non-zero length. The special cases in which they do not follow these conditions are dealt with below. -->
<!-- :::  -->
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{a}=\begin{bmatrix}3\\5\\1\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}2\\7\\2\end{bmatrix}\)</span>, as in Example 1. In that example, it was calculated that <span class="math inline">\(\mathbf{a}\cdot\mathbf{b} = 43\)</span>. So you can use the above definition to calculate the smallest angle <span class="math inline">\(\theta\)</span> between the two vectors.</p>
<p><span class="math display">\[\cos(\theta)=\frac{\mathbf{a}\cdot\mathbf{b}}{|\mathbf{a}||\mathbf{b}|}=\frac{43}{\left(\sqrt{3^2+5^2+1^2}\right)\left(\sqrt{2^2+7^2+2^2}\right)}=\frac{43}{\sqrt{35}\sqrt{57}}\]</span> You will need a calculator or computer to work out the value of <span class="math inline">\(\theta\)</span> via <span class="math inline">\(\cos^{-1}\)</span>. To avoid rounding errors, you should find the inverse cosine of this exact value in your calculator or computer. Doing this gives <span class="math display">\[\begin{align*}
\theta=\cos^{-1}\left(\frac{43}{\sqrt{35}\sqrt{57}}\right) = {15.695^\circ} = 0.274\textsf{ rad}\tag{\textsf{to 3dp}}
\end{align*}\]</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 5
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{a}=\begin{bmatrix}-1\\7\\1\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}-1\\-1\\2\end{bmatrix}\)</span>, then the scalar product is <span class="math display">\[\begin{bmatrix}-1\\ 7 \\1\end{bmatrix}\cdot\begin{bmatrix}-1\\ -1 \\2\end{bmatrix} = (-1)(-1) + (7)(-1) + (1)(2) = 1-7+2 = -4\]</span></p>
<p>Take <span class="math inline">\(\mathbf{a}=\begin{bmatrix}-1\\7\\1\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}-1\\-1\\2\end{bmatrix}\)</span>, as in Example 2. It was calculated then that the scalar product between them is <span class="math inline">\(-4\)</span>. So, the angle between them can be calculated as follows: <span class="math display">\[\cos(\theta)=\frac{\mathbf{a}\cdot\mathbf{b}}{|\mathbf{a}||\mathbf{b}|}=\frac{-4}{\left(\sqrt{(-1)^2+7^2+1^2}\right)\left(\sqrt{(-1)^2+(-1)^2+2^2}\right)}=\frac{-4}{\sqrt{51}\sqrt{6}}\]</span> and so, following the advice from Example 4 above, you can work out the angle to be <span class="math display">\[\begin{align*}
\theta=\cos^{-1}\left(\frac{-4}{\sqrt{51}\sqrt{6}}\right) = {103.218^\circ} = 1.802\textsf{ rad}\tag{\textsf{to 3dp}}
\end{align*}\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If the scalar product of two vectors is positive, then the smallest angle <span class="math inline">\(\theta\)</span> between the two vectors is acute (that is, <span class="math inline">\(0^\circ\leq\theta &lt; 90^\circ\)</span> or <span class="math inline">\(0 \leq \theta &lt; \pi/2\)</span>). If the scalar product of two vectors is negative, then the smallest angle <span class="math inline">\(\theta\)</span> between the two vectors is obtuse (that is, <span class="math inline">\(90^\circ &lt; \theta \leq 180^\circ\)</span> or <span class="math inline">\(\pi/2 &lt; \theta \leq \pi\)</span>).</p>
<p>If the scalar product of two vectors is <span class="math inline">\(0\)</span>, then the two vectors are perpendicular; see below for more on this.</p>
</div>
</div>
</section>
<section id="properties-of-the-scalar-product" class="level1">
<h1>Properties of the scalar product</h1>
<p>Much like in <a href="../studyguides/addandsm.html">Guide: Vector addition and scalar multiplication</a>, the scalar product has many useful properties, both from its algebraic and its geometric definitions.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For more information as to <strong>why</strong> the following properties are true, please see <a href="../proofsheets/ps-scalarproduct.html">Proof sheet: The scalar product</a> for more details.</p>
</div>
</div>
<!-- ::: {.callout-note} -->
<!-- ## Definition of Commutative, Distributive -->
<!-- An operation is **commutative** if it gives the same result whatever order the values are in. For example, $ab = ba$, so multiplication is commutative. -->
<!-- An operation is **distributive** (under addition) if $a (b+c)=(ab)+(ac)$.  -->
<!-- ::: -->
<ol type="1">
<li><p>The scalar product is <strong>commutative</strong>, so for all vectors <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span>: <span class="math display">\[\mathbf{a}\cdot\mathbf{b}=\mathbf{b}\cdot\mathbf{a}.\]</span></p></li>
<li><p>The scalar product of any vector <span class="math inline">\(\mathbf{a}\)</span> with the zero vector <span class="math inline">\(\mathbf{0}\)</span> is 0, so: <span class="math display">\[\mathbf{a}\cdot\mathbf{0}=0\]</span></p></li>
<li><p>The scalar product is <strong>distributive</strong>, so for all vectors <span class="math inline">\(\mathbf{a},\mathbf{b},\mathbf{c}\)</span>, it follows that: <span class="math display">\[\mathbf{a}\cdot (\mathbf{b}+\mathbf{c}) = \mathbf{a}\cdot\mathbf{b}+\mathbf{a}\cdot\mathbf{c}\]</span></p></li>
<li><p>Scalar multiplication is preserved in the scalar product. So if <span class="math inline">\(\mathbf{a},\mathbf{b}\)</span> are vectors and <span class="math inline">\(\lambda\)</span> (pronounced â€˜lambdaâ€™) is a scalar, then <span class="math display">\[(\lambda\mathbf{a})\cdot\mathbf{b}=\lambda(\mathbf{a}\cdot\mathbf{b})\]</span></p></li>
</ol>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 6
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{a}=\begin{bmatrix}3\\5\\1\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}2\\7\\2\end{bmatrix}\)</span>, as in Example 1. Then you know <span class="math inline">\(\mathbf{a}\cdot\mathbf{b}= 43\)</span>. You can check <span class="math inline">\(\mathbf{b}\cdot\mathbf{a}\)</span> to verify the commutative property (1) of the scalar product: <span class="math display">\[\mathbf{b}\cdot\mathbf{a}=\begin{bmatrix}2\\7\\2\end{bmatrix}\cdot\begin{bmatrix}3\\5\\1\end{bmatrix}=(2)(3)+(7)(5)+(2)(1)=6+35+2=43\]</span> So <span class="math inline">\(\mathbf{a}\cdot\mathbf{b}=\mathbf{b}\cdot\mathbf{a}\)</span> as expected.</p>
<p>In addition, you can work out <span class="math inline">\((3\mathbf{a})\cdot\mathbf{b}\)</span> by using property (4) without much further calculation. Using the property and the fact that <span class="math inline">\(\mathbf{a}\cdot\mathbf{b}= 43\)</span> gives: <span class="math display">\[(3\mathbf{a})\cdot\mathbf{b} = 3(\mathbf{a}\cdot\mathbf{b}) = 3(43) = 129.\]</span></p>
</div>
</div>
<p>The following further properties are consequences of the geometric definition of the scalar product.</p>
<ol start="5" type="1">
<li><p>The scalar product of a vector <span class="math inline">\(\mathbf{a}\)</span> with itself is the square of its magnitude: <span class="math display">\[\mathbf{a}\cdot\mathbf{a}=|\mathbf{a}|^2\]</span></p></li>
<li><p>If two vectors <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> are <strong>parallel</strong> (so <span class="math inline">\(\mathbf{a}\)</span> is a scalar multiple of <span class="math inline">\(\mathbf{b}\)</span> by a positive scalar; see <a href="../studyguides/addandsm.html">Guide: Vector addition and scalar multiplication</a>), then <span class="math display">\[\mathbf{a}\cdot\mathbf{b}=|\mathbf{a}||\mathbf{b}|.\]</span> Similarly, if <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> are <strong>anti-parallel</strong> (so <span class="math inline">\(\mathbf{a}\)</span> is a scalar multiple of <span class="math inline">\(\mathbf{b}\)</span> by a negative scalar; see <a href="../studyguides/addandsm.html">Guide: Vector addition and scalar multiplication</a>), then <span class="math display">\[\mathbf{a}\cdot\mathbf{b}=-|\mathbf{a}||\mathbf{b}|.\]</span></p></li>
<li><p>If two non-zero vectors <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> are perpendicular, then their scalar product <span class="math inline">\(\mathbf{a}\cdot\mathbf{b}\)</span> is equal to <span class="math inline">\(0\)</span>. On the other hand, if the scalar product of two non-zero vectors <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> is equal to <span class="math inline">\(0\)</span>, then <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> are perpendicular.</p></li>
</ol>
<p>Of these, property (7) is incredibly interesting. You can even use this property to solve some vector equations involving the scalar product.</p>
<!-- This is because the angle between the two vectors is $90^\circ$ and as $\cos(90)=0$, $$\mathbf{u}\cdot\mathbf{v}=|\mathbf{u}||\mathbf{v}|\cos(90)=0$$. -->
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 7
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{a}=\begin{bmatrix}14\\2\\100\end{bmatrix}\)</span>, then <span class="math display">\[\mathbf{a}\cdot\mathbf{a}=14^2+2^2+100^2=10200.\]</span> The magnitude of <span class="math inline">\(\mathbf{a}\)</span> is <span class="math display">\[|\mathbf{a}|=\sqrt{14^2+2^2+100^2}=\sqrt{10200}\]</span> and so, <span class="math display">\[|\mathbf{a}|^2=\mathbf{a}\cdot\mathbf{a}\]</span> as you would expect!</p>
</div>
</div>
<!-- ## Proof of commutativity -->
<!-- You've just seen one example showing that the scalar product is commutative. How about for all vectors? Let $\mathbf{u} = \begin{bmatrix}u_1\\ \vdots \\u_n\end{bmatrix}$ and $\mathbf{v} =\begin{bmatrix}v_1\\ \vdots \\v_n\end{bmatrix}$, then $$\mathbf{u} \cdot \mathbf{v} = \begin{bmatrix}u_1\\ \vdots \\u_n\end{bmatrix}\cdot\begin{bmatrix}v_1\\ \vdots \\v_n\end{bmatrix} = u_1v_1 + u_2v_2 + ... + u_nv_n = v_1u_1 + v_2u_2+...+v_nu_n$$\ since multiplication is commutative (that is $u_1v_1=v_1u_1$). And, $$\mathbf{v} \cdot \mathbf{u}=\begin{bmatrix}v_1\\ \vdots \\v_n\end{bmatrix}\cdot\begin{bmatrix}u_1\\ \vdots \\u_n\end{bmatrix}=v_1u_1 + v_2u_2+...+v_nu_n=\mathbf{u}\cdot\mathbf{v}$$ Hence, the scalar product is commutative. -->
<!-- ## Special Cases... -->
<!-- There are a few specific cases that you need to be careful with when dealing with the scalar product. These are:\ -->
<!-- (a) When $\mathbf{u}$ and $\mathbf{v}$ are parallel. In this case, the angle between the vectors is 0. So, the dot product is the magnitudes multiplied, that is -->
<!-- $$\mathbf{u}\cdot\mathbf{v}=|\mathbf{u}||\mathbf{v}|$$ -->
<!-- (b) When $\mathbf{u}$ and $\mathbf{v}$ are anti-parallel, then the dot product is negative the magnitudes multiplied, that is -->
<!-- $$\mathbf{u}\cdot\mathbf{v}=-|\mathbf{u}||\mathbf{v}|$$ -->
<!-- (c) When either $\mathbf{u}$ or $\mathbf{v}$ is equal to $0$ (or both are), the dot product is equal to $0$, that is -->
<!-- $$\mathbf{u}\cdot\mathbf{0}=\mathbf{0}\cdot\mathbf{v}=0$$ -->
<!-- (d) Two vectors $\mathbf{u}$ and $\mathbf{v}$ are perpendicular  if and only if their scalar product is equal to $0$. This is because the angle between the two vectors is $90^\circ$ and as $\cos(90)=0$, -->
<!-- $$\mathbf{u}\cdot\mathbf{v}=|\mathbf{u}||\mathbf{v}|\cos(90)=0$$. -->
<!-- ## The scalar product of perpendicular vectors -->
<!-- As mentioned in the above result, the scalar product of two perpendicular vectors is $0$.  -->
<!-- Given two vectors, you can use this fact to test whether they are perpendicular or not.  -->
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 8
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{a}=3\mathbf{i} + 3\mathbf{j} + 4\mathbf{k}\)</span> and <span class="math inline">\(\mathbf{b}=\mathbf{i} + 3\mathbf{j} -3\mathbf{k}\)</span>. Then, <span class="math display">\[\mathbf{a}\cdot\mathbf{b}=(3)(1)+(3)(3)-(4)(3)=0\]</span> So <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> are indeed perpendicular.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 9
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(\mathbf{a}=\begin{bmatrix}2\\1\\z\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b}=\begin{bmatrix}5\\6\\1\end{bmatrix}\)</span>. By working out the scalar product of <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> and setting <span class="math inline">\(\mathbf{a}\cdot\mathbf{b} = 0\)</span>, you can find the value of <span class="math inline">\(z\)</span> for which <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> are perpendicular. Doing this gives <span class="math display">\[\mathbf{a}\cdot\mathbf{b}=\begin{bmatrix}2\\1\\z\end{bmatrix}\cdot\begin{bmatrix}5\\6\\1\end{bmatrix}=(2)(5)+(1)(6)+(z)(1)=10+6+z=16+z\]</span> Setting this scalar product to be zero allows you to find the value of <span class="math inline">\(z\)</span> such that <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> are perpendicular. So setting <span class="math inline">\(16 + z = 0\)</span> gives <span class="math inline">\(z=-16\)</span>.</p>
</div>
</div>
<section id="quick-check-problems" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="quick-check-problems">Quick check problems</h2>
<!-- add facility for webexercises to work on html -->
<!-- add facility to check answers at end rather than one at a time -->
<div class="webex-check webex-box" data-topic="TSP1">
<ol type="1">
<li>Using the algebraic definition, what is the scalar product of the vectors <span class="math inline">\(\mathbf{a}=\begin{bmatrix}1\\2\\-1\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b}=\begin{bmatrix}2\\10\\15\end{bmatrix}\)</span>?</li>
</ol>
<p>Answer: The scalar product <span class="math inline">\(\mathbf{a}\cdot\mathbf{b}\)</span> is equal to <input class="webex-solveme nospaces" size="1" data-answer="[&quot;7&quot;]">.</p>
<!-- 2. What is the scalar product of $\mathbf{u}\begin{bmatrix}5\\7\\-13\end{bmatrix}$ with itself?  -->
<!-- Answer: The scalar product is equal to the square of the magnitude of the vector. So, the scalar product is equal to <input class='webex-solveme nospaces' size='3' data-answer='["243"]'/>. -->
<ol start="2" type="1">
<li>What is the scalar product of <span class="math inline">\(\mathbf{a}=3\mathbf{i}+\mathbf{j}-\mathbf{k}\)</span> and <span class="math inline">\(\mathbf{b}=4\mathbf{i}+5\mathbf{j}+\mathbf{k}\)</span>?</li>
</ol>
<p>Answer: The scalar product is equal to <input class="webex-solveme nospaces" size="2" data-answer="[&quot;16&quot;]">.</p>
<ol start="3" type="1">
<li>Working in degrees, find the angle between the vectors <span class="math inline">\(\mathbf{a}=\begin{bmatrix}7\\-4\\11\end{bmatrix}\)</span> and <span class="math inline">\(\mathbf{b} =\begin{bmatrix}5\\2\\2\end{bmatrix}\)</span>.</li>
</ol>
<p>Answer: The angle is <input class="webex-solveme nospaces" size="2" data-answer="[&quot;51&quot;]"> degrees accurate to the nearest whole number.</p>
</div>
</section>
</section>
<section id="further-reading" class="level1 unnumbered">
<h1 class="unnumbered">Further reading</h1>
<p><a href="../questions/qs-scalarproduct.html">For more questions on this topic, please go to Questions: The scalar product.</a></p>
<p>If you are unsure about any of the concepts involving vectors in this guide, please see <a href="../studyguides/introductiontovectors.html">Guide: Introduction to vectors</a> or <a href="../studyguides/addandsm.html">Guide: Vector addition and scalar multiplication</a>.</p>
<p>If you would like to know more about why the two definitions of the scalar product are equal, or why the seven numbered properties of the scalar product are true, please see <a href="../proofsheets/ps-scalarproduct.html">Proof sheet: The scalar product</a>.</p>
<section id="version-history-and-licensing" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="version-history-and-licensing">Version history and licensing</h2>
<p>v1.0: initial version created 08/23 by Isabella Lewis as part of a University of St Andrews STEP project.</p>
<ul>
<li>v1.1: edited 05/24 by tdhc.</li>
</ul>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1">This work is licensed under CC BY-NC-SA 4.0.</a></p>


</section>
</section>

</main> <!-- /main -->
<script>

/* once a quickcheck is completed, we pass in the topic id and concatenate it into a quickcheck (qc) id
   and store that in local storage to persist across webpages so we know which topics have been completed */
function markTopicCompleted(topicId) {
  if (!topicId || typeof topicId !== 'string') { console.error('Invalid topicId:', topicId); return; }
  
  const storageKey = 'qc-completed-' + topicId;
  localStorage.setItem(storageKey, 'true');
  console.log(`Marked ${topicId} as completed (key: ${storageKey})`);
  
  updateTopicStatus(topicId); 
}

/* select all elements related to a certain topic, then check by fetching from local storage 
   whether the corresponding qc-id is marked as true for completed, or false for uncompleted 
   if so, add the "completed" css class id, for webex.css to update from a red cross to a green tick */
function updateTopicStatus(topicId) {
  const elements = document.querySelectorAll(`[data-topic="${topicId}"]`);
  const isCompleted = localStorage.getItem(`qc-completed-${topicId}`) === 'true';
  
  elements.forEach(el => {
    if (isCompleted) el.classList.add("completed");
    else el.classList.remove("completed");
  })

  console.log(`Updated UI for ${topicId}:`, isCompleted);
}

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");
  let allCorrect = false;

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) 
  {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
    if (correct === (solvemes + radiogroups + selects) && correct > 0) allCorrect = true;
  }

  if (allCorrect) // get the data-topic id for guide that just had its quick check problem fully completed and pass into chain of functions
  {
    const quickCheck = document.querySelector(".webex-check");
    const topicId = quickCheck?.getAttribute("data-topic");
    if (topicId) markTopicCompleted(topicId);
  }
}

/* used to identify each data topic element (on fullindex.html and each guide) and update the red cross to a green tick
   based on whether the corresponding quickcheck problem(s) have been completed for each respective guide */
function initializeAllTopics() {
  document.querySelectorAll('[data-topic]').forEach(el => {
    const topicId = el.getAttribute('data-topic');
    updateTopicStatus(topicId);
  });
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) cl.remove("open");
  else cl.add("open");
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) my_answer = my_answer.toLowerCase();
  if (cl.contains("nospaces")) my_answer = my_answer.replace(/ /g, "");

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if (this.dataset.tol > 0)
  {
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) cl.add("webex-correct");
    else cl.remove("webex-correct");
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) cl.add("webex-correct");
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") cl.add("webex-correct");
  else if (this.value != "blank") cl.add("webex-incorrect");

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") cl.add("webex-correct");
  else cl.add("webex-incorrect");

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++)
    if (buttons[i].parentElement.classList.contains('webex-solution')) buttons[i].onclick = b_func;

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);

  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) real_answer = real_answer.toLowerCase();
    if (cl.contains("nospaces")) real_answer = real_answer.replace(/ /g, "");
  
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) radiogroups[i].onchange = radiogroups_func;

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* check each question to see whether it was answered correctly */
  update_total_correct();

  /* check each data-topic element and update from cross to tick if 
    corresponding quick check problem has been fully completed */
  initializeAllTopics();

  /* listens for storage updates, extracts topic id from qc-id, and updates UI through topic id  */
  window.addEventListener('storage', (changeDetails) => {
    if (changeDetails.key?.startsWith('qc-completed-')) 
    {
      const topicId = changeDetails.key.replace('qc-completed-', '');
      updateTopicStatus(topicId);
    }
  });
}

</script>
<!--------------------  Email Forms -----------------------------------
        Compiled into each .html page by Quarto.
        Website hosted and form handled by Netlify now
        Mailing list provided by mailerlite
        Input verified by reCaptcha2 
        
        Authors (recent to latest): 
           Tristin Doherty (Trido)
           Mohit Agarwal (Mohit-Agarwa1)
--------------------------------------------------------------------->
<script>
  // Adds an extra layer of validation to aid user input,
  // some of these are covered by basic html form validations as well, but netlify handles everything else
  document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector("form[name='feedback']"); 
    
    form.addEventListener("submit", function(event) {
        const nameInput = document.querySelector("input[name='name']")?.value.trim();
        const emailInput = document.querySelector("input[name='email']")?.value.trim(); 
        const feedbackInput = document.querySelector("textarea[name='feedback']")?.value.trim();

        if (!nameInput)    { alert("Please enter a name."); return; }
        if (!emailInput)   { alert("Please enter an email."); return; }
        if (!feedbackInput) { alert("Please fill out the feedback field."); return; }
        
        event.preventDefault(); //allows javascript to handle submitting form details instead of HTML
        const subjectInput = document.querySelector("input[name='subject']");
                
        // sanitise inputs
        const sanitizedName = sanitizeInput(nameInput); 
        const sanitizedEmail = sanitizeEmail(emailInput);
        const sanitizedFeedback = sanitizeInput(feedbackInput);

        // validate email
        if (!validateEmail(sanitizedEmail)) { alert("Please enter a valid email address."); return; }
        subjectInput.value = "Feedback from " + sanitizedEmail; // Updates subject line with sanitised email

        form.submit();
    });
});

// Removes leading and trailing whitespace for formatting, and replaces potentially harmful characters like "<" & ">", replaces them with HTML encodings
function sanitizeInput(input) {
  input = input.trim();                                      
  input = input.replace(/</g, "&lt;").replace(/>/g, "&gt;");
  return input;
}

// remove harmful characters from email being sent to subject line, by only permitting the characters specified in .replace()
function sanitizeEmail(email) {
  email = email.trim(); 
  email = email.replace(/[^a-zA-Z0-9@._-]/g, "");
  return email;
}

// This looks incredibly complicated, but its just regex taken from here to filter for emails that follow these formatting guidelines https://regex101.com/r/3uvtNl/1
function validateEmail(email) {
  const re = /^((?:[A-Za-z0-9!#$%&'*+\-\/=?^_`{|}~]|(?<=^|\.)"|"(?=$|\.|@)|(?<=".*)[ .](?=.*")|(?<!\.)\.){1,64})(@)((?:[A-Za-z0-9.\-])*(?:[A-Za-z0-9])\.(?:[A-Za-z0-9]){2,})$/gm; 
  return re.test(email);
}

</script>

<h1>Mailing List</h1>
<div class="ml-embedded" data-form="PEpZNW"></div>
<br><br>

<h1>Feedback</h1>
<p>Your feedback is appreciated and useful. Feel free to leave a comment here, <br>
but please be specific with any issues you encounter so we can help to resolve them <br>
(for example, what page it occured on, what you tried, and so on). </p>

<form name="feedback" method="POST" netlify="" netlify-honeypot="bot-field">
  <p style="display: none;"><label>Don't fill this out if you're human: <input name="bot-field"></label></p>
  <input type="hidden" name="subject" value="Feedback from unknown">

  <label for="name">Name: </label>
  <br>
  <input type="text" name="name" required="">
  <br><br>
  
  <label for="email">E-mail: </label>
  <br>
  <input type="email" name="email" required="">
  <br><br>
  
  <label for="feedback">Feedback: </label>
  <br>
  <textarea rows="5" cols="50" placeholder="Your feedback" name="feedback" required=""></textarea>
  <br><br>

  <!-- Google reCAPTCHA Widget -->
  <div class="g-recaptcha" data-sitekey="6LeiTt4qAAAAAGaEQOUljIc9e3iqDz6eH9Te_lQr"></div>
  <br>

  <button type="submit">Submit</button>
</form>

<script src="https://www.google.com/recaptcha/api.js" async="" defer=""></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../about.html">
<p>About</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../fullindex.html">
<p>Index</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../cookies.html">
<p>Cookie policy</p>
</a>
  </li>  
</ul>
    <div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../license.html">
<p>STARMAST Â© 2025 is licensed under CC BY-NC-SA 4.0.</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>