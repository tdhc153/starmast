<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tom Coleman">

<title>Expected value, variance, standard deviation – STARMAST</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-aa1d8570cb8b85794c5c5a916513ecb9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-5f5484d7ec656626cab3b40347c418b2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-aa1d8570cb8b85794c5c5a916513ecb9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<meta name="shinylive:serviceworker_dir" content="..">
<script src="../site_libs/quarto-contrib/shinylive-0.9.1/shinylive/load-shinylive-sw.js" type="module"></script>
<script src="../site_libs/quarto-contrib/shinylive-0.9.1/shinylive/run-python-blocks.js" type="module"></script>
<link href="../site_libs/quarto-contrib/shinylive-0.9.1/shinylive/shinylive.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/shinylive-quarto-css/shinylive-quarto.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-L30GVCTC8L"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-L30GVCTC8L', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":"",
"website_privacy_policy_url":"cookies.qmd"
  ,
"language":"en"
  });
});
</script> 
  
<script>
  window.addEventListener('load', function() {
    document.getElementById("cc-nb-title").innerHTML = "Your privacy is important to us";
    document.getElementById("cc-nb-text").innerHTML = "This website uses Google Analytics to measure traffic to and from the site, and to learn where our users come from. We use cookies to enable this service, alongside enabling our non-identifiable QuickCheck problem tracking. These are the sole purposes of enabling cookies on this website.";
  });
</script>

<script src="https://www.desmos.com/api/v1.11/calculator.js?apiKey=2949896c7db64d4a8a380b1e11254b5f"></script>
<script src="https://esm.sh/shinylive-r"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../webexfiles/webex.css">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logo-big.png" alt="" class="navbar-logo light-content">
    <img src="../logo-big.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">STARMAST</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../newsindex.html"> 
<span class="menu-text">News</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fullindex.html"> 
<span class="menu-text">Full index</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <div id="quarto-announcement" data-announcement-id="78946bb30c4840548b707679e0eb265d" class="alert alert-danger hidden"><i class="bi bi-database-add quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Latest content:</strong> Celebrating over 600 active users since launch - thank you for all your support! (01/12/25)</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#expected-value" id="toc-expected-value" class="nav-link" data-scroll-target="#expected-value">Expected value</a></li>
  <li><a href="#variance-and-standard-deviation" id="toc-variance-and-standard-deviation" class="nav-link" data-scroll-target="#variance-and-standard-deviation">Variance and standard deviation</a></li>
  <li><a href="#geometric-interpretations-of-the-expected-value-and-variance" id="toc-geometric-interpretations-of-the-expected-value-and-variance" class="nav-link" data-scroll-target="#geometric-interpretations-of-the-expected-value-and-variance">Geometric interpretations of the expected value and variance</a>
  <ul class="collapse">
  <li><a href="#normal-distribution" id="toc-normal-distribution" class="nav-link" data-scroll-target="#normal-distribution">Normal distribution</a></li>
  <li><a href="#exponential-distribution" id="toc-exponential-distribution" class="nav-link" data-scroll-target="#exponential-distribution">Exponential distribution</a></li>
  <li><a href="#beta-distribution" id="toc-beta-distribution" class="nav-link" data-scroll-target="#beta-distribution">Beta distribution</a></li>
  </ul></li>
  <li><a href="#quick-check-problems" id="toc-quick-check-problems" class="nav-link" data-scroll-target="#quick-check-problems">Quick check problems</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further reading</a>
  <ul class="collapse">
  <li><a href="#version-history-and-licensing" id="toc-version-history-and-licensing" class="nav-link" data-scroll-target="#version-history-and-licensing">Version history and licensing</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="expectedvariance.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="expectedvariance.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Expected value, variance, standard deviation</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Probability</div>
    <div class="quarto-category">Statistics</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tom Coleman </p>
          </div>
  </div>
    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Summary</div>
    This guide introduces expected values, variance, and standard deviation. These are key ideas in the concept of random variables, and they give information about the distribution of data conforming to a random variable.
  </div>
</div>


</header>


<p><em>Before reading this guide, it is highly recommended that you read <a href="../studyguides/pmfspdfscdfs.html">Guide: PMFs, PDFs, and CDFs</a> and [Guide: Introduction to data analysis].</em></p>
<table><tbody><tr><td style="vertical-align: middle"><strong>Narration of study guide:</strong>&nbsp;&nbsp;</td><td><audio controls=""><source src="./Narrations/expectedvariance.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio></td></tr></tbody></table>
<section id="introduction" class="level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>In <a href="../studyguides/pmfspdfscdfs.html">Guide: PMFs, PDFs, and CDFs</a>, you saw how these concepts are key tools in the study of probability, used to model and analyze the behaviour of random variables. As you have seen, these functions describe how probabilities are distributed across the possible outcomes of random events. For instance, the shape and position of the normal distribution (see Example 5 of <a href="../studyguides/pmfspdfscdfs.html">Guide: PMFs, PDFs, and CDFs</a>, or <a href="../factsheets/f-normaldist.html">Factsheet: The normal distribution</a>) can be modified by specifying the <strong>mean</strong> <span class="math inline">\(\mu\)</span> and the <strong>standard deviation</strong> <span class="math inline">\(\sigma\)</span>. But what are these quantities? What do they mean, and how can they be computed from a given PMF or PDF?</p>
<p>This guide illustrates the related concepts of the <strong>expected value</strong>, <strong>variance</strong>, and <strong>standard deviation</strong> of a random variable <span class="math inline">\(X\)</span>, and explains their usage and properties in probability theory. These concepts are not only found in statistics alone, but also in fields like classical and quantum mechanics, machine learning, and in decision theory.</p>
<!-- # Mean -->
<!-- The idea of a mean is central to data analysis, allowing you to find the central point of a set of data. -->
<!-- ::: {.callout-note icon="true"} -->
<!-- ## Definition of the mean -->
<!-- Suppose that you have a set of data $S = \{x_1,x_2,\ldots,x_n\}$. The **mean** of the data is given by $$\bar{x} = \dfrac{x_1 + x_2 + \ldots + x_n}{n} = \dfrac{\sum_{i = 1}^n x_i}{n}$$ that is, the sum of all of the elements of the set $S$ divided by the number of elements in $S$. -->
<!-- ::: -->
<!-- ::: callout-tip -->
<!-- The symbol $\sum$ is called **sigma notation** and represents the sum of all values in a particular set. In this example, it is adding the probabilities from all possible outcomes of a random variable $X$. For more examples, see [Guide: Introduction to sigma notation.](sigmanotation.qmd) -->
<!-- ::: -->
<!-- This is the **average** of the given data set. Here's an example of the mean in action. -->
<!-- ::: {.callout-note appearance="simple"} -->
<!-- ## Example 1 -->
<!-- The mean of the data set $\{1,2,3,4,5,6\}$ is $$\bar{x} = \dfrac{1+2+3+4+5+6}{6} = \frac{21}{6} = 3.5.$$ This shows that the mean does not have to be a particular value in the data set (unlike the mode, for instance). -->
<!-- ::: -->
<!-- ::: {.callout-note appearance="simple"} -->
<!-- ## Example 2 -->
<!-- You select five random Boole Bars from Cantor's confectionery and measure their lengths, which gives a data set of $\{4.53, 4.61, 4.33, 4.51, 4.52\}$ (all lengths measured in centimetres). The average length of a Boole bar from this data set is $$\bar{x} = \dfrac{4.53 + 4.61 + 4.33 + 4.51 + 4.52}{5} = \frac{22.5}{5} = 4.5.$$ -->
<!-- ::: -->
<!-- ## Sample mean versus population mean {.unnumbered} -->
<!-- You might have noticed here that the mean in Examples 1 and 2 was written as $\bar{x}$, whereas the mean in the statement of the normal distribution is written as $\mu$ (the Greek letter mu). The difference here is the idea of a **sample mean** $\bar{x}$ versus the **population mean** $\mu$. The two might be very different depending on the sample! -->
<!-- For instance, in Example 2, you worked out the sample mean length for a chocolate bar, but this doesn't necessarily mean that this is the mean of all of the chocolate bars ever made! This is an example of the difference between the sample mean and the population mean. -->
<!-- Often, population means can be very difficult to find. Suppose you wanted to find the average height of every adult in your home country. You would then have to potentially ask millions of people to report their height, and then work out the average. This is extremely impractical, and so a sample mean must be taken instead. To measure if your sample mean is a statistically significant representative of the population mean, you could use a **hypothesis test**; see [Guide: Hypothesis testing](hypothesistesting.qmd) for more. -->
<!-- Typically, what you would do is **model** the population to a certain probability distribution, and use the **expected value** of that probability distribution as an estimate of the population mean. This allows you to extrapolate statements about your sample to fit the entire population. -->
</section>
<section id="expected-value" class="level1 unnumbered">
<h1 class="unnumbered">Expected value</h1>
<p>Often, the arithmetic mean of the outcomes is not the correct way to go when it comes to thinking about where the ‘middle’ of the set of data (conforming to a random variable). This is because some outcomes are more likely to occur than others. More formally, in a PMF or PDF describing a probability distribution, it is not guaranteed that every value is equally likely to occur.</p>
<p>For instance, suppose you have two six-sided dice; one is fair, and one is biased to give a lower value more often than not.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(x\)</span></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbb{P}(X = x)\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
</tr>
</tbody>
</table>
<p>Table 1: PMF for rolling a fair six-sided die.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(y\)</span></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbb{P}(Y = y)\)</span></td>
<td><span class="math inline">\(\dfrac{1}{4}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{4}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{4}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{12}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{12}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{12}\)</span></td>
</tr>
</tbody>
</table>
<p>Table 2: PMF for rolling a biased six-sided die.</p>
<p>You could ask; if you rolled one of these dice, what is the value that you would expect to see? With the fair, it would be between <span class="math inline">\(3\)</span> and <span class="math inline">\(4\)</span> as every outcome is equally likely to occur. With the biased die, you are more likely to get a smaller number as the probability of getting a number less than or equal to three is higher. This is because the PMFs for these dice are different.</p>
<p>So how can you measure the ‘expected value’ of a random variable given by some PMF or PDF? The answer is to ‘weight’ the outcomes by their probabilities; this is the definition of an <strong>expected value</strong>:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Definition of the expected value
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose that you have a random variable <span class="math inline">\(X\)</span>.</p>
<ul>
<li><p>If <span class="math inline">\(X\)</span> is a discrete random variable with probability mass function <span class="math inline">\(p(x)\)</span>, then the <strong>expected value</strong> <span class="math inline">\(\mathbb{E}(X)\)</span> of <span class="math inline">\(X\)</span> is given by <span class="math display">\[\mathbb{E}(X) = \sum_{x} xp(x) = \sum_{x} x\mathbb{P}(X=x)\]</span> that is, the sum of an outcome <span class="math inline">\(x\)</span> multiplied by its probability <span class="math inline">\(p(x) = \mathbb{P}(X=x)\)</span> over all possible outcomes <span class="math inline">\(x\)</span>.</p></li>
<li><p>If <span class="math inline">\(X\)</span> is a continuous random variable with probability density function <span class="math inline">\(f(x)\)</span>, then the <strong>expected value</strong> <span class="math inline">\(\mathbb{E}(X)\)</span> of <span class="math inline">\(X\)</span> is given by <span class="math display">\[\mathbb{E}(X) = \int_{-\infty}^\infty xf(x) \,\textrm{d}x\]</span> that is, the integral of <span class="math inline">\(x\)</span> multiplied by its probability <span class="math inline">\(f(x)\)</span> over all possible values of <span class="math inline">\(x\)</span> in the real numbers.</p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Geometrically, the expected value is the ‘central point’ of the distribution of the data. See below for more details on this.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s look at the expected values of the two dice given above. The PMF for the fair die is given by</p>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(x\)</span></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbb{P}(X = x)\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{6}\)</span></td>
</tr>
</tbody>
</table>
<p>so the expected value <span class="math inline">\(\mathbb{E}(X)\)</span> of this die is <span class="math display">\[\begin{aligned}\mathbb{E}(X) &amp;= 1\cdot \frac{1}{6} + 2\cdot \frac{1}{6} + 3\cdot \frac{1}{6} + 4\cdot \frac{1}{6} + 5\cdot \frac{1}{6} + 6\cdot \frac{1}{6}\\[1em] &amp;= \dfrac{1 + 2 + 3 + 4 + 5 + 6}{6} = 3.5\end{aligned}\]</span> You can notice that this is the same as the mean of the outcomes; more on this later.</p>
<p>What about for the second, biased die? This has PMF</p>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(y\)</span></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbb{P}(Y = y)\)</span></td>
<td><span class="math inline">\(\dfrac{1}{4}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{4}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{4}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{12}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{12}\)</span></td>
<td><span class="math inline">\(\dfrac{1}{12}\)</span></td>
</tr>
</tbody>
</table>
<p>so the expected value <span class="math inline">\(\mathbb{E}(Y)\)</span> of this die is <span class="math display">\[\begin{aligned}\mathbb{E}(Y) &amp;= 1\cdot \frac{1}{4} + 2\cdot \frac{1}{4} + 3\cdot \frac{1}{4} + 4\cdot \frac{1}{12} + 5\cdot \frac{1}{12} + 6\cdot \frac{1}{12}\\[1em] &amp;= \dfrac{1 + 2 + 3}{4} + \dfrac{4 + 5 + 6}{12} = 2.75\end{aligned}\]</span> which is <strong>not</strong> the mean of the outcomes.</p>
<p>Both of these ‘expected values’ are impossible to obtain in practice; try finding a die that shows <span class="math inline">\(3.5\)</span> spots on the top! This is because the expected value actually represents the ‘central point’ of the distribution, rather than a specific outcome.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For a discrete random variable <span class="math inline">\(X\)</span> with finitely many values, the expected value <span class="math inline">\(\mathbb{E}(X)\)</span> only equals the mean of the outcomes if and only if the probability of each outcome <span class="math inline">\(\mathbb{P}(X=x)\)</span> is the same for every <span class="math inline">\(x\)</span>. If this happens, then <span class="math inline">\(\mathbb{P}(X=x) = 1/n\)</span>, and so the definition of expected value becomes <span class="math display">\[\mathbb{E}(X) = \sum_{x} x\mathbb{P}(X=x) = \sum_{x} x\cdot \frac{1}{n} = \dfrac{\sum_{x} x}{n}\]</span> which you can recognize as the mean.</p>
<p>But in all cases, the expected value of a random variable really is the ‘population mean’ of the probability distribution, which is not the same as the mean value of the outcomes. So <strong>in theoretical probability distributions, the concept of the population mean of a random variable and the expected value of a random variable are the same.</strong></p>
</div>
</div>
<p>Here’s an example of the expected value that introduces the idea of a <strong>Bernoulli trial</strong>.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Imagine that you are in charge of an experiment that either succeeds with probability <span class="math inline">\(p\)</span> or fails with probability <span class="math inline">\(q = 1-p\)</span>. You can write the outcome of success as <span class="math inline">\(1\)</span> and the outcome of failure as <span class="math inline">\(0\)</span>. Therefore, the sample space is <span class="math inline">\(\{0,1\}\)</span> with PMF <span class="math inline">\(b(0) = q = 1-p\)</span> and <span class="math inline">\(b(1) = p\)</span>. This is known as a <strong>Bernoulli trial</strong>.</p>
<p>Suppose that <span class="math inline">\(X\)</span> is a random variable represented by a Bernoulli trial. What is the expected value <span class="math inline">\(\mathbb{E}(X)\)</span>? You can use the definition of expected value to work this out: <span class="math display">\[\mathbb{E}(X) = 0\cdot (1-p) + 1\cdot p = p\]</span> and so the expected value of a Bernoulli trial is the probability of success <span class="math inline">\(p\)</span>.</p>
<p>Of course, much like the expected value of the dice above, this is impossible to obtain in practice!</p>
</div>
</div>
<p>Much like many other concepts in mathematics and statistics, you can use properties of expected values to build upon knowledge to find expected values of other random variables.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Properties of expected values
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(X\)</span> be a random variable (either discrete or continuous). Then the following properties are true for expected values:</p>
<ol type="1">
<li><p>If <span class="math inline">\(g\)</span> is a function, then you can define a new random variable <span class="math inline">\(Z = g(X)\)</span> with the outcomes as <span class="math inline">\(z = g(x)\)</span>.</p>
<ul>
<li><p>If <span class="math inline">\(X\)</span> is discrete with PMF <span class="math inline">\(f_X(x)\)</span>, then so is <span class="math inline">\(Z\)</span> and <span class="math display">\[\mathbb{E}(Z) = \mathbb{E}(g(X)) = \sum_{x} g(x)f_X(x).\]</span></p></li>
<li><p>If <span class="math inline">\(X\)</span> is continuous with PDF <span class="math inline">\(f_X(x)\)</span>, then so is <span class="math inline">\(Z\)</span> and <span class="math display">\[\mathbb{E}(Z) = \mathbb{E}(g(X)) = \int_{-\infty}^\infty g(x)f_X(x)\,\textrm{d}x.\]</span></p></li>
</ul></li>
</ol>
<p>From this and properties of summation and integration (see <a href="../studyguides/sigmanotation.html">Guide: Sigma notation</a> and [Guide: Properties of integration]) it follows that</p>
<ol start="2" type="1">
<li><p>If <span class="math inline">\(a,b\)</span> are real number constants, then <span class="math display">\[\mathbb{E}(aX + b) = a\mathbb{E}(X) + b.\]</span></p></li>
<li><p>If <span class="math inline">\(Y\)</span> is another random variable of the same type as <span class="math inline">\(X\)</span> (discrete or continuous), then <span class="math display">\[\mathbb{E}(X + Y) = \mathbb{E}(X) + \mathbb{E}(Y).\]</span></p></li>
<li><p>If <span class="math inline">\(Y\)</span> is a random variable that is <strong>independent</strong> of <span class="math inline">\(X\)</span>, then <span class="math display">\[\mathbb{E}(XY) = \mathbb{E}(X)\mathbb{E}(Y).\]</span></p></li>
</ol>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Properties 3 and 4 can be extended to any number of random variables (all pairwise independent in the case of 4.) For instance, if <span class="math inline">\(X_i\)</span> are all random variables (of the same type) for <span class="math inline">\(i = 1,\ldots,n\)</span>, then <span class="math display">\[\mathbb{E}\left(\sum_{i=1}^n X_i\right) = \sum_{i=1}^n \mathbb{E}(X_i).\]</span></p>
</div>
</div>
<p>You can use the properties of the expected value to find the expected value of some more probability distributions.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 3
</div>
</div>
<div class="callout-body-container callout-body">
<p>As seen in <a href="../studyguides/pmfspdfscdfs.html">Guide: PMFs, PDFs, CDFs</a>, a common example of a PMF is that of the <strong>binomial distribution</strong>. This is a type of PMF used to count the number of successes in a series of trials with only two possible outcomes: a success with probability <span class="math inline">\(p\)</span>, or a failure with probability <span class="math inline">\(q = 1 - p\)</span>. Here, the random variable <span class="math inline">\(X\)</span> is ‘number of successes’. Take <span class="math inline">\(x\)</span> to be the number of successes in a number <span class="math inline">\(n\)</span> of trials, <span class="math inline">\(p\)</span> is the probability of success in a single trial, and <span class="math inline">\(q = 1 - p\)</span> is the probability of failure. Then the PMF <span class="math inline">\(f(x)\)</span> for a binomial distribution is given by:</p>
<p><span class="math display">\[
f(x) = \binom{n}{x} p^x q^{(n-x)}
\]</span></p>
<p>How would you work out <span class="math inline">\(\mathbb{E}(X)\)</span> with this as the PMF? Instead, what you could do is use the fact that <span class="math inline">\(X\)</span> is a random variable that encapsulates the repetition of <span class="math inline">\(n\)</span> Bernoulli trials (see Example 2). So let <span class="math inline">\(Y\)</span> be the random variable describing a Bernoulli trial; it follows that <span class="math inline">\(X = nY\)</span>. You can then use Property 2 of the expected value to say that <span class="math display">\[\mathbb{E}(X) = \mathbb{E}(nY) = n\mathbb{E}(Y).\]</span> You know that <span class="math inline">\(\mathbb{E}(Y) = p\)</span> from Example 2, and so <span class="math display">\[\mathbb{E}(X) = n\mathbb{E}(Y) = np.\]</span></p>
</div>
</div>
</section>
<section id="variance-and-standard-deviation" class="level1 unnumbered">
<h1 class="unnumbered">Variance and standard deviation</h1>
<p>The expected value is the ‘central point’ of the probability distribution, which is only one of the key measures of the probability distribution. The other is how the probability is spread about this central point. This is known as the <strong>variance</strong> of the distribution. Related to the variance is the <strong>standard deviation</strong>.</p>
<p>Generally, the larger the variance, the more the data is spread out about the central point. Let’s take a look at the definition of the variance:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Definition of variance and standard deviation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose that you have a random variable <span class="math inline">\(X\)</span> with expected value/mean <span class="math inline">\(\mu = \mathbb{E}(X)\)</span>. The <strong>variance</strong> <span class="math inline">\(\mathbb{V}(X)\)</span> of <span class="math inline">\(X\)</span> is given by <span class="math display">\[\mathbb{V}(X) = \mathbb{E}\left((X-\mu)^2\right)\]</span> that is, the expected value (average) of the squared deviation of the random variable <span class="math inline">\(X\)</span> from the mean.</p>
<p>Using the fact that <span class="math inline">\(\mu = \mathbb{E}(X)\)</span> and properties of expected value, you can rephrase the variance by the formula <span class="math display">\[\mathbb{V}(X) = \mathbb{E}\left(X^2\right) - \mathbb{E}\left(X\right)^2\]</span></p>
<p>The <strong>standard deviation</strong> <span class="math inline">\(\sigma\)</span> is the square root of the variance; that is <span class="math display">\[\sigma = \sqrt{\mathbb{V}(X)}.\]</span> The standard deviation is so important that the variance is often written <span class="math inline">\(\sigma^2\)</span>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Much like sample means and population means, there is a concept of <strong>sample variance</strong> as well, to help line up distributions of samples compared to the overall distribution of the populations. See <a href="../studyguides/hypothesistesting.html">Guide: Introduction to hypothesis testing</a> for more.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>What is the variance and standard deviation of the PMF for rolling a fair die? You could use the second formula for variance to work this out. You know from Example 1 that <span class="math inline">\(\mathbb{E}(X) = 7/2 = 3.5\)</span>.</p>
<p>Now, you will need to work out <span class="math inline">\(\mathbb{E}(X^2)\)</span>. You can use the PMF to write <span class="math inline">\(x^2\)</span> for every <span class="math inline">\(x\)</span>, and then use this to work out <span class="math inline">\(\mathbb{E}(X^2)\)</span>.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th><span class="math inline">\(x\)</span></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(x^2\)</span></td>
<td>1</td>
<td>4</td>
<td>9</td>
<td>16</td>
<td>25</td>
<td>36</td>
</tr>
</tbody>
</table>
<p>so <span class="math inline">\(\mathbb{E}(X^2)\)</span> is <span class="math display">\[\begin{aligned}\mathbb{E}(X^2) &amp;= 1\cdot \frac{1}{6} + 4\cdot \frac{1}{6} + 9\cdot \frac{1}{6} + 16\cdot \frac{1}{6} + 25\cdot \frac{1}{6} + 36\cdot \frac{1}{6}\\[1em] &amp;= \dfrac{1 + 4 + 9 + 16 + 25 + 36}{6} = \frac{91}{6}\end{aligned}\]</span> You can now use this to work out the variance of the random variable: <span class="math display">\[\begin{aligned}\mathbb{V}(X) &amp;= \mathbb{E}(X^2) - \mathbb{E}(X)^2\\[1em] &amp;= \frac{91}{6} - \left(\frac{7}{2}\right)^2 = \frac{91}{6} - \frac{49}{4} = \frac{35}{12}\end{aligned}\]</span> Finally, the standard deviation is given by the square root of the variance, which means that <span class="math inline">\(\sigma = \sqrt{35/12} \approx 1.708.\)</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 5
</div>
</div>
<div class="callout-body-container callout-body">
<p>Consider a continuous random variable <span class="math inline">\(X\)</span> uniformly distributed between <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>, which you have seen in <a href="../studyguides/pmfspdfscdfs.html">Guide: PMFs, PDFs, CDFs</a>. The PDF of <span class="math inline">\(X\)</span> was given by:</p>
<p><span class="math display">\[f(x) =\begin{cases}\dfrac{1}{b-a} &amp; \textsf{if } a \leq x \leq b \\[0.5em]0 &amp; \textsf{otherwise} \end{cases}\]</span></p>
<p>Let’s find the expected value and variance of the uniform distribution.</p>
<p>Here, you can use the formula for the expected value (together with properties of integration, the definition of the probability density function, and the difference of two squares) to get <span class="math display">\[\begin{aligned} \mathbb{E}(X) &amp;= \int_{-\infty}^\infty xf(x)\, \textrm{d}x\\[1em] &amp;= \int_{-\infty}^a x\cdot 0\, \textrm{d}x + \int_{a}^b \frac{x}{b-a}\, \textrm{d}x + \int_{b}^\infty x\cdot 0\, \textrm{d}x\\[1em] &amp;= 0 + \left[\frac{x^2}{2(b-a)}\right]_a^b + 0 = \frac{b^2 - a^2}{2(b-a)} = \frac{1}{2}(a+b)\end{aligned}\]</span> This is what you would expect; it is the exact midpoint of the interval <span class="math inline">\([a,b]\)</span>!</p>
<p>To find the variance, you will need to find <span class="math inline">\(\mathbb{E}(X^2)\)</span>. You can modify the above working to get <span class="math display">\[\begin{aligned} \mathbb{E}(X^2) &amp;= \int_{-\infty}^\infty x^2f(x)\, \textrm{d}x\\[1em] &amp;= \int_{-\infty}^a x^2\cdot 0\, \textrm{d}x + \int_{a}^b \frac{x^2}{b-a}\, \textrm{d}x + \int_{b}^\infty x^2\cdot 0\, \textrm{d}x\\[1em] &amp;= 0 + \left[\frac{x^3}{3(b-a)}\right]_a^b + 0 = \frac{b^3 - a^3}{2(b-a)} = \frac{1}{3}(b^2 + ab + a^2)\end{aligned}\]</span> Finally, you can say that <span class="math display">\[\begin{aligned}\mathbb{V}(X) &amp;= \mathbb{E}(X^2) - \mathbb{E}(X)^2\\ &amp;= \frac{1}{3}(b^2+ab + a^2) - \left(\frac{1}{2}(b+a)\right)^2\\[0.5em] &amp;= \frac{1}{3}(b^2+ab + a^2) - \frac{1}{4}(b^2 + 2ab + a^2)\\[0.5em] &amp;= \frac{1}{12}(b^2 - 2ab + a^2) = \frac{1}{12}(b-a)^2\end{aligned}\]</span> and this is the variance.</p>
</div>
</div>
<p>Finally, the variance has properties like the expected value does:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Properties of variance
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(X\)</span> be a random variable (either discrete or continuous). Then the following properties hold for the variance of <span class="math inline">\(X\)</span>:</p>
<ol type="1">
<li><p><span class="math inline">\(\mathbb{V}(X)\geq 0\)</span>.</p></li>
<li><p>If <span class="math inline">\(a\)</span> is a real number then <span class="math display">\[\mathbb{V}(aX) = a^2\mathbb{V}(X).\]</span></p></li>
<li><p><span class="math inline">\(\mathbb{V}(X + b) = \mathbb{V}(X)\)</span> for all real numbers <span class="math inline">\(b\)</span>.</p></li>
<li><p>If <span class="math inline">\(Y\)</span> is another random variable of the same type as <span class="math inline">\(X\)</span> (discrete or continuous), and <span class="math inline">\(Y\)</span> is <strong>independent</strong> of <span class="math inline">\(X\)</span>, then <span class="math display">\[\mathbb{V}(X + Y) = \mathbb{V}(X) + \mathbb{V}(Y).\]</span></p></li>
</ol>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Property 4 can be extended to any number of pairwise independent random variables (all pairwise independent in the case of 4.) So if <span class="math inline">\(X_i\)</span> are all pairwise independent random variables (of the same type) for <span class="math inline">\(i = 1,\ldots,n\)</span>, then <span class="math display">\[\mathbb{V}\left(\sum_{i=1}^n X_i\right) = \sum_{i=1}^n \mathbb{V}(X_i).\]</span></p>
</div>
</div>
</section>
<section id="geometric-interpretations-of-the-expected-value-and-variance" class="level1">
<h1>Geometric interpretations of the expected value and variance</h1>
<p>You can use the interactive calculators below to explore the normal distribution, exponential distribution, and beta distribution (for more, see <a href="../overviews/o-distributions.html">Overview: Probability distributions</a>) by changing the mean <span class="math inline">\(\mu\)</span> and the variance <span class="math inline">\(\sigma^2\)</span> by using the sliders. You can see that changing the mean changes the centre of the curve. Increasing the variance leads to the curve being more spread out. Decreasing the variance makes the curve far more narrow - as the data are more clustered toward the mean with a smaller variance.</p>
<section id="normal-distribution" class="level2">
<h2 class="anchored" data-anchor-id="normal-distribution">Normal distribution</h2>
<p>The normal distribution has mean <span class="math inline">\(\mu\)</span> and variance <span class="math inline">\(\sigma^2\)</span>, where the probability density function is given by <span class="math display">\[f(x) = \frac{1}{\sigma \sqrt{2\pi}} \exp\left({-\frac{1}{2} \left( \frac{x - \mu}{\sigma} \right)^2}\right).\]</span></p>
<pre class="shinylive-r" data-engine="r"><code>#| '!! shinylive warning !!': |
#|   shinylive does not work in self-contained HTML documents.
#|   Please set `embed-resources: false` in your metadata.
#| standalone: true
#| viewerHeight: 770

library(shiny)
library(bslib)
library(ggplot2)

ui &lt;- page_fluid(
  title = "Normal distribution visualizer",
  
  # Plot at the top
  card(
    card_header("Normal distribution plot"),
    card_body(
      plotOutput("distPlot", height = "500px")
    )
  ),
  
  # Parameters below
  card(
    card_header("Distribution parameters"),
    card_body(
      layout_columns(
        col_widths = c(6, 6),
        sliderInput("mean", "Mean/expected value (μ):", 
                   min = -5, max = 5, value = 0, step = 0.1),
        sliderInput("variance", "Variance (σ²):", 
                   min = 0.25, max = 9, value = 1, step = 0.25)
      )
    )
  )
)

server &lt;- function(input, output, session) {
  
  # Generate the normal distribution plot
  output$distPlot &lt;- renderPlot({
    # Fixed range for x-axis to show consistent scale
    x_min &lt;- -8
    x_max &lt;- 8
    
    # Convert variance to standard deviation
    sd_val &lt;- sqrt(input$variance)
    
    # Create data frame for plotting
    x &lt;- seq(x_min, x_max, length.out = 500)
    y &lt;- dnorm(x, mean = input$mean, sd = sd_val)
    df &lt;- data.frame(x = x, y = y)
    
    # Create plot with fixed axes
    p &lt;- ggplot(df, aes(x = x, y = y)) +
      geom_line(color = "#3F6BB6", size = 1.2) +
      labs(x = "X", y = "Density",
           title = sprintf("Normal distribution: N(μ = %.1f, σ² = %.2f)", 
                          input$mean, input$variance)) +
      theme_minimal() +
      theme(
        panel.grid.minor = element_blank(),
        plot.title = element_text(hjust = 0.5, size = 16),
        axis.title = element_text(size = 14),
        axis.text = element_text(size = 12)
      ) +
      # Fixed axis limits
      xlim(x_min, x_max) +
      ylim(0, 0.8) +
      # Add reference line at x = 0
      geom_vline(xintercept = 0, linetype = "dashed", color = "gray50", alpha = 0.7) +
      # Add reference line at mean
      geom_vline(xintercept = input$mean, linetype = "dashed", color = "#DB4315", alpha = 0.7) +
      annotate("text", x = input$mean + 0.8, y = 0.7, label = "Mean", color = "#DB4315", size = 4)
    
    return(p)
  })
}

shinyApp(ui = ui, server = server)</code></pre>
</section>
<section id="exponential-distribution" class="level2">
<h2 class="anchored" data-anchor-id="exponential-distribution">Exponential distribution</h2>
<p>The exponential distribution has probability density function <span class="math display">\[f(x) = \lambda e^{-\lambda x},\]</span> where <span class="math inline">\(\lambda\)</span> is number of times an event occurs within a specific period of time. (For more on this, see <a href="../overviews/o-distributions.html">Overview: Probability distributions</a> It can be shown that the mean/expected value of the exponential distribution is <span class="math inline">\(\mu = 1/\lambda\)</span> and variance <span class="math inline">\(\sigma^2 = 1/\lambda^2\)</span>, and so both the expected value and variance depend on <span class="math inline">\(\lambda\)</span> - which explains the one slider.</p>
<pre class="shinylive-r" data-engine="r"><code>#| '!! shinylive warning !!': |
#|   shinylive does not work in self-contained HTML documents.
#|   Please set `embed-resources: false` in your metadata.
#| standalone: true
#| viewerHeight: 770

library(shiny)
library(bslib)
library(ggplot2)

ui &lt;- page_fluid(
  title = "Exponential distribution visualizer",
  
  # Plot at the top
  card(
    card_header("Exponential distribution plot"),
    card_body(
      plotOutput("distPlot", height = "500px")
    )
  ),
  
  # Parameters below
  card(
    card_header("Distribution parameters"),
    card_body(
      sliderInput("rate", "Rate parameter (λ):", 
                 min = 0.1, max = 3, value = 1, step = 0.1)
    )
  )
)

server &lt;- function(input, output, session) {
  
  # Generate the exponential distribution plot
  output$distPlot &lt;- renderPlot({
    # Fixed range for x-axis to show consistent scale
    x_min &lt;- 0
    x_max &lt;- 10
    
    # Create data frame for plotting
    x &lt;- seq(x_min, x_max, length.out = 500)
    y &lt;- dexp(x, rate = input$rate)
    df &lt;- data.frame(x = x, y = y)
    
    # Calculate mean and variance for display
    mean_val &lt;- 1 / input$rate
    variance_val &lt;- 1 / (input$rate^2)
    
    # Create plot with fixed axes
    p &lt;- ggplot(df, aes(x = x, y = y)) +
      geom_line(color = "#3F6BB6", size = 1.2) +
      labs(x = "X", y = "Density",
           title = sprintf("Exponential distribution: Exp(λ = %.1f)\nMean = %.2f, Variance = %.2f", 
                          input$rate, mean_val, variance_val)) +
      theme_minimal() +
      theme(
        panel.grid.minor = element_blank(),
        plot.title = element_text(hjust = 0.5, size = 16),
        axis.title = element_text(size = 14),
        axis.text = element_text(size = 12)
      ) +
      # Fixed axis limits
      xlim(x_min, x_max) +
      ylim(0, 3) +
      # Add reference line at mean
      geom_vline(xintercept = mean_val, linetype = "dashed", color = "#DB4315", alpha = 0.7) +
      annotate("text", x = mean_val + 0.5, y = 2.5, label = "Mean", color = "#DB4315", size = 4)
    
    return(p)
  })
}

shinyApp(ui = ui, server = server)</code></pre>
</section>
<section id="beta-distribution" class="level2">
<h2 class="anchored" data-anchor-id="beta-distribution">Beta distribution</h2>
<p>The beta distribution is used to model probabilities. It has probability density function <span class="math display">\[f(x) = \frac{x^{\alpha-1}(1-x)^{\beta-1}}{\textrm{B}(\alpha,\beta)},\]</span> where <span class="math inline">\(\textrm{B}\)</span> is the beta function and <span class="math inline">\(\alpha = k+1\)</span> and <span class="math inline">\(\beta = n - k + 1\)</span> are parameters for measuring the number of trials (<span class="math inline">\(k\)</span>) and the number of success of those trials (<span class="math inline">\(n\)</span>). It can be shown that the mean/expected value of the beta distribution is <span class="math inline">\(\mu = \dfrac{\alpha}{\alpha + \beta}\)</span> and variance <span class="math inline">\(\sigma^2 = \dfrac{\alpha\beta}{(\alpha+\beta)^2(\alpha+\beta+1)}\)</span>.</p>
<pre class="shinylive-r" data-engine="r"><code>#| '!! shinylive warning !!': |
#|   shinylive does not work in self-contained HTML documents.
#|   Please set `embed-resources: false` in your metadata.
#| standalone: true
#| viewerHeight: 770

library(shiny)
library(bslib)
library(ggplot2)

ui &lt;- page_fluid(
  title = "Beta distribution",
  
  # Plot at the top
  card(
    card_header("Beta distribution plot"),
    card_body(
      uiOutput("plot_title"),
      plotOutput("distPlot", height = "400px")
    )
  ),
  
  # Parameters below
  card(
    card_header("Distribution parameters"),
    card_body(
      layout_columns(
        col_widths = c(6, 6),
        sliderInput("mean", "Mean:", min = 0.1, max = 0.9, value = 0.5, step = 0.01),
        sliderInput("variance", "Variance:", min = 0.01, max = 0.2, value = 0.05, step = 0.01)
      )
    )
  )
)

server &lt;- function(input, output, session) {
  
  # Convert mean and variance to shape parameters
  beta_params &lt;- reactive({
    mean_val &lt;- input$mean
    var_val &lt;- input$variance
    
    # For a beta distribution: mean = α/(α+β), var = αβ/((α+β)²(α+β+1))
    # Solving for α and β given mean and variance:
    # α = mean * ((mean * (1 - mean)) / variance - 1)
    # β = (1 - mean) * ((mean * (1 - mean)) / variance - 1)
    
    # Ensure variance doesn't exceed theoretical maximum
    max_var &lt;- mean_val * (1 - mean_val) / 1.01  # Small buffer
    if (var_val &gt;= max_var) {
      var_val &lt;- max_var
    }
    
    common_term &lt;- (mean_val * (1 - mean_val)) / var_val - 1
    alpha &lt;- mean_val * common_term
    beta &lt;- (1 - mean_val) * common_term
    
    # Ensure positive parameters
    alpha &lt;- max(alpha, 0.01)
    beta &lt;- max(beta, 0.01)
    
    return(list(alpha = alpha, beta = beta))
  })
  
  # Display the plot title with distribution parameters
  output$plot_title &lt;- renderUI({
    params &lt;- beta_params()
    title &lt;- sprintf("Beta(α = %.2f, β = %.2f)", params$alpha, params$beta)
    subtitle &lt;- sprintf("Mean = %.2f, Variance = %.4f", input$mean, input$variance)
    div(
      tags$h4(title, style = "text-align: center; margin-bottom: 5px;"),
      tags$p(subtitle, style = "text-align: center; color: gray; margin-bottom: 15px;")
    )
  })
  
  # Generate the beta distribution plot
  output$distPlot &lt;- renderPlot({
    # Get shape parameters
    params &lt;- beta_params()
    shape1 &lt;- params$alpha
    shape2 &lt;- params$beta
    
    # Create data frame for plotting with fixed x range
    x_values &lt;- seq(0, 1, length.out = 500)
    density_values &lt;- dbeta(x_values, shape1 = shape1, shape2 = shape2)
    plot_df &lt;- data.frame(x = x_values, density = density_values)
    
    # Create plot with fixed axes
    p &lt;- ggplot(plot_df, aes(x = x, y = density)) +
      geom_line(size = 1, color = "#3F6BB6") +
      geom_area(aes(x = x, y = density), fill = "#3F6BB6", alpha = 0.3) +
      labs(x = "X", y = "Probability Density") +
      theme_minimal() +
      theme(panel.grid.minor = element_blank()) +
      xlim(0, 1) +
      ylim(0, 10) +  # Fixed y-axis range
      # Add reference line at mean
      geom_vline(xintercept = input$mean, linetype = "dashed", color = "#DB4315", alpha = 0.7) +
      annotate("text", x = input$mean + 0.08, y = 8.5, label = "Mean", color = "#DB4315", size = 4)
    
    return(p)
  })
}

shinyApp(ui = ui, server = server)
</code></pre>
</section>
</section>
<section id="quick-check-problems" class="level1">
<h1>Quick check problems</h1>
<div class="webex-check webex-box" data-topic="EVVSD1">
<ol type="1">
<li>Are the following statements true or false?</li>
</ol>
<!-- -->
<!-- (a) The sample mean ($\bar{x}$) is always equal to the population mean $\mu$: <select class='webex-select'><option value='blank'></option><option value=''>TRUE</option><option value='answer'>FALSE</option></select> -->
<ol type="a">
<li><p>The variance is a measure of how data is dispersed around the expected value: <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
<li><p>The standard deviation is the square of the variance: <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>The expected value is the ‘central point’ of the distribution: <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
</ol>
<!-- -->
<ol start="2" type="1">
<li>Find the expected value and variance for rolling a fair 4-sided die. You should give your answers as decimal numbers.</li>
</ol>
<p>The expected value is <span class="math inline">\(\mathbb{E}(X) =\)</span> <input class="webex-solveme nospaces" size="3" data-answer="[&quot;2.5&quot;]"> and the variance is <span class="math inline">\(\mathbb{V}(X) =\)</span> <input class="webex-solveme nospaces" size="4" data-answer="[&quot;1.25&quot;]">.</p>
<ol start="3" type="1">
<li>Using the results from Examples 1 and 4 and the properties of expected values and variance, find the expected value and variance for rolling three fair 6-sided dice. You can assume that the events are independent of each other. You should give your answers as decimal numbers.</li>
</ol>
<p>The expected value is <span class="math inline">\(\mu =\)</span> <input class="webex-solveme nospaces" size="4" data-answer="[&quot;10.5&quot;]"> and the variance is <span class="math inline">\(\sigma^2 =\)</span> <input class="webex-solveme nospaces" size="4" data-answer="[&quot;9.25&quot;]">.</p>
</div>
</section>
<section id="further-reading" class="level1 unnumbered">
<h1 class="unnumbered">Further reading</h1>
<p><a href="../questions/qs-expectedvariance.html">For more questions on the subject, please go to Questions: Expected value, variance, standard deviation.</a></p>
<p><a href="../proofsheets/ps-pmfspdfscdfs.html">For more on why some PMFs and PDFs are valid, please go to Proof sheet: PMFs, PDFs, CDFs.</a></p>
<p>For more on probability distributions see <a href="../overviews/o-distributions.html">Overview: Probability distributions.</a></p>
<section id="version-history-and-licensing" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="version-history-and-licensing">Version history and licensing</h2>
<p>v1.0: initial version created 08/25 by tdhc.</p>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1">This work is licensed under CC BY-NC-SA 4.0.</a></p>


</section>
</section>

</main> <!-- /main -->
<script>

/* once a quickcheck is completed, we pass in the topic id and concatenate it into a quickcheck (qc) id
   and store that in local storage to persist across webpages so we know which topics have been completed */
function markTopicCompleted(topicId) {
  if (!topicId || typeof topicId !== 'string') { console.error('Invalid topicId:', topicId); return; }
  
  const storageKey = 'qc-completed-' + topicId;
  localStorage.setItem(storageKey, 'true');
  console.log(`Marked ${topicId} as completed (key: ${storageKey})`);
  
  updateTopicStatus(topicId); 
}

/* select all elements related to a certain topic, then check by fetching from local storage 
   whether the corresponding qc-id is marked as true for completed, or false for uncompleted 
   if so, add the "completed" css class id, for webex.css to update from a red cross to a green tick */
function updateTopicStatus(topicId) {
  const elements = document.querySelectorAll(`[data-topic="${topicId}"]`);
  const isCompleted = localStorage.getItem(`qc-completed-${topicId}`) === 'true';
  
  elements.forEach(el => {
    if (isCompleted) el.classList.add("completed");
    else el.classList.remove("completed");
  })

  console.log(`Updated UI for ${topicId}:`, isCompleted);
}

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");
  let allCorrect = false;

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) 
  {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
    if (correct === (solvemes + radiogroups + selects) && correct > 0) allCorrect = true;
  }

  if (allCorrect) // get the data-topic id for guide that just had its quick check problem fully completed and pass into chain of functions
  {
    const quickCheck = document.querySelector(".webex-check");
    const topicId = quickCheck?.getAttribute("data-topic");
    if (topicId) markTopicCompleted(topicId);
  }
}

/* used to identify each data topic element (on fullindex.html and each guide) and update the red cross to a green tick
   based on whether the corresponding quickcheck problem(s) have been completed for each respective guide */
function initializeAllTopics() {
  document.querySelectorAll('[data-topic]').forEach(el => {
    const topicId = el.getAttribute('data-topic');
    updateTopicStatus(topicId);
  });
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) cl.remove("open");
  else cl.add("open");
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) my_answer = my_answer.toLowerCase();
  if (cl.contains("nospaces")) my_answer = my_answer.replace(/ /g, "");

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if (this.dataset.tol > 0)
  {
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) cl.add("webex-correct");
    else cl.remove("webex-correct");
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) cl.add("webex-correct");
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") cl.add("webex-correct");
  else if (this.value != "blank") cl.add("webex-incorrect");

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") cl.add("webex-correct");
  else cl.add("webex-incorrect");

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++)
    if (buttons[i].parentElement.classList.contains('webex-solution')) buttons[i].onclick = b_func;

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);

  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) real_answer = real_answer.toLowerCase();
    if (cl.contains("nospaces")) real_answer = real_answer.replace(/ /g, "");
  
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) radiogroups[i].onchange = radiogroups_func;

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* check each question to see whether it was answered correctly */
  update_total_correct();

  /* check each data-topic element and update from cross to tick if 
    corresponding quick check problem has been fully completed */
  initializeAllTopics();

  /* listens for storage updates, extracts topic id from qc-id, and updates UI through topic id  */
  window.addEventListener('storage', (changeDetails) => {
    if (changeDetails.key?.startsWith('qc-completed-')) 
    {
      const topicId = changeDetails.key.replace('qc-completed-', '');
      updateTopicStatus(topicId);
    }
  });
}

</script>
<!--------------------  Email Forms -----------------------------------
        Compiled into each .html page by Quarto.
        Website hosted and form handled by Netlify now
        Mailing list provided by mailerlite
        Input verified by reCaptcha2 
        
        Authors (recent to latest): 
           Tristin Doherty (Trido)
           Mohit Agarwal (Mohit-Agarwa1)
--------------------------------------------------------------------->
<script>
  // Adds an extra layer of validation to aid user input,
  // some of these are covered by basic html form validations as well, but netlify handles everything else
  document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector("form[name='feedback']"); 
    
    form.addEventListener("submit", function(event) {
        const nameInput = document.querySelector("input[name='name']")?.value.trim();
        const emailInput = document.querySelector("input[name='email']")?.value.trim(); 
        const feedbackInput = document.querySelector("textarea[name='feedback']")?.value.trim();

        if (!nameInput)    { alert("Please enter a name."); return; }
        if (!emailInput)   { alert("Please enter an email."); return; }
        if (!feedbackInput) { alert("Please fill out the feedback field."); return; }
        
        event.preventDefault(); //allows javascript to handle submitting form details instead of HTML
        const subjectInput = document.querySelector("input[name='subject']");
                
        // sanitise inputs
        const sanitizedName = sanitizeInput(nameInput); 
        const sanitizedEmail = sanitizeEmail(emailInput);
        const sanitizedFeedback = sanitizeInput(feedbackInput);

        // validate email
        if (!validateEmail(sanitizedEmail)) { alert("Please enter a valid email address."); return; }
        subjectInput.value = "Feedback from " + sanitizedEmail; // Updates subject line with sanitised email

        form.submit();
    });
});

// Removes leading and trailing whitespace for formatting, and replaces potentially harmful characters like "<" & ">", replaces them with HTML encodings
function sanitizeInput(input) {
  input = input.trim();                                      
  input = input.replace(/</g, "&lt;").replace(/>/g, "&gt;");
  return input;
}

// remove harmful characters from email being sent to subject line, by only permitting the characters specified in .replace()
function sanitizeEmail(email) {
  email = email.trim(); 
  email = email.replace(/[^a-zA-Z0-9@._-]/g, "");
  return email;
}

// This looks incredibly complicated, but its just regex taken from here to filter for emails that follow these formatting guidelines https://regex101.com/r/3uvtNl/1
function validateEmail(email) {
  const re = /^((?:[A-Za-z0-9!#$%&'*+\-\/=?^_`{|}~]|(?<=^|\.)"|"(?=$|\.|@)|(?<=".*)[ .](?=.*")|(?<!\.)\.){1,64})(@)((?:[A-Za-z0-9.\-])*(?:[A-Za-z0-9])\.(?:[A-Za-z0-9]){2,})$/gm; 
  return re.test(email);
}

</script>

<h1>Feedback</h1>
<p>Your feedback is appreciated and useful. Feel free to leave a comment here, <br>
but please be specific with any issues you encounter so we can help to resolve them <br>
(for example, what page it occured on, what you tried, and so on). </p>

<form name="feedback" method="POST" netlify="" netlify-honeypot="bot-field">
  <p style="display: none;"><label>Don't fill this out if you're human: <input name="bot-field"></label></p>
  <input type="hidden" name="subject" value="Feedback from unknown">

  <label for="name">Name: </label>
  <br>
  <input type="text" name="name" required="">
  <br><br>
  
  <label for="email">E-mail: </label>
  <br>
  <input type="email" name="email" required="">
  <br><br>
  
  <label for="feedback">Feedback: </label>
  <br>
  <textarea rows="5" cols="50" placeholder="Your feedback" name="feedback" required=""></textarea>
  <br><br>

  <!-- Google reCAPTCHA Widget -->
  <div class="g-recaptcha" data-sitekey="6LeiTt4qAAAAAGaEQOUljIc9e3iqDz6eH9Te_lQr"></div>
  <br>

  <button type="submit">Submit</button>
</form>

<script src="https://www.google.com/recaptcha/api.js" async="" defer=""></script>
<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      { pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.VERTICAL },
      'google_translate_element'
    );
  }
</script>

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function () {
    const targetSidebar = document.getElementById('quarto-margin-sidebar');
    if (!targetSidebar) return;

    const translateWrapper = document.createElement('div');
    translateWrapper.className = 'sidebar-section';
    translateWrapper.style.marginTop = '2em';

    const title = document.createElement('h5');
    title.innerText = 'Translate';

    const translatorDiv = document.createElement('div');
    translatorDiv.id = 'google_translate_element';

    translateWrapper.appendChild(title);
    translateWrapper.appendChild(translatorDiv);
    targetSidebar.appendChild(translateWrapper);

    const googleScript = document.createElement('script');
    googleScript.type = 'text/javascript';
    googleScript.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
    document.body.appendChild(googleScript);
  });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../about.html">
<p>About</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../fullindex.html">
<p>Index</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../cookies.html">
<p>Cookie policy</p>
</a>
  </li>  
</ul>
    <div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../license.html">
<p>STARMAST © 2025 is licensed under CC BY-NC-SA 4.0.</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>