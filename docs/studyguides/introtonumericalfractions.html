<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Donald Campbell">

<title>Introduction to fractions – STARMAST</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-aa1d8570cb8b85794c5c5a916513ecb9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-5f5484d7ec656626cab3b40347c418b2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-aa1d8570cb8b85794c5c5a916513ecb9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-L30GVCTC8L"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-L30GVCTC8L', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":"",
"website_privacy_policy_url":"cookies.qmd"
  ,
"language":"en"
  });
});
</script> 
  
<script>
  window.addEventListener('load', function() {
    document.getElementById("cc-nb-title").innerHTML = "Your privacy is important to us";
    document.getElementById("cc-nb-text").innerHTML = "This website uses Google Analytics to measure traffic to and from the site, and to learn where our users come from. We use cookies to enable this service, alongside enabling our non-identifiable QuickCheck problem tracking. These are the sole purposes of enabling cookies on this website.";
  });
</script>

<script src="https://www.desmos.com/api/v1.11/calculator.js?apiKey=2949896c7db64d4a8a380b1e11254b5f"></script>
<script src="https://esm.sh/shinylive-r"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../webexfiles/webex.css">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logo-big.png" alt="" class="navbar-logo light-content">
    <img src="../logo-big.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">STARMAST</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../newsindex.html"> 
<span class="menu-text">News</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fullindex.html"> 
<span class="menu-text">Full index</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <div id="quarto-announcement" data-announcement-id="78946bb30c4840548b707679e0eb265d" class="alert alert-danger hidden"><i class="bi bi-database-add quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Latest content:</strong> Celebrating over 600 active users since launch - thank you for all your support! (01/12/25)</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-a-fraction" id="toc-what-is-a-fraction" class="nav-link active" data-scroll-target="#what-is-a-fraction">What is a fraction?</a></li>
  <li><a href="#types-of-fractions" id="toc-types-of-fractions" class="nav-link" data-scroll-target="#types-of-fractions">Types of fractions</a></li>
  <li><a href="#converting-between-improper-fractions-and-mixed-numbers" id="toc-converting-between-improper-fractions-and-mixed-numbers" class="nav-link" data-scroll-target="#converting-between-improper-fractions-and-mixed-numbers">Converting between improper fractions and mixed numbers</a></li>
  <li><a href="#equivalent-fractions" id="toc-equivalent-fractions" class="nav-link" data-scroll-target="#equivalent-fractions">Equivalent fractions</a></li>
  <li><a href="#simplifying-fractions" id="toc-simplifying-fractions" class="nav-link" data-scroll-target="#simplifying-fractions">Simplifying fractions</a></li>
  <li><a href="#quick-check-problems" id="toc-quick-check-problems" class="nav-link" data-scroll-target="#quick-check-problems">Quick check problems</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further reading</a>
  <ul class="collapse">
  <li><a href="#version-history" id="toc-version-history" class="nav-link" data-scroll-target="#version-history">Version history</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="introtonumericalfractions.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="introtonumericalfractions.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to fractions</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Arithmetic</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Donald Campbell </p>
          </div>
  </div>
    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Summary</div>
    Fractions are a fundamental concept used to represent parts of a whole. They provide a precise way to describe values that are not whole numbers, helping you to understand the relationship between different quantities. Fractions are essential in many daily tasks, such as managing finances or using recipes, and are vital in technical fields from engineering to medicine.
  </div>
</div>


</header>


<!--No prerequisites for this guide-->
<section id="what-is-a-fraction" class="level1">
<h1>What is a fraction?</h1>
<p>A <strong>fraction</strong> is a way of showing part of a whole object. Fractions give you a way of writing numbers that do not come out as whole numbers.</p>
<p>Imagine you cut a pizza into eight equal slices. If you eat three slices, you have eaten <span class="math display">\[\frac{3}{8} \qquad \textsf{three eighths}\]</span></p>
<p>This means that you have eaten three out of eight slices of the whole pizza.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Definition of a fraction
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>fraction</strong> is used to represent part of a whole. It has a <strong>numerator</strong> and a <strong>denominator</strong>, and is written in the form <span class="math display">\[\frac{\textsf{numerator}}{\textsf{denominator}}\]</span></p>
<ul>
<li>The numerator (top number) tells you how many parts you have.</li>
<li>The denominator (bottom number) tells you how many equal parts the whole is divided into.</li>
</ul>
</div>
</div>
<p>The idea of fractions is ancient. The Egyptians used a system for fractions around 1550 BC, but they mostly used <strong>unit fractions</strong>. These are fractions with a numerator of one (like <span class="math inline">\(\frac{1}{2}\)</span> or <span class="math inline">\(\frac{1}{4}\)</span>). Indian and Arabic mathematicians developed the modern style used today, where fractions are written with a numerator on top of a denominator separated by a bar.</p>
<p>In the pizza example, the numerator is the three pizza slices eaten, and the denominator is the eight equal parts the whole pizza is divided into.</p>
<p>You can move the sliders below to change the number of pizza slices shaded (numerator) and the total number of slices the pizza is divided into (denominator).</p>
<style>
  .frac { display:inline-flex; flex-direction:column; align-items:center; line-height:1.05; font-weight:700; font-size:1.6rem; }
  .frac .top, .frac .bottom { padding:0 .25em; }
  .frac .bar { width:100%; height:0; border-top:2px solid currentColor; margin:.12em 0 .06em; }
  .pizza-overlay { display:inline-block; width:fit-content; max-width:100%; margin:0; font-family: Arial, Helvetica, sans-serif; color:#000; background-color: #f5f8ff; padding: 1.5rem; border-radius: 12px; }
  .pizza-overlay input[type="range"]{ -webkit-appearance:none; appearance:none; width:100%; height:10px; border-radius:999px; background:#C0D6FF; outline:none; }
  .pizza-overlay input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%; background:#3F68B6; border:none; cursor: pointer; }
  .pizza-overlay input[type="range"]::-moz-range-thumb{ width:18px; height:18px; border-radius:50%; background:#3F68B6; border:none; cursor: pointer; }
  .pizza-overlay label, .pizza-overlay #pizzaReadout, .pizza-overlay #denOut, .pizza-overlay #numOut, .pizza-overlay .frac, .pizza-overlay .frac .top, .pizza-overlay .frac .bottom { font-family: Arial, Helvetica, sans-serif; color: #000; }
  .pizza-overlay .readout-title{ font-size: 1rem; color: #000; opacity: 1; margin-right: 0.5em; }
  .pizza-overlay #numOut, .pizza-overlay #denOut { display: inline-block; min-width: 1.6em; text-align: left; }
  #pizzaReadout { margin-top:.75rem; padding:.75rem 1rem; border-radius:10px; background:#f5f8ff; min-height: 4em; display: flex; align-items: center; justify-content: center; box-sizing: border-box; }
  @media (max-width: 600px){
    .pizza-grid{ grid-template-columns: 1fr !important; justify-items: center; gap: 0.75rem; }
    .pizza-overlay{ max-width: 96vw !important; }
    .pizza-overlay .frac .top, .pizza-overlay .frac .bottom{ font-size:1.35rem; }
    #pizzaReadout > div { display: flex; align-items: center; flex-wrap: nowrap; }
  }
</style>

<div style="display:flex; justify-content:center; margin:1rem 0;">
  <div class="pizza-overlay">
    <div class="pizza-grid" style="display:grid; grid-template-columns: 300px 240px; gap:1rem; align-items:start;">
      <div style="max-width:300px;">
        <img id="pizzaImg" src="FiguresPNG/introtonumericalfractions-fig1.png" alt="Pizza" style="display:none;">
        <canvas id="pizzaCanvas" width="600" height="600" style="width:100%; height:auto; border-radius:12px; background:#f5f8ff;"></canvas>
      </div>
      <div>
        <label for="num" style="display:block; margin-bottom:.25rem;">
          Shaded (numerator):
          <span id="numOut" style="margin-left:.35rem;">3</span>
        </label>
        <input id="num" type="range" min="0" max="8" value="3" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        <label for="den" style="display:block; margin-bottom:.25rem;">
          Slices (denominator):
          <span id="denOut" style="margin-left:.35rem;">8</span>
        </label>
        <input id="den" type="range" min="1" max="20" value="8" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        <div id="pizzaReadout">
          <div>
            <span class="readout-title">Shaded fraction:</span>
            <span id="fracMain"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  function ensureMathJax(cb){
    if (window.MathJax && MathJax.typesetPromise){ cb(); return; }
    if (!document.getElementById('mj-loader')){
      window.MathJax = window.MathJax || { tex:{inlineMath:[['\\(','\\)'],['$','$']]}, svg:{fontCache:'global'} };
      const s=document.createElement('script'); s.id='mj-loader'; s.defer=true;
      s.src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js';
      s.onload=cb; document.head.appendChild(s);
    } else {
      const t=setInterval(()=>{ if(window.MathJax && MathJax.typesetPromise){ clearInterval(t); cb(); } }, 50);
    }
  }
  const cssFrac = (n,d)=>`<span class="frac"><span class="top">${n}</span><span class="bar"></span><span class="bottom">${d}</span></span>`;
  function setMJ(el, n, d){
    if (window.MathJax && MathJax.typesetPromise){
      el.innerHTML = `\\(\\dfrac{${n}}{${d}}\\)`;
      MathJax.typesetPromise([el]);
    } else {
      el.innerHTML = cssFrac(n,d);
    }
  }

  const ALIGN = { rScale: 0.90, angleDeg: 0, offsetX: 0, offsetY: 0.5 };
  const base  = "#371f09";
  const line  = "#371f09";
  const shade = "rgba(63,104,182,.60)";
  const img = document.getElementById("pizzaImg");
  const canvas = document.getElementById("pizzaCanvas");
  const ctx = canvas.getContext("2d");
  const den = document.getElementById("den");
  const num = document.getElementById("num");
  const denOut = document.getElementById("denOut");
  const numOut = document.getElementById("numOut");
  const fracMain = document.getElementById("fracMain");

  let W = canvas.width, H = canvas.height;
  let cx = W/2, cy = H/2, R = Math.min(W,H)*0.42;

  function paintRange(el){
    const min = +el.min, max = +el.max, val = +el.value;
    const pct = (max > min) ? ((val - min) / (max - min)) * 100 : 0;
    el.style.background = `linear-gradient(to right, #3F68B6 0%, #3F68B6 ${pct}%, #C0D6FF ${pct}%, #C0D6FF 100%)`;
  }

  function draw(){
    const d = +den.value;
    if (d < 1) { den.value = '1'; return; }
    if (+num.max !== d) num.max = String(d);
    if (+num.value > d) num.value = d;
    const dpr = window.devicePixelRatio || 1;
    const cssW = canvas.clientWidth || W;
    const cssH = canvas.clientHeight || H;
    canvas.width = Math.round(cssW * dpr);
    canvas.height = Math.round(cssH * dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
    W = cssW; H = cssH;
    ctx.clearRect(0,0,W,H);
    if (!img.complete || img.naturalWidth === 0) {
        console.error("Pizza image not loaded or has zero dimensions.");
        ctx.fillStyle = "#ddd";
        ctx.fillRect(0, 0, W, H);
        ctx.fillStyle = "#000";
        ctx.textAlign = "center";
        ctx.fillText("Image loading...", W/2, H/2);
        updateReadout();
        paintRange(num); paintRange(den);
        return;
    }
    const scale = Math.min(W / img.naturalWidth, H / img.naturalHeight);
    const drawW = img.naturalWidth * scale;
    const drawH = img.naturalHeight * scale;
    const dx = (W - drawW)/2;
    const dy = (H - drawH)/2;
    try { ctx.drawImage(img, dx, dy, drawW, drawH); }
    catch (e) {
        console.error("Error drawing image:", e);
        ctx.fillStyle = "#fdd";
        ctx.fillRect(0, 0, W, H);
        ctx.fillStyle = "#000";
        ctx.textAlign = "center";
        ctx.fillText("Error drawing image", W/2, H/2);
    }

    const imgMin = Math.min(drawW, drawH);
    R  = (imgMin * 0.5) * ALIGN.rScale;
    cx = W/2 + ALIGN.offsetX;
    cy = H/2 + ALIGN.offsetY;
    const startShift = (-Math.PI/2) + (ALIGN.angleDeg * Math.PI/180);
    const step = 2*Math.PI / d;
    const nAuto = +num.value;
    for(let k=0;k<d;k++){
      const a0 = startShift + k*step;
      const a1 = a0 + step;
      const shaded = k < nAuto;
      if (shaded){
        ctx.beginPath();
        ctx.moveTo(cx,cy);
        ctx.arc(cx,cy,R,a0,a1);
        ctx.closePath();
        ctx.fillStyle = shade;
        ctx.fill();
      }
      ctx.beginPath();
      ctx.moveTo(cx,cy);
      ctx.lineTo(cx + R*Math.cos(a0), cy + R*Math.sin(a0));
      ctx.strokeStyle = line; ctx.lineWidth = 4; ctx.stroke();
    }
    ctx.beginPath();
    ctx.arc(cx,cy,R,0,2*Math.PI);
    ctx.lineWidth = 6;
    ctx.strokeStyle = base;
    ctx.stroke();
    updateReadout();
    paintRange(num);
    paintRange(den);
  }

  function updateReadout() {
      const d = +den.value;
      const n = +num.value;
      denOut.textContent = d;
      numOut.textContent = n;
      if (d === 0) {
          fracMain.innerHTML = "Denominator cannot be zero.";
      } else {
          setMJ(fracMain, n, d);
      }
  }

  den.addEventListener("input", draw);
  num.addEventListener("input", draw);
  window.addEventListener("resize", draw);

  ensureMathJax(()=>{
      paintRange(num);
      paintRange(den);
      if (img.complete && img.naturalWidth > 0) {
        draw();
      } else {
        img.onload = () => { if (img.naturalWidth > 0) { draw(); } else { console.error("Image loaded but has zero width."); } };
        img.onerror = () => { console.error("Pizza image failed to load."); draw(); };
      }
  });
})();
</script>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can think of a fraction as: <span class="math display">\[\frac{\textsf{numerator}}{\textsf{denominator}} = \frac{\textsf{"number you have"}}{\textsf{"number in total"}}\]</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>You cannot avoid fractions! They are used all the time.</p>
<ol type="1">
<li><p>Suppose a recipe asks for one quarter of a kilogram of flour. If you do not use fractions and guess, you might add a whole cup more, making your cake dry and crumbly!</p></li>
<li><p>If 5 units of currency is split evenly between four people, each person gets a quarter of 5 which is 1.25. If you do not use fractions and guess, some of your friends might be unhappy!</p></li>
<li><p>If your boss says “I will meet you here in quarter of an hour”, they are using a fraction. They mean they are expecting you to arrive in 15 minutes. This would be impossible to work out without fractions!</p></li>
</ol>
</div>
</div>
<p>Fractions are different from whole numbers as whole numbers are numbers which have no fractional part. In fractions, you get a whole number when the numerator can be perfectly divided by the denominator with no remainder. The horizontal bar that separates the numerator and the denominator is another way of saying division. When talking about fractions, a whole number is typically referred to as a <strong>whole</strong>. <span class="math display">\[\frac{8}{8} = 1 \qquad \frac{12}{4} = 3 \qquad \frac{24}{4} = 6\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Any fraction for which the numerator is the same as the denominator is equivalent to one whole.</p>
</div>
</div>
</section>
<section id="types-of-fractions" class="level1">
<h1>Types of fractions</h1>
<p>So far, you have seen how fractions represent parts of a single whole. But what happens when you have more than one whole, such as one full pizza and an extra slice? To handle amounts that are less than one, you can use <strong>proper fractions</strong>. But if you want to handle amounts which are greater than one, there are two different types of fractions you can use; <strong>improper fractions</strong> or <strong>mixed numbers</strong>. <span class="math display">\[
\begin{array}{c}
\dfrac{3}{8} \\[1ex]
\textsf{three eighths} \\[0.5ex]
\textsf{proper fraction}
\end{array}
\qquad
\begin{array}{c}
\dfrac{7}{4} \\[1ex]
\textsf{seven quarters} \\[0.5ex]
\textsf{improper fraction}
\end{array}
\qquad
\begin{array}{c}
1\dfrac{3}{4} \\[1ex]
\textsf{one and three quarters} \\[0.5ex]
\textsf{mixed number}
\end{array}
\]</span></p>
<p>In each case, there is a different relationship between the numerator and the denominator. These differences are what define the three main types of fractions.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Types of fractions
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are three types of fractions.</p>
<ul>
<li><strong>Proper fraction</strong>: A fraction where the numerator is less than the denominator.</li>
<li><strong>Improper fraction</strong>: A fraction where the numerator is greater than or equal to the denominator.</li>
<li><strong>Mixed number</strong>: A whole number and a proper fraction together.</li>
</ul>
<p>An improper fraction is also known as a “top-heavy” fraction.</p>
</div>
</div>
<p>How does this compare to the examples from before?</p>
<ul>
<li>The fraction <span class="math inline">\(\frac{3}{8}\)</span> is a proper fraction as the numerator <span class="math inline">\(3\)</span> is less than the denominator <span class="math inline">\(8\)</span>.</li>
<li>The fraction <span class="math inline">\(\frac{7}{4}\)</span> is an improper fraction as the numerator <span class="math inline">\(7\)</span> is greater than or equal to the denominator <span class="math inline">\(4\)</span>.</li>
<li>The fraction <span class="math inline">\(1\frac{3}{4}\)</span> is a mixed number as it consists of a whole number <span class="math inline">\(1\)</span> and a proper fraction <span class="math inline">\(\frac{3}{4}\)</span>.</li>
</ul>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Below are some more examples of proper fractions, improper fractions and mixed numbers. <span class="math display">\[
\begin{aligned}
\textsf{Proper fractions:} \quad &amp; \frac{1}{4} \quad \frac{1}{2} \quad \frac{14}{25} \\[0.5em]
\textsf{Improper fractions:} \quad &amp; \frac{7}{4} \quad \frac{5}{2} \quad \frac{27}{25} \quad \frac{2}{2} \\[0.5em]
\textsf{Mixed numbers:} \quad &amp; 1\frac{3}{4} \quad 2\frac{1}{2} \quad 1\frac{2}{25}
\end{aligned}
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can notice that all the proper fractions are less than one whole, and that all the improper fractions are greater than or equal to one whole. This is what distinguishes these two types of fractions from each other.</p>
</div>
</div>
<p>Use the sliders below to plot a fraction on the number line. For values greater than one, this interactive figure shows how an improper fraction (top) is equivalent to its mixed number form (bottom), reinforcing that they represent the same point on the line.</p>
<style>
    .numberline-widget {
        position: relative;
        display: inline-block;
        width: 100%;
        max-width: 800px;
        margin: 1rem auto;
        font-family: Arial, Helvetica, sans-serif;
        color: #000;
        background-color: #f5f8ff;
        padding: 1.5rem;
        border-radius: 12px;
        box-sizing: border-box;
        text-align: center;
    }

    #numberline-canvas {
        width: 100%;
        height: auto;
        margin-bottom: 1.5rem;
        background-color: #f5f8ff;
        border-radius: 8px;
    }

    .nl-controls {
        max-width: 450px;
        margin: 0 auto;
    }

    .numberline-widget input[type="range"] {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 10px;
        border-radius: 999px;
        background: #C0D6FF;
        outline: none;
        margin-top: 0.35rem;
        margin-bottom: 1.25rem;
    }

    .numberline-widget input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #3F68B6;
        border: none;
        cursor: pointer;
    }

    .numberline-widget input[type="range"]::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #3F68B6;
        border: none;
        cursor: pointer;
    }

    .numberline-widget label {
        display: block;
        text-align: left;
        margin-bottom: 0.25rem;
        font-size: 1rem;
    }

    .numberline-widget .slider-val {
        margin-left: .35rem;
        display: inline-block;
        min-width: 1.5em;
    }
    
    .nl-label {
        position: absolute;
        display: none;
        background-color: transparent;
        padding: 0.35rem 0.75rem;
        border-radius: 6px;
        font-size: 1.1rem;
        font-weight: bold;
        pointer-events: none;
        transform: translateX(-50%);
        white-space: nowrap;
    }

</style>

<div class="numberline-widget">
    <canvas id="numberline-canvas" width="1600" height="250"></canvas>
    <div id="nl-label-top" class="nl-label"></div>
    <div id="nl-label-bottom" class="nl-label"></div>
    <div class="nl-controls">
        <div>
            <label for="nl-num">
                Numerator:
                <span id="nl-numOut" class="slider-val">7</span>
            </label>
            <input id="nl-num" type="range" min="0" max="10" value="7" step="1">
        </div>
        <div>
            <label for="nl-den">
                Denominator:
                <span id="nl-denOut" class="slider-val">4</span>
            </label>
            <input id="nl-den" type="range" min="1" max="10" value="4" step="1">
        </div>
    </div>
</div>

<script>
    (function() {
        function ensureMathJax(cb) {
            if (window.MathJax && MathJax.typesetPromise) {
                cb();
                return;
            }
            if (!document.getElementById('mj-loader')) {
                window.MathJax = window.MathJax || {
                    tex: { inlineMath: [['\\(', '\\)'], ['$', '$']] },
                    svg: { fontCache: 'global' }
                };
                const s = document.createElement('script');
                s.id = 'mj-loader';
                s.defer = true;
                s.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js';
                s.onload = cb;
                document.head.appendChild(s);
            } else {
                const t = setInterval(() => {
                    if (window.MathJax && MathJax.typesetPromise) {
                        clearInterval(t);
                        cb();
                    }
                }, 50);
            }
        }

        const canvas = document.getElementById("numberline-canvas");
        const ctx = canvas.getContext("2d");
        const numSlider = document.getElementById("nl-num");
        const denSlider = document.getElementById("nl-den");
        const numOut = document.getElementById("nl-numOut");
        const denOut = document.getElementById("nl-denOut");
        const topLabel = document.getElementById('nl-label-top');
        const bottomLabel = document.getElementById('nl-label-bottom');
        const MAX_WHOLE_NUM = 4;

        function paintRange(el) {
            if (!el) return;
            const min = +el.min, max = +el.max, val = +el.value;
            const pct = (max > min) ? ((val - min) / (max - min)) * 100 : 0;
            el.style.background = `linear-gradient(to right, #3F68B6 0%, #3F68B6 ${pct}%, #C0D6FF ${pct}%, #C0D6FF 100%)`;
        }
        
        function updateAndDraw() {
            const d = +denSlider.value;
            const newNumMax = MAX_WHOLE_NUM * d;
            if (+numSlider.max !== newNumMax) numSlider.max = newNumMax;
            const n = +numSlider.value; 
            numOut.textContent = n;
            denOut.textContent = d;

            const dpr = window.devicePixelRatio || 1;
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
            const W = rect.width;
            const H = rect.height;

            ctx.clearRect(0, 0, W, H);
            const yLine = H * 0.5;
            const margin = W * 0.05;
            const unitWidth = (W - 2 * margin) / MAX_WHOLE_NUM;
            const tickSize = 10;
            const pointRadius = 12;
            
            ctx.beginPath();
            ctx.moveTo(margin, yLine);
            ctx.lineTo(W - margin, yLine);
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.stroke();

            for (let i = 0; i <= MAX_WHOLE_NUM * d; i++) {
                const x = margin + (i / d) * unitWidth;
                if (i % d === 0) {
                    const wholeNumber = i / d;
                    ctx.beginPath();
                    ctx.arc(x, yLine, pointRadius, 0, 2 * Math.PI);
                    ctx.fillStyle = '#f5f8ff';
                    ctx.fill();
                    ctx.strokeStyle = '#000';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                    ctx.font = 'bold 16px Arial';
                    ctx.fillStyle = '#000';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(wholeNumber, x, yLine + 1);
                } else {
                    ctx.beginPath();
                    ctx.moveTo(x, yLine - tickSize / 2);
                    ctx.lineTo(x, yLine + tickSize / 2);
                    ctx.lineWidth = 1;
                    ctx.strokeStyle = '#000';
                    ctx.stroke();
                }
            }
            
            const fracValue = n / d;
            const fracX = margin + fracValue * unitWidth;
            ctx.beginPath();
            ctx.arc(fracX, yLine, pointRadius, 0, 2 * Math.PI);
            ctx.fillStyle = '#DB4315';
            ctx.fill();
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            topLabel.innerHTML = `\\(\\dfrac{${n}}{${d}}\\)`;

            let bottomLatex = '';

            if (n === 0) {
                bottomLatex = `\\(0\\)`;
            } else {
                const isImproper = Math.abs(n) >= d && d !== 0;
                if (isImproper) {
                    const whole = Math.trunc(n / d);
                    const remN = Math.abs(n % d);
                    if (remN !== 0) {
                        bottomLatex = `\\(${whole}\\dfrac{${remN}}{${d}}\\)`;
                    } else {
                        bottomLatex = `\\(${whole}\\)`;
                    }
                }
            }

            bottomLabel.innerHTML = bottomLatex;
            
            MathJax.typesetPromise([topLabel, bottomLabel]).then(() => {
                topLabel.style.left = `${canvas.offsetLeft + fracX}px`;
                topLabel.style.top = `${canvas.offsetTop + yLine - 80}px`; 
                topLabel.style.display = 'block';
                if (bottomLatex) {
                    bottomLabel.style.left = `${canvas.offsetLeft + fracX}px`;
                    bottomLabel.style.top = `${canvas.offsetTop + yLine + 18}px`;
                    bottomLabel.style.display = 'block';
                } else {
                    bottomLabel.style.display = 'none';
                }
            });

            paintRange(numSlider);
            paintRange(denSlider);
        }
        
        numSlider.addEventListener('input', updateAndDraw);
        denSlider.addEventListener('input', updateAndDraw);
        window.addEventListener('resize', updateAndDraw);
        ensureMathJax(updateAndDraw);
    })();
</script>
</section>
<section id="converting-between-improper-fractions-and-mixed-numbers" class="level1">
<h1>Converting between improper fractions and mixed numbers</h1>
<p>As the number line illustrates, improper fractions and mixed numbers are equivalent forms of each other. There is a rule that you can follow to convert between them.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Converting between improper fractions and mixed numbers
</div>
</div>
<div class="callout-body-container callout-body">
<p>To convert an improper fraction into a mixed number:</p>
<ol type="1">
<li>Divide the numerator by the denominator.</li>
<li>Write the whole number part of your answer first.</li>
<li>Write the remainder over the same denominator for the fractional part of your answer.</li>
</ol>
<p>To convert a mixed number into an improper fraction:</p>
<ol type="1">
<li>Multiply the whole number part by the denominator.</li>
<li>Add the numerator.</li>
<li>Write this total over the same denominator.</li>
</ol>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 3
</div>
</div>
<div class="callout-body-container callout-body">
<p>Write <span class="math inline">\(\dfrac{11}{4}\)</span> as a mixed number.</p>
<p>Start by dividing the numerator <span class="math inline">\(11\)</span> by the denominator <span class="math inline">\(4\)</span> to get <span class="math inline">\(2\)</span> remainder <span class="math inline">\(3\)</span>. Write the whole number part <span class="math inline">\(2\)</span> first, then write the remainder <span class="math inline">\(3\)</span> over the denominator <span class="math inline">\(4\)</span> as the fractional part. <span class="math display">\[\frac{11}{4} = 2\frac{3}{4}\]</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Write <span class="math inline">\(3\dfrac{2}{5}\)</span> as an improper fraction.</p>
<p>Start by multiplying the whole number <span class="math inline">\(3\)</span> by the denominator <span class="math inline">\(5\)</span> to get <span class="math inline">\(15\)</span>. Then, add the numerator <span class="math inline">\(2\)</span> to get <span class="math inline">\(17\)</span>. Write this total over the same denominator <span class="math inline">\(5\)</span>. <span class="math display">\[3\frac{2}{5} = \frac{17}{5}\]</span></p>
</div>
</div>
<p>You can explore the relationship between improper and mixed numbers in the interactive figure below. Click the arrow to switch between building an improper fraction and a mixed number. Use the sliders to adjust the values and see how the visual representation and the numerical equation are connected.</p>
<style>
  .frac { display:inline-flex; flex-direction:column; align-items:center; line-height:1.05; font-weight:700; margin-left: 0.3em; font-size:1.6rem; }
  .frac .top, .frac .bottom { padding:0 .25em; }
  .frac .bar { width:100%; height:0; border-top:2px solid currentColor; margin:.12em 0 .06em; }
  .frac-whole { font-size: 1.6rem; font-weight: 700; }

  .fraction-widget {
    display:inline-block;
    width:fit-content;
    max-width:100%;
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    color:#000;
    background-color: #f5f8ff;
    padding: 1.5rem;
    border-radius: 12px;
  }

  .fraction-widget input[type="range"]{
    -webkit-appearance:none;
    appearance:none;
    width:100%;
    height:10px;
    border-radius:999px;
    background:#C0D6FF;
    outline:none;
  }
  .fraction-widget input[type="range"]::-webkit-slider-thumb{
    -webkit-appearance:none;
    appearance:none;
    width:18px;
    height:18px;
    border-radius:50%;
    background:#3F68B6;
    border:none;
    cursor: pointer;
  }
  .fraction-widget input[type="range"]::-moz-range-thumb{
    width:18px;
    height:18px;
    border-radius:50%;
    background:#3F68B6;
    border:none;
    cursor: pointer;
  }
  .fraction-widget label {
    font-family: Arial, Helvetica, sans-serif;
    color: #000;
    font-size: 1rem;
  }

  .fraction-grid {
    display:grid;
    grid-template-columns: 1fr;
    gap:1.5rem;
    align-items:start;
  }

  .fraction-canvases {
    display: flex;
    justify-content: center;
    gap: 0.75rem;
  }
  .fraction-canvases canvas {
    width: 34%;
    max-width: 240px;
    height: auto;
    border-radius: 12px;
    background: #f5f8ff;
  }

  .fraction-controls {
    max-width: 400px;
    margin: 0 auto;
    text-align: left;
  }

  #fractionReadout {
    margin-bottom: 1.5rem;
    padding:.75rem 1rem;
    border-radius:10px;
    background:#f5f8ff;
    height: 90px;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
  }
  #fraction-equation-output { font-size: 1.3rem; }

  .conversion-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
    background-color: #f5f8ff;
    padding: 0.75rem;
    border-radius: 8px;
    cursor: pointer;
    user-select: none;
  }
  .conversion-label { font-weight: normal; }
  #conversion-arrow { color: #3F68B6; transition: transform 0.4s ease-in-out; margin: 0 1rem; }
  #conversion-arrow.reversed { transform: rotate(180deg); }
  #fraction-whole-container { transition: opacity 0.3s ease-in-out; }

  @media (max-width: 800px){
    .fraction-widget{ max-width: 96vw !important; }
    .fraction-canvases { flex-direction: column; align-items: center; }
    .fraction-canvases canvas { width: 100%; max-width: 250px; }
  }
</style>

<div style="display:flex; justify-content:center; margin:1rem 0;">
  <div class="fraction-widget">
    <div class="fraction-grid">
      <div id="fractionCanvasContainer" class="fraction-canvases">
        <canvas id="fractionCanvas1" width="600" height="600"></canvas>
        <canvas id="fractionCanvas2" width="600" height="600"></canvas>
        <canvas id="fractionCanvas3" width="600" height="600"></canvas>
      </div>

      <div class="fraction-controls">
        <div id="fractionReadout">
          <span id="fraction-equation-output"></span>
        </div>

        <div id="conversion-toggle" class="conversion-toggle">
          <span id="label-improper" class="conversion-label">Improper Fraction</span>
          <svg id="conversion-arrow" width="32" height="32" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 12H20M20 12L14 6M20 12L14 18" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
          <span id="label-mixed" class="conversion-label">Mixed Number</span>
        </div>

        <div id="fraction-whole-container">
          <label for="fraction-whole" style="display:block; margin-bottom:.25rem;">
            Whole Number:
            <span id="fraction-wholeOut" style="margin-left:.35rem;">0</span>
          </label>
          <input id="fraction-whole" type="range" min="0" max="2" value="0" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        </div>

        <div>
          <label for="fraction-num" id="fraction-num-label" style="display:block; margin-bottom:.25rem;">
            Shaded (numerator):
            <span id="fraction-numOut" style="margin-left:.35rem;">13</span>
          </label>
          <input id="fraction-num" type="range" min="0" max="24" value="13" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        </div>

        <div>
          <label for="fraction-den" style="display:block; margin-bottom:.25rem;">
            Parts (denominator):
            <span id="fraction-denOut" style="margin-left:.35rem;">8</span>
          </label>
          <input id="fraction-den" type="range" min="1" max="10" value="8" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  function ensureMathJax(cb){
    if (window.MathJax && MathJax.typesetPromise){ cb(); return; }
    if (!document.getElementById('mj-loader')){
      window.MathJax = window.MathJax || {
        tex:{inlineMath:[['\\(','\\)'],['$','$']]},
        svg:{fontCache:'global'}
      };
      const s=document.createElement('script'); s.id='mj-loader'; s.defer=true;
      s.src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js';
      s.onload=cb; document.head.appendChild(s);
    } else {
      const t=setInterval(()=>{
        if(window.MathJax && MathJax.typesetPromise){ clearInterval(t); cb(); }
      },50);
    }
  }

  function setMJEquation(el, latexString) {
    if (window.MathJax && MathJax.typesetPromise) {
      el.innerHTML = latexString;
      MathJax.typesetPromise([el]);
    } else {
      el.innerHTML = `<span style="font-family: monospace; font-size: 1.4rem;">${latexString
        .replace(/\\\(|\\\)/g, '')
        .replace(/\\dfrac\{|\}/g, '')
        .replace(/\{/g, '/')}</span>`;
    }
  }

  const base  = "#000";
  const line  = "#000";
  const shade = "#3F68B6";

  const canvases = [
    document.getElementById("fractionCanvas1"),
    document.getElementById("fractionCanvas2"),
    document.getElementById("fractionCanvas3")
  ];
  const ctxs = canvases.map(canvas => canvas.getContext("2d"));

  const conversionToggle = document.getElementById("conversion-toggle");
  const conversionArrow = document.getElementById("conversion-arrow");

  const wholeContainer = document.getElementById("fraction-whole-container");
  const wholeSlider = document.getElementById("fraction-whole");
  const wholeOut = document.getElementById("fraction-wholeOut");

  const numSlider = document.getElementById("fraction-num");
  const numOut = document.getElementById("fraction-numOut");

  const denSlider = document.getElementById("fraction-den");
  const denOut = document.getElementById("fraction-denOut");

  const equationOutput = document.getElementById("fraction-equation-output");

  let isImproperToMixedMode = true;

  function paintRange(el){
    if (!el) return;
    const min = +el.min, max = +el.max, val = +el.value;
    const pct = (max > min) ? ((val - min) / (max - min)) * 100 : 0;
    el.style.background =
      `linear-gradient(to right, #3F68B6 0%, #3F68B6 ${pct}%, #C0D6FF ${pct}%, #C0D6FF 100%)`;
  }

  function drawCircle(canvas, ctx, numShaded, totalSlices) {
    const dpr = window.devicePixelRatio || 1;
    const cssW = canvas.clientWidth;
    if (cssW === 0) return;
    const cssH = canvas.clientHeight;

    canvas.width  = Math.round(cssW * dpr);
    canvas.height = Math.round(cssH * dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
    ctx.clearRect(0,0,cssW,cssH);

    const sizeMin = Math.min(cssW, cssH);
    const R  = sizeMin * 0.42;
    const cx = cssW / 2;
    const cy = cssH / 2;

    const startShift = -Math.PI / 2;
    const step = 2 * Math.PI / totalSlices;

    for (let k = 0; k < totalSlices; k++) {
      const a0 = startShift + k * step;
      const a1 = a0 + step;

      if (k < numShaded) {
        ctx.beginPath();
        ctx.moveTo(cx, cy);
        ctx.arc(cx, cy, R, a0, a1);
        ctx.closePath();
        ctx.fillStyle = shade;
        ctx.fill();
      }

      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(cx + R * Math.cos(a0), cy + R * Math.sin(a0));
      ctx.strokeStyle = line;
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.lineWidth = 3;
    ctx.strokeStyle = base;
    ctx.stroke();
  }

  function handleModeChange() {
    const denominator = +denSlider.value;
    const totalNumerator = isImproperToMixedMode
      ? +numSlider.value
      : (+wholeSlider.value * denominator) + +numSlider.value;

    isImproperToMixedMode = !isImproperToMixedMode;
    conversionArrow.classList.toggle('reversed', !isImproperToMixedMode);

    if (isImproperToMixedMode) {
      wholeSlider.disabled = true;
      wholeContainer.style.opacity = '0.5';
      numSlider.max = denominator * 3;
      numSlider.value = totalNumerator;
    } else {
      const wholePart = Math.floor(totalNumerator / denominator);
      const fractionalPart = totalNumerator % denominator;
      wholeSlider.disabled = false;
      wholeContainer.style.opacity = '1';
      wholeSlider.value = Math.min(+wholeSlider.max, wholePart);
      numSlider.max = Math.max(0, denominator);
      numSlider.value = fractionalPart;
    }
    draw();
  }

  function handleDenominatorChange() {
    const denominator = +denSlider.value;
    if (isImproperToMixedMode) {
      numSlider.max = denominator * 3;
    } else {
      numSlider.max = Math.max(0, denominator);
      if (+numSlider.value > +numSlider.max) {
        numSlider.value = numSlider.max;
      }
    }
    draw();
  }

  function draw() {
    const denominator = +denSlider.value;
    let totalNumerator = isImproperToMixedMode
      ? +numSlider.value
      : (+wholeSlider.value * denominator) + +numSlider.value;

    if (isImproperToMixedMode) {
      const wholePart = Math.floor(totalNumerator / denominator);
      wholeSlider.value = wholePart;
    }

    const slices1 = Math.min(totalNumerator, denominator);
    const slices2 = Math.min(Math.max(0, totalNumerator - denominator), denominator);
    const slices3 = Math.min(Math.max(0, totalNumerator - (denominator * 2)), denominator);

    drawCircle(canvases[0], ctxs[0], slices1, denominator);
    drawCircle(canvases[1], ctxs[1], slices2, denominator);
    drawCircle(canvases[2], ctxs[2], slices3, denominator);

    updateReadout(totalNumerator, denominator);
    paintRange(numSlider);
    paintRange(denSlider);
    paintRange(wholeSlider);
  }

  function updateReadout(totalNumerator, denominator) {
    denOut.textContent = denominator;
    numOut.textContent = numSlider.value;
    wholeOut.textContent = wholeSlider.value;

    if (denominator === 0) {
      equationOutput.innerHTML = "Denominator cannot be zero.";
      return;
    }

    const wholePart = Math.floor(totalNumerator / denominator);
    const fractionalNumerator = totalNumerator % denominator;

    let improperLatex = '';
    if (totalNumerator === 0) {
      improperLatex = '0';
    } else {
      improperLatex = `\\dfrac{${totalNumerator}}{${denominator}}`;
    }

    let mixedLatex = '';
    if (totalNumerator === 0) {
      mixedLatex = '0';
    } else if (fractionalNumerator === 0) {
      mixedLatex = String(wholePart);
    } else if (wholePart === 0) {
      mixedLatex = `\\dfrac{${fractionalNumerator}}{${denominator}}`;
    } else {
      mixedLatex = `${wholePart}\\dfrac{${fractionalNumerator}}{${denominator}}`;
    }

    const equationLatex = `\\(${improperLatex} = ${mixedLatex}\\)`;
    setMJEquation(equationOutput, equationLatex);
  }

  conversionToggle.addEventListener('click', handleModeChange);
  denSlider.addEventListener('input', handleDenominatorChange);
  numSlider.addEventListener('input', draw);
  wholeSlider.addEventListener('input', draw);

  const resizeObserver = new ResizeObserver(() => draw());
  resizeObserver.observe(document.getElementById('fractionCanvasContainer'));

  function initialize() {
    handleDenominatorChange();
    if (isImproperToMixedMode) {
      wholeSlider.disabled = true;
      wholeContainer.style.opacity = '0.5';
    }
    draw();
  }

  ensureMathJax(initialize);
})();
</script>

</section>
<section id="equivalent-fractions" class="level1">
<h1>Equivalent fractions</h1>
<p>Two fractions are called <strong>equivalent</strong> if they represent the same value, even though they have different numerators and denominators.</p>
<p>Imagine you’re back to eating pizza. Eating two slices out of a total of four is the same as eating four slices out of a total of eight, as you have eaten one half of the whole pizza in both cases.</p>
<p>This means that the two fractions are equivalent: <span class="math display">\[\frac{2}{4} = \frac{4}{8}\]</span></p>
<p>But why are they the same? Notice that to get from <span class="math inline">\(\frac{2}{4}\)</span> to <span class="math inline">\(\frac{4}{8}\)</span>, you need to multiply both the numerator and the denominator by two.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Creating equivalent fractions
</div>
</div>
<div class="callout-body-container callout-body">
<p>To create an <strong>equivalent fraction</strong>, multiply or divide both the numerator and the denominator by the same non-zero number. What you do to the top must be done to the bottom.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 5
</div>
</div>
<div class="callout-body-container callout-body">
<p>Find an equivalent fraction for <span class="math inline">\(\dfrac{2}{3}\)</span>.</p>
<p>To find an equivalent fraction, you need to multiply the top and bottom by any non-zero number, say five. <span class="math display">\[\frac{2}{3} = \frac{2 \cdot 5}{3 \cdot 5} = \frac{10}{15}\]</span></p>
<p>This means <span class="math inline">\(\frac{2}{3}\)</span> and <span class="math inline">\(\frac{10}{15}\)</span> are equivalent fractions.</p>
</div>
</div>
<p>The fraction wall below is a great way to see many common equivalent fractions at a glance. Hover over any block to highlight the cumulative fraction up to that point and see all the other fractions on the wall that represent the same value.</p>
<style>
.fw-widget{
  width:100%;
  max-width:800px;
  margin:1rem auto;
  font-family:Arial,Helvetica,sans-serif;
  border-radius:12px;
  background-color:#f5f8ff;
  padding:1.5rem;
  box-sizing:border-box
}
.fw-readout{
  min-height:4em;
  padding:.5em 1em;
  background-color:#f5f8ff;
  border-radius:8px;
  margin-bottom:1.25rem;
  text-align:center;
  font-size:1.1rem;
  color:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap
}
.fw-row{
  display:flex;
  width:100%;
  border-radius:0;
  overflow:hidden;
  margin-bottom:0
}
.fw-block{
  flex-grow:1;
  flex-basis:0;
  border-left:1px solid rgba(255,255,255,.35);
  border-top:1px solid rgba(0,0,0,.08);
  text-align:center;
  padding:.85em 0;
  font-weight:bold;
  font-size:.9rem;
  transition:opacity .15s ease-out;
  cursor:pointer;
  user-select:none;
  line-height:1;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#000
}
.fw-block:first-child{
  border-left:none
}
.fw-row[data-d="1"] .fw-block{
  border-top:none
}
.css-frac{
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  line-height:1.1;
  font-weight:700;
  vertical-align:middle;
  color:inherit;
  font-size:1em
}
.css-frac .top,.css-frac .bottom{
  padding:0 .15em
}
.css-frac .bar{
  width:90%;
  height:0;
  border-top:1.5px solid currentColor;
  margin:.05em 0
}
.fw-readout-css-frac{
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  line-height:1.05;
  font-weight:700;
  font-size:1.25rem;
  margin:0 .25em;
  vertical-align:middle;
  color:#000
}
.fw-readout-css-frac .top{
  padding:0 .25em
}
.fw-readout-css-frac .bar{
  width:100%;
  height:0;
  border-top:2px solid currentColor;
  margin:.12em 0 .06em
}
.fw-readout-css-frac .bottom{
  padding:0 .25em
}
.fw-block.fw-dimmed{
  opacity:.3
}
.fw-block.fw-highlighted{
  opacity:1
}
@media (max-width:600px){
  .fw-block{
    font-size:.8rem;
    padding:.7em .1em
  }
  .css-frac{
    font-size:1em
  }
  .fw-row[data-d="10"] .css-frac,
  .fw-row[data-d="12"] .css-frac{
    font-size:.9em
  }
}
@media (max-width:420px){
  .fw-row[data-d="8"] .css-frac,
  .fw-row[data-d="10"] .css-frac,
  .fw-row[data-d="12"] .css-frac{
    font-size:0
  }
}
</style>

<div class="fw-widget" id="fraction-wall-1">
  <div class="fw-readout">Hover over a block to see the fraction highlighted and its equivalent fractions.</div>
  <div class="fw-row" data-d="1">
    <div class="fw-block" data-n="1">1 Whole</div>
  </div>
  <div class="fw-row" data-d="2">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">2</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">2</span></span></div>
  </div>
  <div class="fw-row" data-d="3">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">3</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">3</span></span></div>
    <div class="fw-block" data-n="3"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">3</span></span></div>
  </div>
  <div class="fw-row" data-d="4">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">4</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">4</span></span></div>
    <div class="fw-block" data-n="3"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">4</span></span></div>
    <div class="fw-block" data-n="4"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">4</span></span></div>
  </div>
  <div class="fw-row" data-d="5">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">5</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">5</span></span></div>
    <div class="fw-block" data-n="3"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">5</span></span></div>
    <div class="fw-block" data-n="4"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">5</span></span></div>
    <div class="fw-block" data-n="5"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">5</span></span></div>
  </div>
  <div class="fw-row" data-d="6">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">6</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">6</span></span></div>
    <div class="fw-block" data-n="3"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">6</span></span></div>
    <div class="fw-block" data-n="4"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">6</span></span></div>
    <div class="fw-block" data-n="5"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">6</span></span></div>
    <div class="fw-block" data-n="6"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">6</span></span></div>
  </div>
  <div class="fw-row" data-d="8">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
    <div class="fw-block" data-n="3"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
    <div class="fw-block" data-n="4"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
    <div class="fw-block" data-n="5"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
    <div class="fw-block" data-n="6"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
    <div class="fw-block" data-n="7"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
    <div class="fw-block" data-n="8"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">8</span></span></div>
  </div>
  <div class="fw-row" data-d="10">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="3"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="4"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="5"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="6"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="7"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="8"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="9"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
    <div class="fw-block" data-n="10"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">10</span></span></div>
  </div>
  <div class="fw-row" data-d="12">
    <div class="fw-block" data-n="1"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="2"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="3"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="4"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="5"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="6"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="7"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="8"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="9"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="10"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="11"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
    <div class="fw-block" data-n="12"><span class="css-frac"><span class="top">1</span><span class="bar"></span><span class="bottom">12</span></span></div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded",function(){
  const widget=document.getElementById("fraction-wall-1");
  if(!widget)return;
  const allBlocks=widget.querySelectorAll(".fw-block");
  const allRows=[...widget.querySelectorAll(".fw-row")];
  const readout=widget.querySelector(".fw-readout");
  const defaultReadout=readout.innerHTML;
  let currentTarget=null;

  const cssReadoutFrac=(n,d)=>`<span class="fw-readout-css-frac"><span class="top">${n}</span><span class="bar"></span><span class="bottom">${d}</span></span>`;

  function hexToRgb(hex){
    const h=hex.replace("#","");
    const num=parseInt(h,16);
    return{
      r:(num>>16)&255,
      g:(num>>8)&255,
      b:num&255
    };
  }

  function relativeLuminance(r,g,b){
    const srgb=[r,g,b].map(v=>v/255);
    const lin=srgb.map(v=>v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4));
    return .2126*lin[0]+.7152*lin[1]+.0722*lin[2];
  }

  function contrastRatio(l1,l2){
    const L1=l1>l2?l1:l2;
    const L2=l1>l2?l2:l1;
    return (L1+.05)/(L2+.05);
  }

  function textColorForBg(rgb){
    const Lbg=relativeLuminance(rgb.r,rgb.g,rgb.b);
    const cw=contrastRatio(Lbg,1);
    const cb=contrastRatio(Lbg,0);
    return cw>=cb?"#f5f8ff":"#000000";
  }

  function lerpColor(c1,c2,t){
    return{
      r:Math.round(c1.r+(c2.r-c1.r)*t),
      g:Math.round(c1.g+(c2.g-c1.g)*t),
      b:Math.round(c1.b+(c2.b-c1.b)*t)
    };
  }

  const TOP_COLOR=hexToRgb("#3F68B6");
  const MID_COLOR=hexToRgb("#FFCB00");
  const BOTTOM_COLOR=hexToRgb("#DB4315");

  allRows.forEach((row,idx)=>{
    const blocks=[...row.querySelectorAll(".fw-block")];
    const t=allRows.length<=1?0:idx/(allRows.length-1);
    let rgb;
    if(t<=0.5){
      const f=t/0.5;
      rgb=lerpColor(TOP_COLOR,MID_COLOR,f);
    }else{
      const f=(t-0.5)/0.5;
      rgb=lerpColor(MID_COLOR,BOTTOM_COLOR,f);
    }
    const bg=`rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
    const tc=textColorForBg(rgb);
    blocks.forEach(bk=>{
      bk.style.backgroundColor = bg;
      bk.style.color = "#000";
      bk.style.borderLeftColor = "rgba(255,255,255,.35)";
      bk.style.borderTopColor = "rgba(0,0,0,.08)";
    });
  });

  function setReadout(n,d,equivalents){
    let html="";
    const equivHtml=equivalents.map(f=>{
      if(window.MathJax&&MathJax.typesetPromise){
        return`\\(\\dfrac{${f.n}}{${f.d}}\\)`;
      }
      return cssReadoutFrac(f.n,f.d);
    }).join('<span style="margin:0 .25em;">, </span>');
    if(window.MathJax&&MathJax.typesetPromise){
      html=`\\(\\dfrac{${n}}{${d}}\\)`;
      if(equivalents.length>0){
        html+='<span style="margin:0 .5em;"> is equivalent to </span>'+equivHtml;
      }
      readout.innerHTML=html;
      MathJax.typesetPromise([readout]);
    }else{
      html=cssReadoutFrac(n,d);
      if(equivalents.length>0){
        html+='<span style="margin:0 .5em;"> is equivalent to </span>'+equivHtml;
      }
      readout.innerHTML=html;
    }
  }

  function gcd(a,b){
    a=Math.abs(a);
    b=Math.abs(b);
    while(b){
      [a,b]=[b,a%b];
    }
    return a||1;
  }

  function handleHover(e){
    if(e.currentTarget===currentTarget)return;
    currentTarget=e.currentTarget;
    const targetBlock=e.currentTarget;
    const n=parseInt(targetBlock.dataset.n);
    const d=parseInt(targetBlock.parentElement.dataset.d);
    if(isNaN(n)||isNaN(d))return;
    const g=gcd(n,d);
    const ns=n/g;
    const ds=d/g;
    let equivalents=[];
    allBlocks.forEach(b=>{
      b.classList.remove("fw-highlighted");
      b.classList.add("fw-dimmed");
    });
    const parentRow=targetBlock.parentElement;
    for(let i=0;i<n;i++){
      if(parentRow.children[i]){
        parentRow.children[i].classList.remove("fw-dimmed");
        parentRow.children[i].classList.add("fw-highlighted");
      }
    }
    allRows.forEach(row=>{
      if(row===parentRow)return;
      const rowD=parseInt(row.dataset.d);
      if(isNaN(rowD))return;
      if((ns*rowD)%ds===0){
        const equivN=(ns*rowD)/ds;
        const equivG=gcd(equivN,rowD);
        if(equivN/equivG===ns&&rowD/equivG===ds){
          for(let i=0;i<equivN;i++){
            if(row.children[i]){
              row.children[i].classList.remove("fw-dimmed");
              row.children[i].classList.add("fw-highlighted");
            }
          }
          equivalents.push({n:equivN,d:rowD});
        }
      }
    });
    setReadout(n,d,equivalents);
  }

  function clearHover(){
    allBlocks.forEach(b=>{
      b.classList.remove("fw-dimmed");
      b.classList.remove("fw-highlighted");
    });
    readout.innerHTML=defaultReadout;
    currentTarget=null;
  }

  allBlocks.forEach(block=>block.addEventListener("mouseover",handleHover));
  widget.addEventListener("mouseleave",clearHover);
});
</script>

<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 6
</div>
</div>
<div class="callout-body-container callout-body">
<p>Below are some more examples of equivalent fractions. The fractions in each row are all equivalent to each other. <span class="math display">\[
\begin{aligned}
&amp;\frac{1}{2} = \frac{2}{4} = \frac{3}{6} = \frac{25}{50} \\[0.5em]
&amp;\frac{1}{3} = \frac{2}{6} = \frac{3}{9} = \frac{25}{75} \\[0.5em]
&amp;\frac{5}{6} = \frac{10}{12} = \frac{15}{18} = \frac{250}{300}
\end{aligned}
\]</span></p>
</div>
</div>
<p>You can explore the concept of equivalent fractions using the interactive figure below. Use the sliders to create an initial fraction (shown on the left) by setting the total number of parts (denominator) and the number of shaded parts (numerator). Then, adjust the multiplier slider to see how the visual representation and the numerical equation change.</p>
<p>Notice how both circles always represent the same shaded amount, demonstrating that the two fractions are equivalent.</p>
<style>
  .frac { display:inline-flex; flex-direction:column; align-items:center; line-height:1.05; font-weight: 700; font-size: 1.6rem; }
  .frac .top, .frac .bottom { padding:0 .25em; }
  .frac .bar { width:100%; height:0; border-top:2px solid currentColor; margin:.12em 0 .06em; }

  .circle-widget { 
    display:inline-block; 
    width:fit-content; 
    max-width:100%; 
    margin:0; 
    font-family: Arial, Helvetica, sans-serif; 
    color:#000; 
    background-color: #f5f8ff;
    padding: 1.5rem; 
    border-radius: 12px; 
  }
  .circle-widget input[type="range"]{ -webkit-appearance:none; appearance:none; width:100%; height:10px; border-radius:999px; background:#C0D6FF; outline:none; }
  .circle-widget input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%; background:#3F68B6; border:none; cursor: pointer; }
  .circle-widget input[type="range"]::-moz-range-thumb{ width:18px; height:18px; border-radius:50%; background:#3F68B6; border:none; cursor: pointer; }
  .circle-widget label { font-family: Arial, Helvetica, sans-serif; color: #000; font-size: 1rem; }

  #circle-numOut, #circle-denOut, #circle-multOut { display: inline-block; min-width: 1.2em; text-align: left; }

  .circle-grid { display:grid; grid-template-columns: 1fr; gap:1.5rem; align-items:start; }
  .circle-canvases { display: flex; flex-wrap: wrap; justify-content: center; gap: 1.5rem; }
  .circle-canvases canvas { width: 100%; max-width: 250px; height: auto; border-radius: 12px; background: #f5f8ff; }

  .circle-controls { max-width: 400px; margin: 0 auto; }

  #circleReadout { 
    margin-bottom: 1rem; 
    padding: 1rem; 
    border-radius:10px; 
    background:#f5f8ff; 
    text-align: center; 
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 60px;
  }

  .equiv-container { display: inline-flex; align-items: center; gap: 1rem; font-size: 1.6rem; font-weight: 700; }
  .equiv-op { display: flex; flex-direction: column; align-items: center; justify-content: center; line-height: 1; }
  .multiplier-text { font-size: 0.9rem; margin-bottom: -0.2em; color: #555; min-height: 1em; }

  @media (max-width: 600px){
    .circle-widget{ max-width: 96vw !important; }
  }
</style>

<div style="display:flex; justify-content:center; margin:1rem 0;">
  <div class="circle-widget">
    <div class="circle-grid">
      <div id="circleCanvasContainer" class="circle-canvases">
        <canvas id="circleCanvas1" width="600" height="600"></canvas>
        <canvas id="circleCanvas2" width="600" height="600"></canvas>
      </div>
      <div class="circle-controls">
        <div id="circleReadout">
          <span id="equiv-readout"></span>
        </div>
        <div>
          <label for="circle-num" style="display:block; margin-bottom:.25rem;">
            Shaded (numerator):
            <span id="circle-numOut" style="margin-left:.35rem;">2</span>
          </label>
          <input id="circle-num" type="range" min="0" max="4" value="2" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        </div>
        <div>
          <label for="circle-den" style="display:block; margin-bottom:.25rem;">
            Parts (denominator):
            <span id="circle-denOut" style="margin-left:.35rem;">4</span>
          </label>
          <input id="circle-den" type="range" min="1" max="10" value="4" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        </div>
        <div>
          <label for="circle-mult" style="display:block; margin-bottom:.25rem;">
            Multiplier:
            <span id="circle-multOut" style="margin-left:.35rem;">3</span>
          </label>
          <input id="circle-mult" type="range" min="1" max="5" value="3" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  function ensureMathJax(cb){
    if (window.MathJax && MathJax.typesetPromise){ cb(); return; }
    if (!document.getElementById('mj-loader')){
      window.MathJax = window.MathJax || { tex:{inlineMath:[['\\(','\\)'],['$','$']]}, svg:{fontCache:'global'} };
      const s=document.createElement('script'); s.id='mj-loader'; s.defer=true;
      s.src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js';
      s.onload=cb; document.head.appendChild(s);
    } else {
      const t=setInterval(()=>{ if(window.MathJax && MathJax.typesetPromise){ clearInterval(t); cb(); } }, 50);
    }
  }

  const cssFrac = (n,d)=>`<span class="frac"><span class="top">${n}</span><span class="bar"></span><span class="bottom">${d}</span></span>`;

  function setMJEquiv(el, n1, d1, m, n2, d2) {
    const multiplierText = `\\times ${m}`;
    if (window.MathJax && MathJax.typesetPromise) {
      el.innerHTML = `\\(\\dfrac{${n1}}{${d1}} \\overset{${multiplierText}}{=} \\dfrac{${n2}}{${d2}}\\)`;
      MathJax.typesetPromise([el]);
    } else {
      const multiplierHTML = `&times;${m}`;
      el.innerHTML = `
        <div class="equiv-container">
          ${cssFrac(n1, d1)}
          <div class="equiv-op">
            <span class="multiplier-text">${multiplierHTML}</span>
            <span>=</span>
          </div>
          ${cssFrac(n2, d2)}
        </div>
      `;
    }
  }

  const base  = "#000";
  const line  = "#000";
  const shade = "#3F68B6";

  const canvases = [ document.getElementById("circleCanvas1"), document.getElementById("circleCanvas2") ];
  const ctxs = canvases.map(canvas => canvas.getContext("2d"));

  const numSlider = document.getElementById("circle-num");
  const denSlider = document.getElementById("circle-den");
  const multSlider = document.getElementById("circle-mult");

  const numOut = document.getElementById("circle-numOut");
  const denOut = document.getElementById("circle-denOut");
  const multOut = document.getElementById("circle-multOut");
  const equivReadout = document.getElementById("equiv-readout");

  function paintRange(el){
    if (!el) return;
    const min = +el.min, max = +el.max, val = +el.value;
    const pct = (max > min) ? ((val - min) / (max - min)) * 100 : 0;
    el.style.background = `linear-gradient(to right, #3F68B6 0%, #3F68B6 ${pct}%, #C0D6FF ${pct}%, #C0D6FF 100%)`;
  }

  function drawCircle(canvas, ctx, numShaded, totalSlices) {
    const dpr = window.devicePixelRatio || 1;
    const cssW = canvas.clientWidth || 250;
    const cssH = canvas.clientHeight || 250;
    canvas.width = Math.round(cssW * dpr); 
    canvas.height = Math.round(cssH * dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
    ctx.clearRect(0,0,cssW,cssH);

    const sizeMin = Math.min(cssW, cssH);
    const R  = sizeMin * 0.4;
    const cx = cssW/2;
    const cy = cssH/2;
    const startShift = -Math.PI/2;
    const step = 2*Math.PI / totalSlices;

    for(let k=0; k < totalSlices; k++){
      const a0 = startShift + k * step;
      const a1 = a0 + step;
      if (k < numShaded){
        ctx.beginPath();
        ctx.moveTo(cx,cy);
        ctx.arc(cx,cy,R,a0,a1);
        ctx.closePath();
        ctx.fillStyle = shade;
        ctx.fill();
      }
      ctx.beginPath();
      ctx.moveTo(cx,cy);
      ctx.lineTo(cx + R * Math.cos(a0), cy + R * Math.sin(a0));
      ctx.strokeStyle = line; 
      ctx.lineWidth = 3; 
      ctx.stroke();
    }
    ctx.beginPath();
    ctx.arc(cx,cy,R,0,2*Math.PI);
    ctx.lineWidth = 4; 
    ctx.strokeStyle = base; 
    ctx.stroke();
  }

  function draw() {
    const denominator = +denSlider.value;
    numSlider.max = denominator;
    if (+numSlider.value > denominator) {
      numSlider.value = denominator;
    }
    const numerator = +numSlider.value;
    const multiplier = +multSlider.value;
    const equivDenominator = denominator * multiplier;
    const equivNumerator = numerator * multiplier;

    drawCircle(canvases[0], ctxs[0], numerator, denominator);
    drawCircle(canvases[1], ctxs[1], equivNumerator, equivDenominator);
    updateReadout(numerator, denominator, multiplier, equivNumerator, equivDenominator);
    paintRange(numSlider); 
    paintRange(denSlider); 
    paintRange(multSlider);
  }

  function updateReadout(n1, d1, m, n2, d2) {
    numOut.textContent = n1;
    denOut.textContent = d1;
    multOut.textContent = m;
    setMJEquiv(equivReadout, n1, d1, m, n2, d2);
  }

  denSlider.addEventListener('input', draw);
  numSlider.addEventListener('input', draw);
  multSlider.addEventListener('input', draw);

  const resizeObserver = new ResizeObserver(() => draw());
  resizeObserver.observe(document.getElementById('circleCanvasContainer'));

  function initialize() {
    draw();
  }

  ensureMathJax(initialize);
})();
</script>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>The concept of equivalent fractions also applies to negative fractions. A single negative sign can be placed with the numerator, the denominator, or in front of the entire fraction, and the value remains the same.</p>
<p>For example, all three of these forms represent the same value: <span class="math display">\[-\frac{3}{5} = \frac{-3}{5} = \frac{3}{-5}\]</span></p>
<p>By convention, it is most common to place the sign in front of the fraction, like <span class="math inline">\(-\frac{3}{5}\)</span>.</p>
<p>Also, positive fractions are equivalent to fractions with a negative numerator and a negative denominator as the multiplier is <span class="math inline">\(-1\)</span>. <span class="math display">\[\frac{3}{5} \overset{\times -1}{=} \frac{-3}{-5}\]</span></p>
</div>
</div>
<p>Finding equivalent fractions is necessary for comparing fractions, performing calculations with fractions, and developing good habits for later topics such as those explored in Guide: Arithmetic on numerical fractions, Guide: Introduction to algebraic fractions and Guide: Arithmetic on algebraic fractions. They are particularly helpful when you need to add together two fractions with different denominators.</p>
<p>The case of <strong>dividing</strong> the numerator and the denominator by the same number to find an equivalent fraction has a specific name. This is the topic of the next section.</p>
</section>
<section id="simplifying-fractions" class="level1">
<h1>Simplifying fractions</h1>
<p>In the previous section, you saw how to create equivalent fractions by multiplying the numerator and the denominator by the same number, such as changing <span class="math inline">\(\frac{2}{3}\)</span> into <span class="math inline">\(\frac{10}{15}\)</span>. You can also go in the other direction. The process of dividing both the numerator and the denominator by the same number is called <strong>simplifying</strong>.</p>
<p>Simplifying is how you find the <strong>lowest terms</strong> version of a fraction. In the pizza example, <span class="math inline">\(\frac{2}{4}\)</span> is equivalent to <span class="math inline">\(\frac{1}{2}\)</span>. Simplifying is the formal process for getting from <span class="math inline">\(\frac{2}{4}\)</span> back to <span class="math inline">\(\frac{1}{2}\)</span>. <span class="math display">\[\frac{2}{4} = \frac{2 \div 2}{4 \div 2} = \frac{1}{2}\]</span></p>
<p>To simplify fractions, it is important to know what is meant by common factors and, in particular, the <strong>highest common factor</strong>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Factors, common factors, and the highest common factor
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>factor</strong> is a whole number that divides exactly into another number, leaving no remainder.</p>
<p>When comparing the factors of two (or more) numbers, you can find their <strong>common factors</strong>. The numbers that appear in both lists of factors are the common factors.</p>
<p>The <strong>highest common factor</strong> is the largest number in the list of common factors.</p>
<p>To find the highest common factor:</p>
<ol type="1">
<li>List all the factors of the first number.</li>
<li>List all the factors of the second number.</li>
<li>Identify all the common factors (the numbers that appear in both lists).</li>
<li>The largest of these common factors is the highest common factor.</li>
</ol>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 7
</div>
</div>
<div class="callout-body-container callout-body">
<p>Find the highest common factor of <span class="math inline">\(20\)</span> and <span class="math inline">\(30\)</span>.</p>
<p>Start by identifying the factors of <span class="math inline">\(20\)</span>. These are the whole numbers that divide exactly into <span class="math inline">\(20\)</span>, leaving no remainder. <span class="math display">\[\textsf{Factors of } 20 \textsf{:} \quad 1 \quad 2 \quad 4 \quad 5 \quad 10 \quad 20\]</span></p>
<p>Now identify the factors of <span class="math inline">\(30\)</span>. These are the whole numbers that divide exactly into <span class="math inline">\(30\)</span>, leaving no remainder. <span class="math display">\[\textsf{Factors of } 30 \textsf{:} \quad 1 \quad 2 \quad 3 \quad 5 \quad 6 \quad 10 \quad 15 \quad 30\]</span></p>
<p>The numbers that appear in both lists are the common factors. <span class="math display">\[\textsf{Common factors:} \quad 1 \quad 2 \quad 5 \quad 10\]</span></p>
<p>The largest number appearing in this list of common factors is the highest common factor. <span class="math display">\[\textsf{Highest common factor:} \quad 10\]</span></p>
</div>
</div>
<p>Common factors are used in the process of determining whether a fraction is fully simplified or not. The method for fully simplifying a fraction depends on finding the highest common factor.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Simplifying fractions
</div>
</div>
<div class="callout-body-container callout-body">
<p>A fraction is <strong>fully simplified</strong>, in its <strong>simplest form</strong>, or in its <strong>lowest terms</strong> when its numerator and denominator have no common factors other than one.</p>
<p>To fully simplify a fraction that is not already in its simplest form, divide the numerator and the denominator by its highest common factor.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 8
</div>
</div>
<div class="callout-body-container callout-body">
<p>Write <span class="math inline">\(\dfrac{12}{18}\)</span> in its simplest form.</p>
<p>Start by identifying the factors of both the numerator <span class="math inline">\(12\)</span> and the denominator <span class="math inline">\(18\)</span>.</p>
<p><span class="math display">\[
\begin{aligned}
\textsf{Factors of } 12 \textsf{:} &amp;\quad 1 \quad 2 \quad 3 \quad 4 \quad 6 \quad 12 \\
\textsf{Factors of } 18 \textsf{:} &amp;\quad 1 \quad 2 \quad 3 \quad 6 \quad 9 \quad 18 \\
\textsf{Common factors:} &amp;\quad 1 \quad 2 \quad 3 \quad 6 \\
\textsf{Highest common factor:} &amp;\quad 6
\end{aligned}
\]</span></p>
<p>The highest common factor is <span class="math inline">\(6\)</span>, so divide the numerator and the denominator by <span class="math inline">\(6\)</span>. <span class="math display">\[\frac{12}{18} = \frac{12 \div 6}{18 \div 6} = \frac{2}{3}\]</span></p>
<p>Therefore, the fraction <span class="math inline">\(\frac{12}{18}\)</span> can be written in its simplest form as <span class="math inline">\(\frac{2}{3}\)</span>.</p>
</div>
</div>
<p>Not all fractions can be simplified as some may already be written in their simplest form.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Example 9
</div>
</div>
<div class="callout-body-container callout-body">
<p>Consider the fraction <span class="math inline">\(\dfrac{7}{20}\)</span>.</p>
<p>Start by identifying the factors of both the numerator <span class="math inline">\(7\)</span> and the denominator <span class="math inline">\(20\)</span>. <span class="math display">\[
\begin{aligned}
\textsf{Factors of } 7 \textsf{:} &amp;\quad 1 \quad 7 \\
\textsf{Factors of } 20 \textsf{:} &amp;\quad 1 \quad 2 \quad 4 \quad 5 \quad 10 \quad 20 \\
\textsf{Common factors:} &amp;\quad 1
\end{aligned}
\]</span></p>
<p>Since the numerator and the denominator have no common factors other than <span class="math inline">\(1\)</span>, the fraction is already in its simplest form.</p>
</div>
</div>
<p>You can explore the process of simplifying fractions by using the interactive figure below. Use the sliders to pick a numerator and a denominator. The figure will show you the original fraction and the simplified fraction, list all the factors, and show you how to simplify using the highest common factor.</p>
<style>
.simplify-widget {
  display:inline-block;
  width:fit-content;
  max-width:100%;
  margin:0;
  font-family: Arial, Helvetica, sans-serif;
  color:#000;
  background-color: #f5f8ff;
  padding: 1.5rem;
  border-radius: 12px;
  box-sizing: border-box;
}
.simplify-widget input[type="range"]{
  -webkit-appearance:none; appearance:none; width:100%; height:10px; border-radius:999px; background:#C0D6FF; outline:none;
}
.simplify-widget input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%; background:#3F68B6; border:none; cursor: pointer;
}
.simplify-widget input[type="range"]::-moz-range-thumb{
  width:18px; height:18px; border-radius:50%; background:#3F68B6; border:none; cursor: pointer;
}
.simplify-widget label { font-family: Arial, Helvetica, sans-serif; color: #000; font-size: 1rem; }
.simplify-widget .slider-val { margin-left:.35rem; font-weight: normal; }

.simplify-canvases {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 1.5rem;
  margin-bottom: 0.5rem;
}
.simplify-widget .canvas-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  max-width: 220px;
}
.simplify-widget .canvas-container canvas {
  width: 100%;
  height: auto;
  border-radius: 12px;
  background: #f5f8ff;
}
.simplify-widget .frac-readout {
  font-size: 1.25rem;
  font-weight: normal;
  min-height: 1.2em;
  margin-top: 1rem;
}
.simplify-widget .frac {
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  line-height:1.05;
  font-size: 1.25rem;
  font-weight: normal;
}
.simplify-widget .frac .top,
.simplify-widget .frac .bottom {
  padding:0 .25em;
}
.simplify-widget .frac .bar {
  width:100%;
  height:0;
  border-top:2px solid currentColor;
  margin:.12em 0 .06em;
}

#simplify-readout-main {
  text-align: center;
  font-size: 1rem;
  font-weight: normal;
  padding: 0.75rem;
  background: #f5f8ff;
  border-radius: 8px;
  height: 4.5em;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 1rem;
  box-sizing: border-box;
  overflow-y: auto;
}
#simplify-factors {
  background: #fff;
  border: 1px solid #eee;
  padding: 1rem;
  border-radius: 8px;
  margin-top: 1rem;
  font-size: 0.95rem;
  line-height: 1.6;
  min-height: 8em;
  box-sizing: border-box;
}
#simplify-factors div {
  margin-bottom: 0.5rem;
  word-wrap: break-word;
  font-weight: normal;
}
#simplify-factors div:last-child {
  margin-bottom: 0;
}
#simplify-factors strong {
  font-weight: normal;
}
#simplify-factors span.factor {
  display: inline-block;
  padding: 2px 6px;
  border-radius: 4px;
  margin: 2px;
}
#simplify-factors span.factor.common {
  background: none;
}
#simplify-factors span.factor.hcf {
  background: none;
  color: inherit;
}
.simplify-controls {
  max-width: 450px;
  margin: 1.5rem auto 0;
}
</style>

<div style="display:flex; justify-content:center; margin:1rem 0;">
  <div class="simplify-widget">

    <div class="simplify-canvases">
      <div class="canvas-container">
        <canvas id="simplifyCanvas1" width="600" height="600"></canvas>
        <div id="simplifyReadout1" class="frac-readout"></div>
      </div>
      <div class="canvas-container">
        <canvas id="simplifyCanvas2" width="600" height="600"></canvas>
        <div id="simplifyReadout2" class="frac-readout"></div>
      </div>
    </div>

    <div class="simplify-controls">
      <div>
        <label for="simplify-num" style="display:block; margin-bottom:.25rem;">
          Numerator:
          <span id="simplify-numOut" class="slider-val">15</span>
        </label>
        <input id="simplify-num" type="range" min="0" max="20" value="15" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
      </div>
      <div>
        <label for="simplify-den" style="display:block; margin-bottom:.25rem;">
          Denominator:
          <span id="simplify-denOut" class="slider-val">20</span>
        </label>
        <input id="simplify-den" type="range" min="1" max="30" value="20" step="1" style="margin-top:.35rem; margin-bottom:.75rem;">
      </div>
    </div>

    <div id="simplify-factors">
      <div id="factors-num"><strong>Factors of Numerator:</strong></div>
      <div id="factors-den"><strong>Factors of Denominator:</strong></div>
      <div id="factors-common"><strong>Common Factors:</strong></div>
      <div id="factors-hcf"><strong>Highest Common Factor:</strong></div>
    </div>

    <div id="simplify-readout-main">Select a fraction to begin.</div>

  </div>
</div>

<script>
(function(){
  function ensureMathJax(cb){
    if (window.MathJax && MathJax.typesetPromise){
      cb();
      return;
    }
    if (!document.getElementById('mj-loader')){
      window.MathJax = window.MathJax || { tex:{inlineMath:[['\\(','\\)'],['$','$']]}, svg:{fontCache:'global'} };
      const s=document.createElement('script');
      s.id='mj-loader';
      s.defer=true;
      s.src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js';
      s.onload=cb;
      document.head.appendChild(s);
    } else {
      const t=setInterval(()=>{
        if(window.MathJax && MathJax.typesetPromise){
          clearInterval(t);
          cb();
        }
      },50);
    }
  }

  const cssFrac = (n,d)=>`<span class="frac"><span class="top">${n}</span><span class="bar"></span><span class="bottom">${d}</span></span>`;

  function setMJFraction(el, n, d){
    if (window.MathJax && MathJax.typesetPromise){
      el.innerHTML = `\\(\\dfrac{${n}}{${d}}\\)`;
      MathJax.typesetPromise([el]);
    } else {
      el.innerHTML = cssFrac(n,d);
    }
  }

  function setMJReadout(el, n, d, g, n_s, d_s) {
    let html = '';
    if (g === 1 || (n === 0 && d === 0)) {
       html = `\\(\\dfrac{${n}}{${d}}\\)&nbsp;is already in its simplest form.`;
    } else {
       html = `\\(\\dfrac{${n}}{${d}} = \\dfrac{${n} \\div ${g}}{${d} \\div ${g}} = \\dfrac{${n_s}}{${d_s}}\\)`;
    }
    if (window.MathJax && MathJax.typesetPromise) {
      el.innerHTML = html;
      MathJax.typesetPromise([el]);
    } else {
      if (g === 1) {
        el.innerHTML = `${n}/${d} &nbsp;is already in its simplest form.`;
      } else {
        el.innerHTML = `${n}/${d} = (${n} ÷ ${g}) / (${d} ÷ ${g}) = ${n_s}/${d_s}`;
      }
    }
  }

  const base  = "#000";
  const line  = "#000";
  const shade = "#3F68B6";

  const canvas1 = document.getElementById("simplifyCanvas1");
  const ctx1 = canvas1.getContext("2d");
  const canvas2 = document.getElementById("simplifyCanvas2");
  const ctx2 = canvas2.getContext("2d");

  const numSlider = document.getElementById("simplify-num");
  const denSlider = document.getElementById("simplify-den");
  const numOut = document.getElementById("simplify-numOut");
  const denOut = document.getElementById("simplify-denOut");

  const readout1 = document.getElementById("simplifyReadout1");
  const readout2 = document.getElementById("simplifyReadout2");
  const readoutMain = document.getElementById("simplify-readout-main");

  const factorsNum = document.getElementById("factors-num");
  const factorsDen = document.getElementById("factors-den");
  const factorsCommon = document.getElementById("factors-common");
  const factorsHcf = document.getElementById("factors-hcf");
  const factorsContainer = document.getElementById("simplify-factors");

  function gcd(a,b){
    a=Math.abs(a);
    b=Math.abs(b);
    while(b){
      const t = a % b;
      a = b;
      b = t;
    }
    return a||1;
  }

  function getFactors(num) {
    if (num === 0) return [0];
    if (num === 1) return [1];
    num = Math.abs(num);
    const factors = new Set();
    const limit = Math.floor(Math.sqrt(num));
    for (let i = 1; i <= limit; i++) {
      if (num % i === 0) {
        factors.add(i);
        factors.add(num / i);
      }
    }
    return Array.from(factors).sort((a, b) => a - b);
  }

  function paintRange(el){
    if (!el) return;
    const min = +el.min, max = +el.max, val = +el.value;
    const pct = (max > min) ? ((val - min) / (max - min)) * 100 : 0;
    el.style.background = `linear-gradient(to right, #3F68B6 0%, #3F68B6 ${pct}%, #C0D6FF ${pct}%, #C0D6FF 100%)`;
  }

  function drawCircle(canvas, ctx, numShaded, totalSlices) {
    const dpr = window.devicePixelRatio || 1;
    const cssW = canvas.clientWidth || 220;
    const cssH = canvas.clientHeight || 220;
    canvas.width = Math.round(cssW * dpr);
    canvas.height = Math.round(cssH * dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
    ctx.clearRect(0,0,cssW,cssH);

    if (totalSlices <= 0) return;

    const sizeMin = Math.min(cssW, cssH);
    const R  = sizeMin * 0.4;
    const cx = cssW/2;
    const cy = cssH/2;
    const startShift = -Math.PI/2;
    const step = 2*Math.PI / totalSlices;

    for(let k=0; k < totalSlices; k++){
      const a0 = startShift + k * step;
      const a1 = a0 + step;
      if (k < numShaded){
        ctx.beginPath();
        ctx.moveTo(cx,cy);
        ctx.arc(cx,cy,R,a0,a1);
        ctx.closePath();
        ctx.fillStyle = shade;
        ctx.fill();
      }
      ctx.beginPath();
      ctx.moveTo(cx,cy);
      ctx.lineTo(cx + R * Math.cos(a0), cy + R * Math.sin(a0));
      ctx.strokeStyle = line;
      ctx.lineWidth = 3;
      ctx.stroke();
    }
    ctx.beginPath();
    ctx.arc(cx,cy,R,0,2*Math.PI);
    ctx.lineWidth = 4;
    ctx.strokeStyle = base;
    ctx.stroke();
  }

  function update() {
    const d_val = +denSlider.value;
    if (+numSlider.max !== d_val) {
      numSlider.max = d_val;
    }
    if (+numSlider.value > d_val) {
      numSlider.value = d_val;
    }
    const n_val = +numSlider.value;
    numOut.textContent = n_val;
    denOut.textContent = d_val;
    const n = n_val;
    const d = d_val;

    if (d === 0) {
      readoutMain.innerHTML = "The denominator cannot be zero.";
      factorsNum.innerHTML = "<strong>Factors of Numerator:</strong>";
      factorsDen.innerHTML = "<strong>Factors of Denominator:</strong>";
      factorsCommon.innerHTML = "<strong>Common Factors:</strong>";
      factorsHcf.innerHTML = "<strong>Highest Common Factor:</strong>";
      setMJFraction(readout1, n, d);
      setMJFraction(readout2, "?", "?");
      ctx1.clearRect(0,0,canvas1.width,canvas1.height);
      ctx2.clearRect(0,0,canvas2.width,canvas2.height);
      paintRange(numSlider);
      paintRange(denSlider);
      return;
    }

    const g = gcd(n, d);
    const n_simple = n / g;
    const d_simple = d / g;

    const factorsN = getFactors(n);
    const factorsD = getFactors(d);
    const commonFactors = factorsN.filter(f => factorsD.includes(f));

    factorsNum.innerHTML = "<strong>Factors of \\(" + n + "\\):</strong> " + factorsN.map(f => `<span class="factor">\\(${f}\\)</span>`).join('');
    factorsDen.innerHTML = "<strong>Factors of \\(" + d + "\\):</strong> " + factorsD.map(f => `<span class="factor">\\(${f}\\)</span>`).join('');
    factorsCommon.innerHTML = "<strong>Common Factors:</strong> " + commonFactors.map(f => `<span class="factor common">\\(${f}\\)</span>`).join('');
    factorsHcf.innerHTML = `<strong>Highest Common Factor:</strong> <span class="factor hcf">\\(${g}\\)</span>`;

    if (window.MathJax && MathJax.typesetPromise) {
      MathJax.typesetPromise([factorsContainer]);
    }

    drawCircle(canvas1, ctx1, n, d);
    drawCircle(canvas2, ctx2, n_simple, d_simple);

    setMJFraction(readout1, n, d);
    setMJFraction(readout2, n_simple, d_simple);
    setMJReadout(readoutMain, n, d, g, n_simple, d_simple);

    paintRange(numSlider);
    paintRange(denSlider);
  }

  numSlider.addEventListener('input', update);
  denSlider.addEventListener('input', update);

  const resizeObserver1 = new ResizeObserver(() => update());
  resizeObserver1.observe(document.getElementById('simplifyCanvas1'));
  const resizeObserver2 = new ResizeObserver(() => update());
  resizeObserver2.observe(document.getElementById('simplifyCanvas2'));

  ensureMathJax(update);
})();
</script>

<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>All unit fractions (fractions where the numerator is one) are already in their simplest form as there are no common factors other than one.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>When both the numerator and the denominator of a fraction are negative, the negative signs cancel each other out through the simplifying process, resulting in an equivalent positive fraction. This is because you can divide the numerator and denominator by their common factor of <span class="math inline">\(-1\)</span>. <span class="math display">\[\frac{-3}{-5} = \frac{-3 \div -1}{-5 \div -1} = \frac{3}{5}\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>A common mistake is stopping before fully simplifying, such as simplifying <span class="math inline">\(\frac{12}{24}\)</span> to <span class="math inline">\(\frac{6}{12}\)</span> instead of <span class="math inline">\(\frac{1}{2}\)</span>.</p>
<p>This comes about when you simplify using a common factor that is not the highest common factor. In this case, the common factors of <span class="math inline">\(12\)</span> and <span class="math inline">\(24\)</span> are <span class="math inline">\(1\)</span>, <span class="math inline">\(2\)</span>, <span class="math inline">\(3\)</span>, <span class="math inline">\(4\)</span>, <span class="math inline">\(6\)</span> and <span class="math inline">\(12\)</span>. The highest common factor is <span class="math inline">\(12\)</span>, but the common factor <span class="math inline">\(2\)</span> was used for simplifying instead.</p>
<p>Choosing any of the common factors to simplify by is still an acceptable method that you may prefer to use over this method, but it means that you need to simplify more than once to get to the simplest form of the original fraction.</p>
</div>
</div>
<p>It is good practice to simplify fractions whenever possible. It will be particularly useful for later topics such as those explored in Guide: Arithmetic on numerical fractions, Guide: Introduction to algebraic fractions and Guide: Arithmetic on algebraic fractions.</p>
</section>
<section id="quick-check-problems" class="level1 unnumbered">
<h1 class="unnumbered">Quick check problems</h1>
<div class="webex-check webex-box">
<ol type="1">
<li>In the fraction <span class="math inline">\(\frac{7}{10}\)</span>, the number <span class="math inline">\(10\)</span> is called the <select class="webex-select"><option value="blank"></option><option value="">numerator</option><option value="answer">denominator</option><option value="">uotient</option><option value="">dividend</option></select></li>
</ol>
<!-- -->
<ol start="2" type="1">
<li>If a chocolate bar is divided into <span class="math inline">\(7\)</span> equal squares and you eat <span class="math inline">\(5\)</span> of them, what fraction of the bar have you eaten? <input class="webex-solveme nospaces" size="3" data-answer="[&quot;5/7&quot;]"></li>
</ol>
<!-- -->
<ol start="3" type="1">
<li>The fraction <span class="math inline">\(\frac{12}{5}\)</span> is an example of what type of fraction? <select class="webex-select"><option value="blank"></option><option value="">proper fraction</option><option value="answer">improper fraction</option><option value="">mixed number</option></select></li>
</ol>
<!-- -->
<ol start="4" type="1">
<li>Convert <span class="math inline">\(2\frac{1}{3}\)</span> into an improper fraction. <input class="webex-solveme nospaces" size="3" data-answer="[&quot;7/3&quot;]"></li>
</ol>
<!-- -->
<ol start="5" type="1">
<li>Which of the following fractions is equivalent to <span class="math inline">\(\frac{2}{5}\)</span>? <select class="webex-select"><option value="blank"></option><option value="">5/2</option><option value="">4/5</option><option value="answer">4/10</option><option value="">2/10</option></select></li>
</ol>
<!-- -->
<ol start="6" type="1">
<li>What is the fraction <span class="math inline">\(\frac{9}{12}\)</span> in its simplest form? <input class="webex-solveme nospaces" size="3" data-answer="[&quot;3/4&quot;]"></li>
</ol>
</div>
</section>
<section id="further-reading" class="level1 unnumbered">
<h1 class="unnumbered">Further reading</h1>
<p>For more questions on the subject, please go to Questions: Introduction to fractions.</p>
<p>To learn how to perform arithmetic on numerical fractions, please see Guide: Arithmetic on numerical fractions.</p>
<section id="version-history" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="version-history">Version history</h2>
<p>v1.0: initial version created 12/25 by Donald Campbell as part of a University of St Andrews VIP project.</p>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1">This work is licensed under CC BY-NC-SA 4.0.</a></p>


</section>
</section>

</main> <!-- /main -->
<script>

/* once a quickcheck is completed, we pass in the topic id and concatenate it into a quickcheck (qc) id
   and store that in local storage to persist across webpages so we know which topics have been completed */
function markTopicCompleted(topicId) {
  if (!topicId || typeof topicId !== 'string') { console.error('Invalid topicId:', topicId); return; }
  
  const storageKey = 'qc-completed-' + topicId;
  localStorage.setItem(storageKey, 'true');
  console.log(`Marked ${topicId} as completed (key: ${storageKey})`);
  
  updateTopicStatus(topicId); 
}

/* select all elements related to a certain topic, then check by fetching from local storage 
   whether the corresponding qc-id is marked as true for completed, or false for uncompleted 
   if so, add the "completed" css class id, for webex.css to update from a red cross to a green tick */
function updateTopicStatus(topicId) {
  const elements = document.querySelectorAll(`[data-topic="${topicId}"]`);
  const isCompleted = localStorage.getItem(`qc-completed-${topicId}`) === 'true';
  
  elements.forEach(el => {
    if (isCompleted) el.classList.add("completed");
    else el.classList.remove("completed");
  })

  console.log(`Updated UI for ${topicId}:`, isCompleted);
}

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");
  let allCorrect = false;

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) 
  {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
    if (correct === (solvemes + radiogroups + selects) && correct > 0) allCorrect = true;
  }

  if (allCorrect) // get the data-topic id for guide that just had its quick check problem fully completed and pass into chain of functions
  {
    const quickCheck = document.querySelector(".webex-check");
    const topicId = quickCheck?.getAttribute("data-topic");
    if (topicId) markTopicCompleted(topicId);
  }
}

/* used to identify each data topic element (on fullindex.html and each guide) and update the red cross to a green tick
   based on whether the corresponding quickcheck problem(s) have been completed for each respective guide */
function initializeAllTopics() {
  document.querySelectorAll('[data-topic]').forEach(el => {
    const topicId = el.getAttribute('data-topic');
    updateTopicStatus(topicId);
  });
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) cl.remove("open");
  else cl.add("open");
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) my_answer = my_answer.toLowerCase();
  if (cl.contains("nospaces")) my_answer = my_answer.replace(/ /g, "");

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if (this.dataset.tol > 0)
  {
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) cl.add("webex-correct");
    else cl.remove("webex-correct");
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) cl.add("webex-correct");
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") cl.add("webex-correct");
  else if (this.value != "blank") cl.add("webex-incorrect");

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") cl.add("webex-correct");
  else cl.add("webex-incorrect");

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++)
    if (buttons[i].parentElement.classList.contains('webex-solution')) buttons[i].onclick = b_func;

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);

  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) real_answer = real_answer.toLowerCase();
    if (cl.contains("nospaces")) real_answer = real_answer.replace(/ /g, "");
  
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) radiogroups[i].onchange = radiogroups_func;

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* check each question to see whether it was answered correctly */
  update_total_correct();

  /* check each data-topic element and update from cross to tick if 
    corresponding quick check problem has been fully completed */
  initializeAllTopics();

  /* listens for storage updates, extracts topic id from qc-id, and updates UI through topic id  */
  window.addEventListener('storage', (changeDetails) => {
    if (changeDetails.key?.startsWith('qc-completed-')) 
    {
      const topicId = changeDetails.key.replace('qc-completed-', '');
      updateTopicStatus(topicId);
    }
  });
}

</script>
<!--------------------  Email Forms -----------------------------------
        Compiled into each .html page by Quarto.
        Website hosted and form handled by Netlify now
        Mailing list provided by mailerlite
        Input verified by reCaptcha2 
        
        Authors (recent to latest): 
           Tristin Doherty (Trido)
           Mohit Agarwal (Mohit-Agarwa1)
--------------------------------------------------------------------->
<script>
  // Adds an extra layer of validation to aid user input,
  // some of these are covered by basic html form validations as well, but netlify handles everything else
  document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector("form[name='feedback']"); 
    
    form.addEventListener("submit", function(event) {
        const nameInput = document.querySelector("input[name='name']")?.value.trim();
        const emailInput = document.querySelector("input[name='email']")?.value.trim(); 
        const feedbackInput = document.querySelector("textarea[name='feedback']")?.value.trim();

        if (!nameInput)    { alert("Please enter a name."); return; }
        if (!emailInput)   { alert("Please enter an email."); return; }
        if (!feedbackInput) { alert("Please fill out the feedback field."); return; }
        
        event.preventDefault(); //allows javascript to handle submitting form details instead of HTML
        const subjectInput = document.querySelector("input[name='subject']");
                
        // sanitise inputs
        const sanitizedName = sanitizeInput(nameInput); 
        const sanitizedEmail = sanitizeEmail(emailInput);
        const sanitizedFeedback = sanitizeInput(feedbackInput);

        // validate email
        if (!validateEmail(sanitizedEmail)) { alert("Please enter a valid email address."); return; }
        subjectInput.value = "Feedback from " + sanitizedEmail; // Updates subject line with sanitised email

        form.submit();
    });
});

// Removes leading and trailing whitespace for formatting, and replaces potentially harmful characters like "<" & ">", replaces them with HTML encodings
function sanitizeInput(input) {
  input = input.trim();                                      
  input = input.replace(/</g, "&lt;").replace(/>/g, "&gt;");
  return input;
}

// remove harmful characters from email being sent to subject line, by only permitting the characters specified in .replace()
function sanitizeEmail(email) {
  email = email.trim(); 
  email = email.replace(/[^a-zA-Z0-9@._-]/g, "");
  return email;
}

// This looks incredibly complicated, but its just regex taken from here to filter for emails that follow these formatting guidelines https://regex101.com/r/3uvtNl/1
function validateEmail(email) {
  const re = /^((?:[A-Za-z0-9!#$%&'*+\-\/=?^_`{|}~]|(?<=^|\.)"|"(?=$|\.|@)|(?<=".*)[ .](?=.*")|(?<!\.)\.){1,64})(@)((?:[A-Za-z0-9.\-])*(?:[A-Za-z0-9])\.(?:[A-Za-z0-9]){2,})$/gm; 
  return re.test(email);
}

</script>

<h1>Feedback</h1>
<p>Your feedback is appreciated and useful. Feel free to leave a comment here, <br>
but please be specific with any issues you encounter so we can help to resolve them <br>
(for example, what page it occured on, what you tried, and so on). </p>

<form name="feedback" method="POST" netlify="" netlify-honeypot="bot-field">
  <p style="display: none;"><label>Don't fill this out if you're human: <input name="bot-field"></label></p>
  <input type="hidden" name="subject" value="Feedback from unknown">

  <label for="name">Name: </label>
  <br>
  <input type="text" name="name" required="">
  <br><br>
  
  <label for="email">E-mail: </label>
  <br>
  <input type="email" name="email" required="">
  <br><br>
  
  <label for="feedback">Feedback: </label>
  <br>
  <textarea rows="5" cols="50" placeholder="Your feedback" name="feedback" required=""></textarea>
  <br><br>

  <!-- Google reCAPTCHA Widget -->
  <div class="g-recaptcha" data-sitekey="6LeiTt4qAAAAAGaEQOUljIc9e3iqDz6eH9Te_lQr"></div>
  <br>

  <button type="submit">Submit</button>
</form>

<script src="https://www.google.com/recaptcha/api.js" async="" defer=""></script>
<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      { pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.VERTICAL },
      'google_translate_element'
    );
  }
</script>

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function () {
    const targetSidebar = document.getElementById('quarto-margin-sidebar');
    if (!targetSidebar) return;

    const translateWrapper = document.createElement('div');
    translateWrapper.className = 'sidebar-section';
    translateWrapper.style.marginTop = '2em';

    const title = document.createElement('h5');
    title.innerText = 'Translate';

    const translatorDiv = document.createElement('div');
    translatorDiv.id = 'google_translate_element';

    translateWrapper.appendChild(title);
    translateWrapper.appendChild(translatorDiv);
    targetSidebar.appendChild(translateWrapper);

    const googleScript = document.createElement('script');
    googleScript.type = 'text/javascript';
    googleScript.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
    document.body.appendChild(googleScript);
  });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../about.html">
<p>About</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../fullindex.html">
<p>Index</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../cookies.html">
<p>Cookie policy</p>
</a>
  </li>  
</ul>
    <div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../license.html">
<p>STARMAST © 2025 is licensed under CC BY-NC-SA 4.0.</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>