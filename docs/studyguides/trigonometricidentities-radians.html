<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Shanelle Advani, Krish Chaudhary, Dzhemma Ruseva">

<title>Trigonometric identities (radians) â€“ STARMAST</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-L30GVCTC8L"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-L30GVCTC8L', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":"",
"website_privacy_policy_url":"cookies.qmd"
  ,
"language":"en"
  });
});
</script> 
  
<script>
  window.addEventListener('load', function() {
    document.getElementById("cc-nb-title").innerHTML = "Your privacy is important to us";
    document.getElementById("cc-nb-text").innerHTML = "This website uses Google Analytics to measure traffic to and from the site, and to learn where our users come from. We use cookies to enable this service, alongside enabling our non-identifiable QuickCheck problem tracking. These are the sole purposes of enabling cookies on this website.";
  });
</script>

<script src="https://www.desmos.com/api/v1.10/calculator.js?apiKey=2949896c7db64d4a8a380b1e11254b5f"></script>
<!-- Mailerlite snippet -->
 <script>
    (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
    .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
    n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
    (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
    ml('account', '1477275');
</script>

<script src="https://esm.sh/shinylive-r"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../webexfiles/webex.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">STARMAST</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../newsindex.html"> 
<span class="menu-text">News</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../fullindex.html"> 
<span class="menu-text">Index</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../studyguidelist.html"> 
<span class="menu-text">Study guides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../qalist.html"> 
<span class="menu-text">Questions and answers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../olist.html"> 
<span class="menu-text">Facts and proofs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../applist.html"> 
<span class="menu-text">Apps</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <div id="quarto-announcement" data-announcement-id="676f7048d68ffa478efc20310eb54d5a" class="alert alert-success hidden"><i class="bi bi-database-add quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Latest content:</strong> New guide on introduction to hypothesis testing available now! (25/04/25)</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-a-trigonometric-identity" id="toc-what-is-a-trigonometric-identity" class="nav-link active" data-scroll-target="#what-is-a-trigonometric-identity">What is a trigonometric identity?</a></li>
  <li><a href="#pythagorean-identities" id="toc-pythagorean-identities" class="nav-link" data-scroll-target="#pythagorean-identities">Pythagorean identities</a></li>
  <li><a href="#sum-and-difference-identities" id="toc-sum-and-difference-identities" class="nav-link" data-scroll-target="#sum-and-difference-identities">Sum and difference identities</a></li>
  <li><a href="#double-angle-identities" id="toc-double-angle-identities" class="nav-link" data-scroll-target="#double-angle-identities">Double angle identities</a></li>
  <li><a href="#other-trigonometric-identities" id="toc-other-trigonometric-identities" class="nav-link" data-scroll-target="#other-trigonometric-identities">Other trigonometric identities</a>
  <ul class="collapse">
  <li><a href="#phase-shift-identities" id="toc-phase-shift-identities" class="nav-link" data-scroll-target="#phase-shift-identities">Phase shift identities</a></li>
  <li><a href="#parity-identities" id="toc-parity-identities" class="nav-link" data-scroll-target="#parity-identities">Parity identities</a></li>
  <li><a href="#half-angle-identities" id="toc-half-angle-identities" class="nav-link" data-scroll-target="#half-angle-identities">Half-angle identities</a></li>
  <li><a href="#product-to-sum-and-sum-to-product-identities" id="toc-product-to-sum-and-sum-to-product-identities" class="nav-link" data-scroll-target="#product-to-sum-and-sum-to-product-identities">Product-to-sum and sum-to-product identities:</a>
  <ul class="collapse">
  <li><a href="#product-to-sum-identities" id="toc-product-to-sum-identities" class="nav-link" data-scroll-target="#product-to-sum-identities">Product-to-sum identities</a></li>
  <li><a href="#sum-to-product-identities" id="toc-sum-to-product-identities" class="nav-link" data-scroll-target="#sum-to-product-identities">Sum-to-product identities</a></li>
  </ul></li>
  <li><a href="#quick-check-problems" id="toc-quick-check-problems" class="nav-link" data-scroll-target="#quick-check-problems">Quick check problems</a></li>
  </ul></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further reading</a>
  <ul class="collapse">
  <li><a href="#version-history-and-licensing" id="toc-version-history-and-licensing" class="nav-link" data-scroll-target="#version-history-and-licensing">Version history and licensing</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="trigonometricidentities-radians.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="trigonometricidentities-radians.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Trigonometric identities (radians)</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Geometry</div>
    <div class="quarto-category">Trigonometry</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Shanelle Advani, Krish Chaudhary, Dzhemma Ruseva </p>
          </div>
  </div>
    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Summary</div>
    Trigonometric identities are equations expressed in terms of trigonometric functions that hold true for all values of the variable defined. It is important to familiarize yourself with the standard trigonometric identities as they come in handy later whether that be for deriving further trigonometric identities or solving integrals involving trigonometric functions.
  </div>
</div>


</header>


<p><em>Before reading this guide, it is recommended that you read <a href="../studyguides/trigonometry-radians.html">Guide: Trigonometry (radians)</a> (or <a href="../studyguides/trigonometry-degrees.html">Guide: Trigonometry (degrees)</a> first.</em></p>
<p><strong>Radians are used throughout this guide; please see <a href="../studyguides/radians.html">Guide: Introduction to radians</a> for more. If you would like to see this guide using degrees, please see <a href="../studyguides/trigonometricidentities-degrees.html">Guide: Trigonometric identities (degrees)</a>.</strong></p>
<section id="what-is-a-trigonometric-identity" class="level1 unnumbered">
<h1 class="unnumbered">What is a trigonometric identity?</h1>
<p><strong>Trigonometric identities</strong> are rules that can help you solve certain types of problems involving triangles, angles, and cycles more easily.</p>
<p>For example, if you are trying to find out information about a right triangle â€“ maybe you know the length of one side and the size of one angle, and you want to find out the length of another side â€“ trigonometric identities can help you do that.</p>
<p>In <a href="../studyguides/trigonometry-radians.html">Guide: Trigonometry (radians)</a> (or <a href="../studyguides/trigonometry-degrees.html">Guide: Trigonometry (degrees)</a>) you have seen the sine (<span class="math inline">\(\sin\)</span>), cosine (<span class="math inline">\(\cos\)</span>), and tangent (<span class="math inline">\(\tan\)</span>) functions, as well as secant (<span class="math inline">\(\sec\)</span>), cosecant (<span class="math inline">\(\csc\)</span>), and cotangent (<span class="math inline">\(\cot\)</span>). These functions are a way of relating the angles and sides of a triangle.</p>
<p>Trigonometric identities are used in numerous fields of study, such as physics, engineering, astronomy, architecture, and even geography, so the knowledge you gather here could potentially be used in further studies. In particular, trigonometric identities are a key component in calculus.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition of trigonometric identity
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>trigonometric identity</strong> is a mathematical equation that is <strong>always</strong> true for any values of the variables where both sides of the equation are defined, and that involves trigonometric functions.</p>
<p>These identities can be derived from the definitions of these trigonometric functions and the Pythagorean theorem, and they hold for all real numbers.</p>
<p>In more technical terms, these identities are equalities that involve trigonometric functions and are true for every single value of the occurring variables. Itâ€™s important to understand that trigonometric identities are not equations to solve for variables, but rather, they are tools to simplify trigonometric expressions or to solve other trigonometric equations.</p>
</div>
</div>
<p>There are several fundamental types of trigonometric identities. Each type provides a different way of relating the various trigonometric functions to one another.</p>
</section>
<section id="pythagorean-identities" class="level1 unnumbered">
<h1 class="unnumbered">Pythagorean identities</h1>
<p>One of the most celebrated theorems in mathematics is the Pythagorean theorem, which relates the two shorter sides of a right-angled triangle to its longer side (the hypotenuse). Since trigonometric functions are closely related to right-angled triangles, you can rephrase Pythagorasâ€™ theorem in terms of trigonometric functions.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pythagorean identities
</div>
</div>
<div class="callout-body-container callout-body">
<p>The key Pythagorean identity is <span id="eq-cossin"><span class="math display">\[\cos^2(\theta) + \sin^2(\theta)  = 1. \tag{1}\]</span></span> Dividing <a href="#eq-cossin" class="quarto-xref">Equation&nbsp;1</a> by <span class="math inline">\(\cos^2(\theta)\)</span> gives <span id="eq-tansec"><span class="math display">\[1 + \tan^2(\theta) = \sec^2(\theta) \tag{2}\]</span></span> and dividing <a href="#eq-cossin" class="quarto-xref">Equation&nbsp;1</a> by <span class="math inline">\(\sin^2(\theta)\)</span> gives <span id="eq-cotcsc"><span class="math display">\[\cot^2(\theta) + 1 = \csc^2(\theta) \tag{3}\]</span></span></p>
</div>
</div>
<p>&nbsp;</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Simplify <span class="math inline">\(6 + 12\sin^2(\theta) + 15\cos^2(\theta)\)</span> as much as possible.</p>
<p><strong>Solution</strong>: Here, you are looking for any instances of <span class="math inline">\(\cos^2(\theta) + \sin^2(\theta)\)</span>. You can see that <span class="math inline">\(15 = 12 + 3\)</span> and so <span class="math inline">\(15\cos^2(\theta) = 12\cos^2(\theta) + 3\cos^2(\theta)\)</span>. So you can then factorise and write <span class="math display">\[6 + 12\sin^2(\theta) + 15\cos^2(\theta) = 6 + 12(\sin^2(\theta) + \cos^2(\theta)) + 3\cos^2(\theta)\]</span> Since <span class="math inline">\(\sin^2(\theta) + \cos^2(\theta) = 1\)</span>, you can then write <span class="math display">\[6 + 12(\sin^2(\theta) + \cos^2(\theta)) + 3\cos^2(\theta) = 6 + 12(1) + 3\cos^2(\theta)\]</span> and so <span class="math display">\[6 + 12\sin^2(\theta) + 15\cos^2(\theta) = 18 + 3\cos^2(\theta)\]</span> and this is as far as you can go.</p>
</div>
</div>
<p>&nbsp;</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Simplify <span class="math inline">\(\sin(\theta)(\csc(\theta) - \sin(\theta))\)</span> to an expression involving <span class="math inline">\(\cos(\theta)\)</span>.</p>
<p><strong>Solution</strong>:</p>
<p>Here, you will need to use the definition of <span class="math inline">\(\csc(\theta)\)</span>, which is <span class="math inline">\(1/\sin(\theta)\)</span>. Writing this in gives <span class="math display">\[\sin(\theta)\left(\csc(\theta) - \sin(\theta)\right) = \sin(\theta)\left(\frac{1}{\sin(\theta)} - \sin(\theta)\right)\]</span> Expanding the brackets gives <span class="math display">\[\sin(\theta)\left(\frac{1}{\sin(\theta)} - \sin(\theta)\right) = \frac{\sin(\theta)}{\sin(\theta)} - \sin^2(\theta) = 1 -\sin^2(\theta)\]</span> Now, you can rearrange <span class="math inline">\(\cos^2(\theta) + \sin^2(\theta) = 1\)</span> to <span class="math inline">\(\cos^2(\theta) = 1 - \sin^2(\theta)\)</span>, and so <span class="math display">\[\sin(\theta)(\csc(\theta) - \sin(\theta)) = 1 - \sin^2(\theta) = \cos^2(\theta)\]</span> and you are done!</p>
</div>
</div>
<!-- 3.  **Quotient identities**: These express $\tan$ and $\cot$ in terms of $\sin$ and $\cos$. -->
<!--     -   $\tan(\theta) = \frac{\sin(\theta)}{\cos(\theta)}$ -->
<!--     -   $\cot(\theta) = \frac{\cos(\theta)}{\sin(\theta)}$ -->
<!-- ::: {.callout-note appearance="simple"} -->
<!-- ## Example 3.1 -->
<!-- ## Shift identities  -->
<!-- Sometimes, you may have to write an equivalence between a particular value of sin  These express $\sin$, $\cos$, and $\tan$ in terms of each other. These identities are known as  -->
<!--     -   $\sin(\frac{\pi}{2}-\theta)$ = $\cos(\theta)$ -->
<!--     -   $\cos(\frac{\pi}{2}-\theta)$ = $\sin(\theta)$ -->
<!--     -   $\tan(\frac{\pi}{2}-\theta)$ = $\cot(\theta)$ -->
<!-- ::: {.callout-note appearance="simple"} -->
<!-- ## Example 5 -->
<!-- Find $\cos(\theta)$, given $\sin(55\circ)$ -->
<!-- **Solution**: -->
<!-- $\cos(\theta)$ = $\sin(90\circ-\theta)$ -->
<!-- $\sin(55\circ)$ = $\sin(90\circ-\theta)$ -->
<!-- $90\circ-\theta$ = $55\circ$ -->
<!-- $\theta$ = $35\circ$ -->
<!-- $\cos(\theta)$ = $\cos(35\circ)$ -->
<!-- ::: -->
</section>
<section id="sum-and-difference-identities" class="level1">
<h1>Sum and difference identities</h1>
<p>Sometimes, you will have to find exact values of trigonometric functions for certain angles, or to split an expression like <span class="math inline">\(\cos(x+h)\)</span> to be simplified further. To do this, you can use <strong>sum and difference identities</strong>. These express the sine, cosine, or tangent of the sum or difference of two angles in terms of sines, cosines and tangents of the angles.</p>
<p>For sine: <span id="eq-sinsum"><span class="math display">\[\sin(\alpha \pm \beta) = \sin(\alpha)\cos(\beta) \pm \cos(\alpha)\sin(\beta) \tag{4}\]</span></span></p>
<p>For cosine, take care with the <span class="math inline">\(\mp\)</span> sign in the middle of the right hand side: <span id="eq-cossum"><span class="math display">\[\cos(\alpha \pm \beta) = \cos(\alpha)\cos(\beta) \mp \sin(\alpha)\sin(\beta) \tag{5}\]</span></span></p>
<p>And for tangent, note the <span class="math inline">\(\pm\)</span> sign in the numerator and the <span class="math inline">\(\mp\)</span> sign in the denominator. <span id="eq-tansum"><span class="math display">\[\tan(\alpha \pm \beta) = \frac{\tan(\alpha) \pm \tan(\beta)}{(1 \mp \tan(\alpha)\tan(\beta))} \tag{6}\]</span></span></p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3
</div>
</div>
<div class="callout-body-container callout-body">
<p>Find the value of <span class="math inline">\(\tan(\pi/12)\)</span>.</p>
<p><strong>Solution</strong>: To solve this problem, you will need a good knowledge of the tangent function applied to common angles; see the table of common angles found in <a href="../studyguides/trigonometry-radians.html">Guide: Trigonometry (radians)</a>. First of all, you can see that</p>
<p><span class="math display">\[\tan(\pi/12) = \tan(\pi/4 - \pi/6)\]</span> Next, using <a href="#eq-tansum" class="quarto-xref">Equation&nbsp;6</a> you can write that <span class="math display">\[\tan(\pi/4 - \pi/6) = \frac{\tan(\pi/4) - \tan(\pi/6)}{1 + \tan(\pi/4)\tan(\pi/6)}\]</span> Using the fact that <span class="math inline">\(\tan(\pi/4) = 1\)</span> and <span class="math inline">\(\tan(\pi/6) = 1/\sqrt{3}\)</span>, you can write that <span class="math display">\[\frac{\tan(\pi/4) - \tan(\pi/6)}{1 + \tan(\pi/4)\tan(\pi/6)} = \frac{1 - \frac{1}{\sqrt{3}}}{1 + (1)\left(\frac{1}{\sqrt{3}}\right)}\]</span></p>
<p>Simplifying the numerator and denominator by cross multiplication gives: <span class="math display">\[\frac{1 - \frac{1}{\sqrt{3}}}{1 + (1)\left(\frac{1}{\sqrt{3}}\right)} = \frac{\frac{\sqrt{3} - 1}{\sqrt{3}}}{
\frac{\sqrt{3} + 1}{\sqrt{3}}} = \frac{\sqrt{3} - 1}{\sqrt{3} + 1}\]</span> So <span class="math inline">\(\tan(\pi/12) = \frac{\sqrt{3} - 1}{\sqrt{3} + 1}\)</span>. You can leave your answer like this if you wish; but if you prefer to rationalize your denominator (see [Guide: Rationalizing the denominator] for more) then you can say that <span class="math inline">\(\tan(\pi/12) = 2 - \sqrt{3}\)</span>.</p>
</div>
</div>
</section>
<section id="double-angle-identities" class="level1">
<h1>Double angle identities</h1>
<p>Important consequences of the sum identities follow when you let <span class="math inline">\(\alpha = \beta\)</span>. These are the well known <strong>double-angle identities</strong>, and are extremely useful in areas of calculus. These express the sine, cosine, or tangent of twice an angle <span class="math inline">\(\theta\)</span> in terms of <span class="math inline">\(\sin(\theta)\)</span>, <span class="math inline">\(\cos(\theta)\)</span> and <span class="math inline">\(\tan(\theta)\)</span>. The formulas are</p>
<p><span id="eq-twosin"><span class="math display">\[\sin(2\theta) = 2\sin(\theta)\cos(\theta) \tag{7}\]</span></span></p>
<p><span id="eq-twocos"><span class="math display">\[\cos(2\theta) = \cos^2(\theta) - \sin^2(\theta) \tag{8}\]</span></span></p>
<p><span id="eq-twotan"><span class="math display">\[\tan(2\theta) = \frac{2\tan(\theta)}{1 - \tan^2(\theta)} \tag{9}\]</span></span></p>
<p>These identities are particularly useful for doing calculus; as you will see in Guide: Trigonometry and integration, <span class="math inline">\(\cos(2x)\)</span> is far easier to integrate than <span class="math inline">\(\cos^2(x)\)</span>!</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Write <span class="math inline">\(\cos^2(x)\)</span> in terms of <span class="math inline">\(\cos(2x)\)</span>.</p>
<p><strong>Solution</strong>: Start with the identity <span class="math display">\[\cos(2x) = \cos^2(x) - \sin^2(x)\]</span> Next, you know from <a href="#eq-cossin" class="quarto-xref">Equation&nbsp;1</a> that <span class="math inline">\(\cos^2(x) + \sin^2(x) = 1\)</span>. The question wants you to write <span class="math inline">\(\cos^2(x)\)</span> in terms of <span class="math inline">\(\cos(2x)\)</span>, so the <span class="math inline">\(\sin^2(x)\)</span> term needs to be eliminated. Using <a href="#eq-cossin" class="quarto-xref">Equation&nbsp;1</a>, you can write that <span class="math inline">\(\sin^2(x) = 1 - \cos^2(x)\)</span>. Taking care of the signs, you can substitute this into the expression for <span class="math inline">\(\cos(2x)\)</span> to get: <span class="math display">\[\begin{align*}
\cos(2x) &amp;= \cos^2(x) - (1-\cos^2(x))\\[1em]
&amp;= 2\cos^2(x) - 1
\end{align*}\]</span> You can now rearrange this to make <span class="math inline">\(\cos^2(x)\)</span> the subject. Adding <span class="math inline">\(1\)</span> to both sides and then dividing by <span class="math inline">\(2\)</span> gives <span class="math display">\[\frac{1}{2}\left(\cos(2x) + 1\right) = \cos^2(x)\]</span> and this is your final answer.</p>
</div>
</div>
<p>Using a similar method, you can also show that <span class="math inline">\(\sin^2(x) = \frac{1}{2}\left(1 - \cos(2x)\right)\)</span>.</p>
</section>
<section id="other-trigonometric-identities" class="level1">
<h1>Other trigonometric identities</h1>
<p>There are many other kinds of identities relating trigonometric functions. Four more types of trigonometric identity are given below: <strong>phase shift identities</strong>, <strong>parity identities</strong>, <strong>half-angle identities</strong>, and <strong>sum-to-product identities</strong>. Both phase shift and parity identities will allow you to work out angles involving multiple revolutions or even negative angles. Half-angle and sum-to-product/product-to-sum identities are especially useful in calculus.</p>
<section id="phase-shift-identities" class="level2">
<h2 class="anchored" data-anchor-id="phase-shift-identities">Phase shift identities</h2>
<p>As seen in <a href="../studyguides/trigonometry-degrees.html">Guide: Trigonometry (degrees)</a>, you can use the unit circle to add or subtract an angle to your <span class="math inline">\(\theta\)</span> and find yourself on another point of the unit circle.</p>
<p>For example, suppose that you were to shift the angle by <span class="math inline">\(\pi/2\)</span> in some direction. Then the distance that was projected on the <span class="math inline">\(x\)</span>-axis is now projected on the <span class="math inline">\(y\)</span>-axis and vice versa. This would lead to a change between <span class="math inline">\(\sin(\theta)\)</span> and <span class="math inline">\(\cos(\theta)\)</span>. These lead to the following properties.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Phase shift with <span class="math inline">\(\pi/2\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<!--need corrections-->
<p><span class="math display">\[\sin(\theta\pm \pi/2) = \pm\cos(\theta) \qquad  \cos(\theta\pm\pi/2) = \mp\sin(\theta)\]</span> <span class="math display">\[\sin(\pi/2-\theta) = \cos(\theta) \qquad \cos(\pi/2-\theta) = \sin(\theta) \]</span></p>
</div>
</div>
<p>When you move <span class="math inline">\(\pi\)</span> you get to the opposite side of the unit circle. This would lead to a change of sign as you go on the same distance, on the other side of the axis.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Phase shift with <span class="math inline">\(\pi\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<!--need corrections-->
<p><span class="math display">\[\sin(\theta+\pi) = \sin(\theta-\pi) = -\sin(\theta) \qquad \cos(\theta+\pi) = \cos(\theta-\pi) = -\cos(\theta)\]</span></p>
<p>and so <span class="math display">\[\tan(\theta+\pi) = \tan(\theta-\pi) = \tan(\theta)\]</span></p>
</div>
</div>
<p>When you move <span class="math inline">\(2\pi\)</span> radians you get back to where you started. Therefore:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Phase shift with <span class="math inline">\(2\pi\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<!--need corrections-->
<p><span class="math display">\[\sin(\theta+2\pi) = \sin(\theta) \qquad \cos(\theta+2\pi) = \cos(\theta)\]</span></p>
</div>
</div>
<p>Following these two results, you can say that <span class="math inline">\(\sin\)</span> and <span class="math inline">\(\cos\)</span> are <strong>periodic</strong> with period <span class="math inline">\(2\pi\)</span>. In fact, for any whole number <span class="math inline">\(k\)</span> (both positive and negative), you can say that</p>
<p><span class="math display">\[\sin(\theta+2k\pi) = \sin(\theta) \qquad \cos(\theta+2k\pi) = \cos(\theta)\]</span></p>
<p>For more on this, see guide on <a href="">Guide: Multiple revolutions and negative angles</a>. You can use these equations to work out more trigonometric values:</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 5
</div>
</div>
<div class="callout-body-container callout-body">
<p>Using the fact that <span class="math inline">\(\cos(\pi/3) = 1/2\)</span> and <span class="math inline">\(\sin(\pi/3) = \sqrt{3}/2\)</span>, you can work out the values of <span class="math inline">\(\cos(13\pi/3)\)</span> and <span class="math inline">\(\sin(-23\pi/3)\)</span>. Here, you can write <span class="math display">\[\frac{13\pi}{3} = \frac{12\pi}{3} + \frac{\pi}{3} = 4\pi + \frac{\pi}{3}\]</span> and so <span class="math display">\[\cos\left(\frac{13\pi}{3}\right) = \cos\left(4\pi + \frac{\pi}{3}\right) = \cos\left(\frac{\pi}{3}\right) = \frac{1}{2}.\]</span> Similarly <span class="math display">\[-\frac{23\pi}{3} = -\frac{24\pi}{3} + \frac{\pi}{3} = -8\pi + \frac{\pi}{3}\]</span> and so <span class="math display">\[\sin\left(-\frac{23\pi}{3}\right) = \sin\left(-8\pi + \frac{\pi}{3}\right) = \sin\left(\frac{\pi}{3}\right) = \frac{\sqrt{3}}{2}.\]</span></p>
</div>
</div>
</section>
<section id="parity-identities" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="parity-identities">Parity identities</h2>
<p>Taking the lead from the theory of even and odd functions (see [Guide: Even and odd functions]), the <strong>parity identities</strong> demonstrate that <span class="math inline">\(\cos\)</span> is an even function and that <span class="math inline">\(\sin\)</span> and <span class="math inline">\(\tan\)</span> are both odd functions:</p>
<p><span class="math display">\[\begin{align*}
\cos(-\theta) &amp;= \cos(\theta)\\[1em]
\sin(-\theta) &amp;= -\sin(\theta)\\[1em]
\tan(-\theta) &amp;= -\tan(\theta)
\end{align*}\]</span></p>
<p>Together with the table for common angles as seen in <a href="../studyguides/trigonometry-radians.html">Guide: Trigonometry (radians)</a> (or <a href="../studyguides/trigonometry-degrees.html">Guide: Trigonometry (degrees)</a>), you can use the parity identities to find values of trigonometric functions for common negative angles (see <a href="">Guide: Multiple revolutions and negative values</a> for more):</p>
<table class="caption-top table">
<caption>Trigonometric values for negative angles.</caption>
<colgroup>
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Angles</th>
<th style="text-align: left;"><span class="math inline">\(0\)</span></th>
<th style="text-align: left;"><span class="math inline">\(-\pi/6\)</span></th>
<th style="text-align: left;"><span class="math inline">\(-\pi/4\)</span></th>
<th style="text-align: left;"><span class="math inline">\(-\pi/3\)</span></th>
<th style="text-align: left;"><span class="math inline">\(-\pi/2\)</span></th>
<th style="text-align: left;"><span class="math inline">\(-\pi\)</span></th>
<th style="text-align: left;"><span class="math inline">\(-3\pi/2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\sin(\theta)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(0\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-\frac{1}{2}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-\frac{1}{\sqrt{2}}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-\frac{\sqrt{3}}{2}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-1\)</span></td>
<td style="text-align: left;"><span class="math inline">\(0\)</span></td>
<td style="text-align: left;"><span class="math inline">\(1\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\cos(\theta)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(1\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{\sqrt{3}}{2}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{1}{\sqrt{2}}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{1}{2}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(0\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-1\)</span></td>
<td style="text-align: left;"><span class="math inline">\(0\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\tan(\theta)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(0\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-\frac{1}{\sqrt{3}}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-1\)</span></td>
<td style="text-align: left;"><span class="math inline">\(-\sqrt{3}\)</span></td>
<td style="text-align: left;">undef.</td>
<td style="text-align: left;"><span class="math inline">\(0\)</span></td>
<td style="text-align: left;">undef.</td>
</tr>
</tbody>
</table>
</section>
<section id="half-angle-identities" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="half-angle-identities">Half-angle identities</h2>
<p>By rearranging the double angle identities and writing an angle <span class="math inline">\(\theta\)</span> as <span class="math inline">\(2\cdot\frac{\theta}{2}\)</span>, you can obtain expressions for the sine, cosine, or tangent of half an angle in terms of the square roots of expressions involving the sine, cosine, or tangent of the angle:</p>
<p><span class="math display">\[\sin\left(\frac{\theta}{2}\right) = \pm\sqrt{\frac{(1 - \cos(\theta))}{2}}\]</span> <span class="math display">\[\cos\left(\frac{\theta}{2}\right) = \pm\sqrt{\frac{(1 + \cos(\theta))}{2}}\]</span> <span class="math display">\[\tan\left(\frac{\theta}{2}\right) = \pm\sqrt{\frac{(1 - \cos(\theta))}{(1 + \cos(\theta))}}= \frac{\sin(\theta)}{(1 + \cos(\theta))} = \frac{(1-\cos(\theta))}{\sin(\theta)}\]</span></p>
</section>
<section id="product-to-sum-and-sum-to-product-identities" class="level2">
<h2 class="anchored" data-anchor-id="product-to-sum-and-sum-to-product-identities">Product-to-sum and sum-to-product identities:</h2>
<p>These allow you to express products of sine and cosine as sums/differences of sine and cosine, and also the other way around:</p>
<section id="product-to-sum-identities" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="product-to-sum-identities">Product-to-sum identities</h3>
<p><span class="math display">\[\sin(\alpha) \cos(\beta) = \frac{1}{2}\left(\sin(\alpha+\beta) + \sin(\alpha-\beta)\right)\]</span> <span class="math display">\[\cos(\alpha) \cos(\beta) = \frac{1}{2}\left(\cos(\alpha+\beta) + \cos(\alpha-\beta)\right)\]</span> <span class="math display">\[\sin(\alpha) \sin(\beta) = \frac{1}{2}\left(\cos(\alpha-\beta) - \cos(\alpha+\beta)\right)\]</span></p>
</section>
<section id="sum-to-product-identities" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sum-to-product-identities">Sum-to-product identities</h3>
<p><span class="math display">\[\sin(\alpha) + \sin(\beta) = 2 \sin\left(\frac{\alpha+\beta}{2}\right) \cos\left(\frac{\alpha-\beta}{2}\right)\]</span> <span class="math display">\[\sin(\alpha) - \sin(\beta) = 2 \cos\left(\frac{\alpha+\beta}{2}\right) \sin\left(\frac{\alpha-\beta}{2}\right)\]</span> <span class="math display">\[\cos(\alpha) + \cos(\beta) = 2 \cos\left(\frac{\alpha+\beta}{2}\right) \cos\left(\frac{\alpha-\beta}{2}\right)\]</span> <span class="math display">\[\cos(\alpha) - \cos(\beta) = -2 \sin\left(\frac{\alpha+\beta}{2}\right) \sin\left(\frac{\alpha-\beta}{2}\right)\]</span> Together with the half-angle identities, the sum-to-product and the product-to-sum identities can be incredibly useful in integrating trigonometric functions and in simplifying more complicated trigonometric expressions.</p>
<!-- 10. **Periodicity Identities**: Also known as the circular identities, they come from the cyclic nature of the trigonometric functions which repeat their values in a specific pattern. These have to be subdivided as their nature varies based on sine, cosecant and tangent. -->
<!-- -   ***Sine and Cosine*** are periodic functions with a period of $2\pi$. This is due to their relationship with the unit circle which has a circumference of $2\pi$. So, for any angle $\theta$, -->
<!--     -   $\sin(\theta + 2\pi) = \sin(\theta)$ -->
<!--     -   $\cos(\theta + 2\pi) = \cos(\theta)$ -->
<!-- -   ***Tangent and Cotangent*** have a period of $\pi$, as they repeat their values every half rotation on the unit circle. Thus, for any angle $\theta$, -->
<!--     -   $\tan(\theta + \pi) = \tan(\theta)$ -->
<!--     -   $\cot(\theta + \pi) = \cot(\theta)$ -->
<!-- -   ***Secant and Cosecant*** are periodic functions with a period of $2\pi$, like sine and cosine. For any angle $\theta$, -->
<!--     -   $\sec(\theta + 2\pi) = \sec(\theta)$ -->
<!--     -   $\csc(\theta + 2\pi) = \csc(\theta)$ -->
</section>
</section>
<section id="quick-check-problems" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="quick-check-problems">Quick check problems</h2>
<div class="webex-check webex-box" data-topic="TIR1">
<p>You are given ten trigonometric expressions below. Match the correct number to the correct letter to form a valid trigonometric identity.</p>
<ol type="1">
<li><span class="math inline">\(\sec^2(\theta) - \tan^2(\theta)\)</span></li>
<li><span class="math inline">\(\cos^2(\theta) - \sin^2(\theta)\)</span></li>
<li><span class="math inline">\(2\sin(\theta)\cos(\theta)\)</span></li>
<li><span class="math inline">\(\cos(-\theta)(1-\sin^2(\theta))\)</span></li>
<li><span class="math inline">\(\cos^2(\theta) + \sin^2(\theta) + \cot^2(\theta)\)</span></li>
</ol>
<ol type="a">
<li><span class="math inline">\(\csc^2(\theta) =\)</span> <select class="webex-select"><option value="blank"></option><option value="">(1)</option><option value="">(2)</option><option value="">(3)</option><option value="">(4)</option><option value="answer">(5)</option></select></li>
<li><span class="math inline">\(1 =\)</span> <select class="webex-select"><option value="blank"></option><option value="answer">(1)</option><option value="">(2)</option><option value="">(3)</option><option value="">(4)</option><option value="">(5)</option></select></li>
<li><span class="math inline">\(\cos^3(\theta) =\)</span> <select class="webex-select"><option value="blank"></option><option value="">(1)</option><option value="">(2)</option><option value="">(3)</option><option value="answer">(4)</option><option value="">(5)</option></select></li>
<li><span class="math inline">\(\sin(2\theta) =\)</span> <select class="webex-select"><option value="blank"></option><option value="">(1)</option><option value="">(2)</option><option value="answer">(3)</option><option value="">(4)</option><option value="">(5)</option></select></li>
<li><span class="math inline">\(\cos(2\theta) =\)</span> <select class="webex-select"><option value="blank"></option><option value="">(1)</option><option value="answer">(2)</option><option value="">(3)</option><option value="">(4)</option><option value="">(5)</option></select></li>
</ol>
</div>
</section>
</section>
<section id="further-reading" class="level1 unnumbered">
<h1 class="unnumbered">Further reading</h1>
<p><a href="../questions/qs-trigonometricidentities-radians.html">For more questions on the subject, please go to Questions: Trigonometric identities (radians).</a></p>
<p><a href="../studyguides/trigonometricidentities-degrees.html">To see this guide using degrees as a measure of angle, please go to Guide: Trigonometric identities (degrees).</a></p>
<!-- [To understand where these identities came from, please go to Proof: Trigonometric identities.](../proofsheets/ps-trigonometricidentities.qmd) -->
<section id="version-history-and-licensing" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="version-history-and-licensing">Version history and licensing</h2>
<p>v1.0: initial version created 08/23 by Krish Chaudhary, Shanelle Advani, Dzhemma Ruseva as part of a University of St Andrews STEP project.</p>
<ul>
<li>v1.1: edited 04/24 by tdhc, and split into versions for both degrees and radians.</li>
</ul>
<p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1">This work is licensed under CC BY-NC-SA 4.0.</a></p>


</section>
</section>

</main> <!-- /main -->
<script>

/* once a quickcheck is completed, we pass in the topic id and concatenate it into a quickcheck (qc) id
   and store that in local storage to persist across webpages so we know which topics have been completed */
function markTopicCompleted(topicId) {
  if (!topicId || typeof topicId !== 'string') { console.error('Invalid topicId:', topicId); return; }
  
  const storageKey = 'qc-completed-' + topicId;
  localStorage.setItem(storageKey, 'true');
  console.log(`Marked ${topicId} as completed (key: ${storageKey})`);
  
  updateTopicStatus(topicId); 
}

/* select all elements related to a certain topic, then check by fetching from local storage 
   whether the corresponding qc-id is marked as true for completed, or false for uncompleted 
   if so, add the "completed" css class id, for webex.css to update from a red cross to a green tick */
function updateTopicStatus(topicId) {
  const elements = document.querySelectorAll(`[data-topic="${topicId}"]`);
  const isCompleted = localStorage.getItem(`qc-completed-${topicId}`) === 'true';
  
  elements.forEach(el => {
    if (isCompleted) el.classList.add("completed");
    else el.classList.remove("completed");
  })

  console.log(`Updated UI for ${topicId}:`, isCompleted);
}

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");
  let allCorrect = false;

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) 
  {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
    if (correct === (solvemes + radiogroups + selects) && correct > 0) allCorrect = true;
  }

  if (allCorrect) // get the data-topic id for guide that just had its quick check problem fully completed and pass into chain of functions
  {
    const quickCheck = document.querySelector(".webex-check");
    const topicId = quickCheck?.getAttribute("data-topic");
    if (topicId) markTopicCompleted(topicId);
  }
}

/* used to identify each data topic element (on fullindex.html and each guide) and update the red cross to a green tick
   based on whether the corresponding quickcheck problem(s) have been completed for each respective guide */
function initializeAllTopics() {
  document.querySelectorAll('[data-topic]').forEach(el => {
    const topicId = el.getAttribute('data-topic');
    updateTopicStatus(topicId);
  });
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) cl.remove("open");
  else cl.add("open");
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) my_answer = my_answer.toLowerCase();
  if (cl.contains("nospaces")) my_answer = my_answer.replace(/ /g, "");

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if (this.dataset.tol > 0)
  {
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) cl.add("webex-correct");
    else cl.remove("webex-correct");
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) cl.add("webex-correct");
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") cl.add("webex-correct");
  else if (this.value != "blank") cl.add("webex-incorrect");

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") cl.add("webex-correct");
  else cl.add("webex-incorrect");

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++)
    if (buttons[i].parentElement.classList.contains('webex-solution')) buttons[i].onclick = b_func;

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);

  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) real_answer = real_answer.toLowerCase();
    if (cl.contains("nospaces")) real_answer = real_answer.replace(/ /g, "");
  
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) radiogroups[i].onchange = radiogroups_func;

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* check each question to see whether it was answered correctly */
  update_total_correct();

  /* check each data-topic element and update from cross to tick if 
    corresponding quick check problem has been fully completed */
  initializeAllTopics();

  /* listens for storage updates, extracts topic id from qc-id, and updates UI through topic id  */
  window.addEventListener('storage', (changeDetails) => {
    if (changeDetails.key?.startsWith('qc-completed-')) 
    {
      const topicId = changeDetails.key.replace('qc-completed-', '');
      updateTopicStatus(topicId);
    }
  });
}

</script>
<!--------------------  Email Forms -----------------------------------
        Compiled into each .html page by Quarto.
        Website hosted and form handled by Netlify now
        Mailing list provided by mailerlite
        Input verified by reCaptcha2 
        
        Authors (recent to latest): 
           Tristin Doherty (Trido)
           Mohit Agarwal (Mohit-Agarwa1)
--------------------------------------------------------------------->
<script>
  // Adds an extra layer of validation to aid user input,
  // some of these are covered by basic html form validations as well, but netlify handles everything else
  document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector("form[name='feedback']"); 
    
    form.addEventListener("submit", function(event) {
        const nameInput = document.querySelector("input[name='name']")?.value.trim();
        const emailInput = document.querySelector("input[name='email']")?.value.trim(); 
        const feedbackInput = document.querySelector("textarea[name='feedback']")?.value.trim();

        if (!nameInput)    { alert("Please enter a name."); return; }
        if (!emailInput)   { alert("Please enter an email."); return; }
        if (!feedbackInput) { alert("Please fill out the feedback field."); return; }
        
        event.preventDefault(); //allows javascript to handle submitting form details instead of HTML
        const subjectInput = document.querySelector("input[name='subject']");
                
        // sanitise inputs
        const sanitizedName = sanitizeInput(nameInput); 
        const sanitizedEmail = sanitizeEmail(emailInput);
        const sanitizedFeedback = sanitizeInput(feedbackInput);

        // validate email
        if (!validateEmail(sanitizedEmail)) { alert("Please enter a valid email address."); return; }
        subjectInput.value = "Feedback from " + sanitizedEmail; // Updates subject line with sanitised email

        form.submit();
    });
});

// Removes leading and trailing whitespace for formatting, and replaces potentially harmful characters like "<" & ">", replaces them with HTML encodings
function sanitizeInput(input) {
  input = input.trim();                                      
  input = input.replace(/</g, "&lt;").replace(/>/g, "&gt;");
  return input;
}

// remove harmful characters from email being sent to subject line, by only permitting the characters specified in .replace()
function sanitizeEmail(email) {
  email = email.trim(); 
  email = email.replace(/[^a-zA-Z0-9@._-]/g, "");
  return email;
}

// This looks incredibly complicated, but its just regex taken from here to filter for emails that follow these formatting guidelines https://regex101.com/r/3uvtNl/1
function validateEmail(email) {
  const re = /^((?:[A-Za-z0-9!#$%&'*+\-\/=?^_`{|}~]|(?<=^|\.)"|"(?=$|\.|@)|(?<=".*)[ .](?=.*")|(?<!\.)\.){1,64})(@)((?:[A-Za-z0-9.\-])*(?:[A-Za-z0-9])\.(?:[A-Za-z0-9]){2,})$/gm; 
  return re.test(email);
}

</script>

<h1>Mailing List</h1>
<div class="ml-embedded" data-form="PEpZNW"></div>
<br><br>

<h1>Feedback</h1>
<p>Your feedback is appreciated and useful. Feel free to leave a comment here, <br>
but please be specific with any issues you encounter so we can help to resolve them <br>
(for example, what page it occured on, what you tried, and so on). </p>

<form name="feedback" method="POST" netlify="" netlify-honeypot="bot-field">
  <p style="display: none;"><label>Don't fill this out if you're human: <input name="bot-field"></label></p>
  <input type="hidden" name="subject" value="Feedback from unknown">

  <label for="name">Name: </label>
  <br>
  <input type="text" name="name" required="">
  <br><br>
  
  <label for="email">E-mail: </label>
  <br>
  <input type="email" name="email" required="">
  <br><br>
  
  <label for="feedback">Feedback: </label>
  <br>
  <textarea rows="5" cols="50" placeholder="Your feedback" name="feedback" required=""></textarea>
  <br><br>

  <!-- Google reCAPTCHA Widget -->
  <div class="g-recaptcha" data-sitekey="6LeiTt4qAAAAAGaEQOUljIc9e3iqDz6eH9Te_lQr"></div>
  <br>

  <button type="submit">Submit</button>
</form>

<script src="https://www.google.com/recaptcha/api.js" async="" defer=""></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../about.html">
<p>About</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../fullindex.html">
<p>Index</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../cookies.html">
<p>Cookie policy</p>
</a>
  </li>  
</ul>
    <div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../license.html">
<p>STARMAST Â© 2025 is licensed under CC BY-NC-SA 4.0.</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>